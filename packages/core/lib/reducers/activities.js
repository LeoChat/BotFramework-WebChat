'use strict';

var cov_s0nucnt16 = (function() {
  var path = '/Users/guy/Work/Leo/leo/BotFramework-WebChat/packages/core/src/reducers/activities.js';
  var hash = '0b66cc446a2616ece078d13bd1eb82afb12bfa21';
  var global = new Function('return this')();
  var gcv = '__coverage__';
  var coverageData = {
    path: '/Users/guy/Work/Leo/leo/BotFramework-WebChat/packages/core/src/reducers/activities.js',
    statementMap: {
      '0': {
        start: {
          line: 13,
          column: 22
        },
        end: {
          line: 13,
          column: 24
        }
      },
      '1': {
        start: {
          line: 16,
          column: 2
        },
        end: {
          line: 16,
          column: 26
        }
      },
      '2': {
        start: {
          line: 20,
          column: 2
        },
        end: {
          line: 20,
          column: 72
        }
      },
      '3': {
        start: {
          line: 20,
          column: 21
        },
        end: {
          line: 20,
          column: 71
        }
      },
      '4': {
        start: {
          line: 24,
          column: 75
        },
        end: {
          line: 24,
          column: 87
        }
      },
      '5': {
        start: {
          line: 26,
          column: 24
        },
        end: {
          line: 26,
          column: 58
        }
      },
      '6': {
        start: {
          line: 27,
          column: 25
        },
        end: {
          line: 32,
          column: 3
        }
      },
      '7': {
        start: {
          line: 31,
          column: 6
        },
        end: {
          line: 31,
          column: 74
        }
      },
      '8': {
        start: {
          line: 37,
          column: 24
        },
        end: {
          line: 40,
          column: 3
        }
      },
      '9': {
        start: {
          line: 39,
          column: 6
        },
        end: {
          line: 39,
          column: 89
        }
      },
      '10': {
        start: {
          line: 43,
          column: 2
        },
        end: {
          line: 43,
          column: 97
        }
      },
      '11': {
        start: {
          line: 45,
          column: 2
        },
        end: {
          line: 45,
          column: 24
        }
      },
      '12': {
        start: {
          line: 49,
          column: 2
        },
        end: {
          line: 93,
          column: 3
        }
      },
      '13': {
        start: {
          line: 51,
          column: 6
        },
        end: {
          line: 51,
          column: 71
        }
      },
      '14': {
        start: {
          line: 51,
          column: 43
        },
        end: {
          line: 51,
          column: 68
        }
      },
      '15': {
        start: {
          line: 52,
          column: 6
        },
        end: {
          line: 52,
          column: 12
        }
      },
      '16': {
        start: {
          line: 55,
          column: 6
        },
        end: {
          line: 59,
          column: 8
        }
      },
      '17': {
        start: {
          line: 57,
          column: 21
        },
        end: {
          line: 57,
          column: 46
        }
      },
      '18': {
        start: {
          line: 58,
          column: 14
        },
        end: {
          line: 58,
          column: 27
        }
      },
      '19': {
        start: {
          line: 60,
          column: 6
        },
        end: {
          line: 60,
          column: 12
        }
      },
      '20': {
        start: {
          line: 63,
          column: 6
        },
        end: {
          line: 63,
          column: 113
        }
      },
      '21': {
        start: {
          line: 63,
          column: 103
        },
        end: {
          line: 63,
          column: 110
        }
      },
      '22': {
        start: {
          line: 64,
          column: 6
        },
        end: {
          line: 64,
          column: 12
        }
      },
      '23': {
        start: {
          line: 67,
          column: 6
        },
        end: {
          line: 71,
          column: 8
        }
      },
      '24': {
        start: {
          line: 70,
          column: 14
        },
        end: {
          line: 70,
          column: 25
        }
      },
      '25': {
        start: {
          line: 72,
          column: 6
        },
        end: {
          line: 72,
          column: 12
        }
      },
      '26': {
        start: {
          line: 75,
          column: 6
        },
        end: {
          line: 78,
          column: 8
        }
      },
      '27': {
        start: {
          line: 77,
          column: 8
        },
        end: {
          line: 77,
          column: 72
        }
      },
      '28': {
        start: {
          line: 77,
          column: 67
        },
        end: {
          line: 77,
          column: 71
        }
      },
      '29': {
        start: {
          line: 80,
          column: 6
        },
        end: {
          line: 80,
          column: 12
        }
      },
      '30': {
        start: {
          line: 85,
          column: 6
        },
        end: {
          line: 87,
          column: 7
        }
      },
      '31': {
        start: {
          line: 85,
          column: 78
        },
        end: {
          line: 85,
          column: 104
        }
      },
      '32': {
        start: {
          line: 86,
          column: 8
        },
        end: {
          line: 86,
          column: 64
        }
      },
      '33': {
        start: {
          line: 89,
          column: 6
        },
        end: {
          line: 89,
          column: 12
        }
      },
      '34': {
        start: {
          line: 92,
          column: 6
        },
        end: {
          line: 92,
          column: 12
        }
      },
      '35': {
        start: {
          line: 95,
          column: 2
        },
        end: {
          line: 95,
          column: 15
        }
      }
    },
    fnMap: {
      '0': {
        name: 'getClientActivityID',
        decl: {
          start: {
            line: 15,
            column: 9
          },
          end: {
            line: 15,
            column: 28
          }
        },
        loc: {
          start: {
            line: 15,
            column: 73
          },
          end: {
            line: 17,
            column: 1
          }
        },
        line: 15
      },
      '1': {
        name: 'findByClientActivityID',
        decl: {
          start: {
            line: 19,
            column: 9
          },
          end: {
            line: 19,
            column: 31
          }
        },
        loc: {
          start: {
            line: 19,
            column: 50
          },
          end: {
            line: 21,
            column: 1
          }
        },
        line: 19
      },
      '2': {
        name: '(anonymous_2)',
        decl: {
          start: {
            line: 20,
            column: 9
          },
          end: {
            line: 20,
            column: 10
          }
        },
        loc: {
          start: {
            line: 20,
            column: 21
          },
          end: {
            line: 20,
            column: 71
          }
        },
        line: 20
      },
      '3': {
        name: 'upsertActivityWithSort',
        decl: {
          start: {
            line: 23,
            column: 9
          },
          end: {
            line: 23,
            column: 31
          }
        },
        loc: {
          start: {
            line: 23,
            column: 58
          },
          end: {
            line: 46,
            column: 1
          }
        },
        line: 23
      },
      '4': {
        name: '(anonymous_4)',
        decl: {
          start: {
            line: 28,
            column: 4
          },
          end: {
            line: 28,
            column: 5
          }
        },
        loc: {
          start: {
            line: 31,
            column: 6
          },
          end: {
            line: 31,
            column: 74
          }
        },
        line: 31
      },
      '5': {
        name: '(anonymous_5)',
        decl: {
          start: {
            line: 38,
            column: 4
          },
          end: {
            line: 38,
            column: 5
          }
        },
        loc: {
          start: {
            line: 39,
            column: 6
          },
          end: {
            line: 39,
            column: 89
          }
        },
        line: 39
      },
      '6': {
        name: 'activities',
        decl: {
          start: {
            line: 48,
            column: 24
          },
          end: {
            line: 48,
            column: 34
          }
        },
        loc: {
          start: {
            line: 48,
            column: 83
          },
          end: {
            line: 96,
            column: 1
          }
        },
        line: 48
      },
      '7': {
        name: '(anonymous_7)',
        decl: {
          start: {
            line: 51,
            column: 31
          },
          end: {
            line: 51,
            column: 32
          }
        },
        loc: {
          start: {
            line: 51,
            column: 43
          },
          end: {
            line: 51,
            column: 68
          }
        },
        line: 51
      },
      '8': {
        name: '(anonymous_8)',
        decl: {
          start: {
            line: 57,
            column: 9
          },
          end: {
            line: 57,
            column: 10
          }
        },
        loc: {
          start: {
            line: 57,
            column: 21
          },
          end: {
            line: 57,
            column: 46
          }
        },
        line: 57
      },
      '9': {
        name: '(anonymous_9)',
        decl: {
          start: {
            line: 58,
            column: 8
          },
          end: {
            line: 58,
            column: 9
          }
        },
        loc: {
          start: {
            line: 58,
            column: 14
          },
          end: {
            line: 58,
            column: 27
          }
        },
        line: 58
      },
      '10': {
        name: '(anonymous_10)',
        decl: {
          start: {
            line: 63,
            column: 97
          },
          end: {
            line: 63,
            column: 98
          }
        },
        loc: {
          start: {
            line: 63,
            column: 103
          },
          end: {
            line: 63,
            column: 110
          }
        },
        line: 63
      },
      '11': {
        name: '(anonymous_11)',
        decl: {
          start: {
            line: 70,
            column: 8
          },
          end: {
            line: 70,
            column: 9
          }
        },
        loc: {
          start: {
            line: 70,
            column: 14
          },
          end: {
            line: 70,
            column: 25
          }
        },
        line: 70
      },
      '12': {
        name: '(anonymous_12)',
        decl: {
          start: {
            line: 75,
            column: 79
          },
          end: {
            line: 75,
            column: 80
          }
        },
        loc: {
          start: {
            line: 77,
            column: 8
          },
          end: {
            line: 77,
            column: 72
          }
        },
        line: 77
      },
      '13': {
        name: '(anonymous_13)',
        decl: {
          start: {
            line: 77,
            column: 61
          },
          end: {
            line: 77,
            column: 62
          }
        },
        loc: {
          start: {
            line: 77,
            column: 67
          },
          end: {
            line: 77,
            column: 71
          }
        },
        line: 77
      },
      '14': {
        name: '(anonymous_14)',
        decl: {
          start: {
            line: 85,
            column: 66
          },
          end: {
            line: 85,
            column: 67
          }
        },
        loc: {
          start: {
            line: 85,
            column: 78
          },
          end: {
            line: 85,
            column: 104
          }
        },
        line: 85
      }
    },
    branchMap: {
      '0': {
        loc: {
          start: {
            line: 15,
            column: 44
          },
          end: {
            line: 15,
            column: 69
          }
        },
        type: 'default-arg',
        locations: [
          {
            start: {
              line: 15,
              column: 67
            },
            end: {
              line: 15,
              column: 69
            }
          }
        ],
        line: 15
      },
      '1': {
        loc: {
          start: {
            line: 24,
            column: 23
          },
          end: {
            line: 24,
            column: 70
          }
        },
        type: 'default-arg',
        locations: [
          {
            start: {
              line: 24,
              column: 68
            },
            end: {
              line: 24,
              column: 70
            }
          }
        ],
        line: 24
      },
      '2': {
        loc: {
          start: {
            line: 28,
            column: 20
          },
          end: {
            line: 28,
            column: 45
          }
        },
        type: 'default-arg',
        locations: [
          {
            start: {
              line: 28,
              column: 43
            },
            end: {
              line: 28,
              column: 45
            }
          }
        ],
        line: 28
      },
      '3': {
        loc: {
          start: {
            line: 31,
            column: 8
          },
          end: {
            line: 31,
            column: 73
          }
        },
        type: 'binary-expr',
        locations: [
          {
            start: {
              line: 31,
              column: 8
            },
            end: {
              line: 31,
              column: 28
            }
          },
          {
            start: {
              line: 31,
              column: 32
            },
            end: {
              line: 31,
              column: 73
            }
          }
        ],
        line: 31
      },
      '4': {
        loc: {
          start: {
            line: 38,
            column: 20
          },
          end: {
            line: 38,
            column: 34
          }
        },
        type: 'default-arg',
        locations: [
          {
            start: {
              line: 38,
              column: 32
            },
            end: {
              line: 38,
              column: 34
            }
          }
        ],
        line: 38
      },
      '5': {
        loc: {
          start: {
            line: 39,
            column: 6
          },
          end: {
            line: 39,
            column: 89
          }
        },
        type: 'binary-expr',
        locations: [
          {
            start: {
              line: 39,
              column: 6
            },
            end: {
              line: 39,
              column: 43
            }
          },
          {
            start: {
              line: 39,
              column: 47
            },
            end: {
              line: 39,
              column: 64
            }
          },
          {
            start: {
              line: 39,
              column: 68
            },
            end: {
              line: 39,
              column: 89
            }
          }
        ],
        line: 39
      },
      '6': {
        loc: {
          start: {
            line: 43,
            column: 24
          },
          end: {
            line: 43,
            column: 78
          }
        },
        type: 'cond-expr',
        locations: [
          {
            start: {
              line: 43,
              column: 41
            },
            end: {
              line: 43,
              column: 54
            }
          },
          {
            start: {
              line: 43,
              column: 57
            },
            end: {
              line: 43,
              column: 78
            }
          }
        ],
        line: 43
      },
      '7': {
        loc: {
          start: {
            line: 48,
            column: 35
          },
          end: {
            line: 48,
            column: 56
          }
        },
        type: 'default-arg',
        locations: [
          {
            start: {
              line: 48,
              column: 43
            },
            end: {
              line: 48,
              column: 56
            }
          }
        ],
        line: 48
      },
      '8': {
        loc: {
          start: {
            line: 49,
            column: 2
          },
          end: {
            line: 93,
            column: 3
          }
        },
        type: 'switch',
        locations: [
          {
            start: {
              line: 50,
              column: 4
            },
            end: {
              line: 52,
              column: 12
            }
          },
          {
            start: {
              line: 54,
              column: 4
            },
            end: {
              line: 60,
              column: 12
            }
          },
          {
            start: {
              line: 62,
              column: 4
            },
            end: {
              line: 64,
              column: 12
            }
          },
          {
            start: {
              line: 66,
              column: 4
            },
            end: {
              line: 72,
              column: 12
            }
          },
          {
            start: {
              line: 74,
              column: 4
            },
            end: {
              line: 80,
              column: 12
            }
          },
          {
            start: {
              line: 82,
              column: 4
            },
            end: {
              line: 89,
              column: 12
            }
          },
          {
            start: {
              line: 91,
              column: 4
            },
            end: {
              line: 92,
              column: 12
            }
          }
        ],
        line: 49
      },
      '9': {
        loc: {
          start: {
            line: 85,
            column: 6
          },
          end: {
            line: 87,
            column: 7
          }
        },
        type: 'if',
        locations: [
          {
            start: {
              line: 85,
              column: 6
            },
            end: {
              line: 87,
              column: 7
            }
          },
          {
            start: {
              line: 85,
              column: 6
            },
            end: {
              line: 87,
              column: 7
            }
          }
        ],
        line: 85
      },
      '10': {
        loc: {
          start: {
            line: 85,
            column: 10
          },
          end: {
            line: 85,
            column: 105
          }
        },
        type: 'binary-expr',
        locations: [
          {
            start: {
              line: 85,
              column: 10
            },
            end: {
              line: 85,
              column: 44
            }
          },
          {
            start: {
              line: 85,
              column: 48
            },
            end: {
              line: 85,
              column: 105
            }
          }
        ],
        line: 85
      }
    },
    s: {
      '0': 0,
      '1': 0,
      '2': 0,
      '3': 0,
      '4': 0,
      '5': 0,
      '6': 0,
      '7': 0,
      '8': 0,
      '9': 0,
      '10': 0,
      '11': 0,
      '12': 0,
      '13': 0,
      '14': 0,
      '15': 0,
      '16': 0,
      '17': 0,
      '18': 0,
      '19': 0,
      '20': 0,
      '21': 0,
      '22': 0,
      '23': 0,
      '24': 0,
      '25': 0,
      '26': 0,
      '27': 0,
      '28': 0,
      '29': 0,
      '30': 0,
      '31': 0,
      '32': 0,
      '33': 0,
      '34': 0,
      '35': 0
    },
    f: {
      '0': 0,
      '1': 0,
      '2': 0,
      '3': 0,
      '4': 0,
      '5': 0,
      '6': 0,
      '7': 0,
      '8': 0,
      '9': 0,
      '10': 0,
      '11': 0,
      '12': 0,
      '13': 0,
      '14': 0
    },
    b: {
      '0': [0],
      '1': [0],
      '2': [0],
      '3': [0, 0],
      '4': [0],
      '5': [0, 0, 0],
      '6': [0, 0],
      '7': [0],
      '8': [0, 0, 0, 0, 0, 0, 0],
      '9': [0, 0],
      '10': [0, 0]
    },
    _coverageSchema: '43e27e138ebf9cfc5966b082cf9a028302ed4184',
    hash: '0b66cc446a2616ece078d13bd1eb82afb12bfa21'
  };
  var coverage = global[gcv] || (global[gcv] = {});

  if (coverage[path] && coverage[path].hash === hash) {
    return coverage[path];
  }

  return (coverage[path] = coverageData);
})();

var _interopRequireDefault = require('@babel/runtime/helpers/interopRequireDefault');

Object.defineProperty(exports, '__esModule', {
  value: true
});
exports['default'] = activities;

var _simpleUpdateIn = _interopRequireDefault(require('simple-update-in'));

var _deleteActivity = require('../actions/deleteActivity');

var _incomingActivity = require('../actions/incomingActivity');

var _markActivity = require('../actions/markActivity');

var _postActivity = require('../actions/postActivity');

var _ActivityClientState = require('../constants/ActivityClientState');

var DEFAULT_STATE = (cov_s0nucnt16.s[0]++, []);

function getClientActivityID(_ref) {
  var _ref$channelData = _ref.channelData;
  _ref$channelData = _ref$channelData === void 0 ? (cov_s0nucnt16.b[0][0]++, {}) : _ref$channelData;
  var clientActivityID = _ref$channelData.clientActivityID;
  cov_s0nucnt16.f[0]++;
  cov_s0nucnt16.s[1]++;
  return clientActivityID;
}

function findByClientActivityID(clientActivityID) {
  cov_s0nucnt16.f[1]++;
  cov_s0nucnt16.s[2]++;
  return function(activity) {
    cov_s0nucnt16.f[2]++;
    cov_s0nucnt16.s[3]++;
    return getClientActivityID(activity) === clientActivityID;
  };
}

function upsertActivityWithSort(activities, nextActivity) {
  cov_s0nucnt16.f[3]++;

  var _ref2 = (cov_s0nucnt16.s[4]++, nextActivity),
    _ref2$channelData = _ref2.channelData;

  _ref2$channelData = _ref2$channelData === void 0 ? (cov_s0nucnt16.b[1][0]++, {}) : _ref2$channelData;
  var nextClientActivityID = _ref2$channelData.clientActivityID;
  var nextTimestamp = (cov_s0nucnt16.s[5]++, Date.parse(nextActivity.timestamp));
  var nextActivities =
    (cov_s0nucnt16.s[6]++,
    activities.filter(function(_ref3) {
      var _ref3$channelData = _ref3.channelData;
      _ref3$channelData = _ref3$channelData === void 0 ? (cov_s0nucnt16.b[2][0]++, {}) : _ref3$channelData;
      var clientActivityID = _ref3$channelData.clientActivityID;
      cov_s0nucnt16.f[4]++;
      cov_s0nucnt16.s[7]++;
      return (
        // We will remove all "sending messages" activities
        // "clientActivityID" is unique and used to track if the message has been sent and echoed back from the server
        !(
          (cov_s0nucnt16.b[3][0]++, nextClientActivityID) &&
          (cov_s0nucnt16.b[3][1]++, clientActivityID === nextClientActivityID)
        )
      );
    })); // Then, find the right (sorted) place to insert the new activity at, based on timestamp
  // Since clockskew might happen, we will ignore timestamp on messages that are sending

  var indexToInsert =
    (cov_s0nucnt16.s[8]++,
    nextActivities.findIndex(function(_ref4) {
      var _ref4$channelData = _ref4.channelData;
      _ref4$channelData = _ref4$channelData === void 0 ? (cov_s0nucnt16.b[4][0]++, {}) : _ref4$channelData;
      var state = _ref4$channelData.state,
        timestamp = _ref4.timestamp;
      cov_s0nucnt16.f[5]++;
      cov_s0nucnt16.s[9]++;
      return (
        (cov_s0nucnt16.b[5][0]++, Date.parse(timestamp) > nextTimestamp) &&
        (cov_s0nucnt16.b[5][1]++, state !== _ActivityClientState.SENDING) &&
        (cov_s0nucnt16.b[5][2]++, state !== _ActivityClientState.SEND_FAILED)
      );
    })); // If no right place are found, append it

  cov_s0nucnt16.s[10]++;
  nextActivities.splice(
    ~indexToInsert ? (cov_s0nucnt16.b[6][0]++, indexToInsert) : (cov_s0nucnt16.b[6][1]++, nextActivities.length),
    0,
    nextActivity
  );
  cov_s0nucnt16.s[11]++;
  return nextActivities;
}

function activities() {
  var state =
    arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : (cov_s0nucnt16.b[7][0]++, DEFAULT_STATE);

  var _ref5 = arguments.length > 1 ? arguments[1] : undefined,
    meta = _ref5.meta,
    payload = _ref5.payload,
    type = _ref5.type;

  cov_s0nucnt16.f[6]++;
  cov_s0nucnt16.s[12]++;

  switch (type) {
    case _deleteActivity.DELETE_ACTIVITY:
      cov_s0nucnt16.b[8][0]++;
      cov_s0nucnt16.s[13]++;
      state = (0, _simpleUpdateIn['default'])(state, [
        function(_ref6) {
          var id = _ref6.id;
          cov_s0nucnt16.f[7]++;
          cov_s0nucnt16.s[14]++;
          return id === payload.activityID;
        }
      ]);
      cov_s0nucnt16.s[15]++;
      break;

    case _markActivity.MARK_ACTIVITY:
      cov_s0nucnt16.b[8][1]++;
      cov_s0nucnt16.s[16]++;
      state = (0, _simpleUpdateIn['default'])(
        state,
        [
          function(_ref7) {
            var id = _ref7.id;
            cov_s0nucnt16.f[8]++;
            cov_s0nucnt16.s[17]++;
            return id === payload.activityID;
          },
          'channelData',
          payload.name
        ],
        function() {
          cov_s0nucnt16.f[9]++;
          cov_s0nucnt16.s[18]++;
          return payload.value;
        }
      );
      cov_s0nucnt16.s[19]++;
      break;

    case _postActivity.POST_ACTIVITY_PENDING:
      cov_s0nucnt16.b[8][2]++;
      cov_s0nucnt16.s[20]++;
      state = upsertActivityWithSort(
        state,
        (0, _simpleUpdateIn['default'])(payload.activity, ['channelData', 'state'], function() {
          cov_s0nucnt16.f[10]++;
          cov_s0nucnt16.s[21]++;
          return _ActivityClientState.SENDING;
        })
      );
      cov_s0nucnt16.s[22]++;
      break;

    case _postActivity.POST_ACTIVITY_REJECTED:
      cov_s0nucnt16.b[8][3]++;
      cov_s0nucnt16.s[23]++;
      state = (0, _simpleUpdateIn['default'])(
        state,
        [findByClientActivityID(meta.clientActivityID), 'channelData', 'state'],
        function() {
          cov_s0nucnt16.f[11]++;
          cov_s0nucnt16.s[24]++;
          return _ActivityClientState.SEND_FAILED;
        }
      );
      cov_s0nucnt16.s[25]++;
      break;

    case _postActivity.POST_ACTIVITY_FULFILLED:
      cov_s0nucnt16.b[8][4]++;
      cov_s0nucnt16.s[26]++;
      state = (0, _simpleUpdateIn['default'])(state, [findByClientActivityID(meta.clientActivityID)], function() {
        cov_s0nucnt16.f[12]++;
        cov_s0nucnt16.s[27]++;
        return (
          // We will replace the activity with the version from the server
          (0, _simpleUpdateIn['default'])(payload.activity, ['channelData', 'state'], function() {
            cov_s0nucnt16.f[13]++;
            cov_s0nucnt16.s[28]++;
            return _ActivityClientState.SENT;
          })
        );
      });
      cov_s0nucnt16.s[29]++;
      break;

    case _incomingActivity.INCOMING_ACTIVITY:
      cov_s0nucnt16.b[8][5]++;
      cov_s0nucnt16.s[30]++;

      // UpdateActivity is not supported right now because we ignore duplicated activity ID
      // TODO: [P4] Move "typing" into Constants.ActivityType
      if (
        (cov_s0nucnt16.b[10][0]++, payload.activity.type !== 'typing') &&
        (cov_s0nucnt16.b[10][1]++,
        !~state.findIndex(function(_ref8) {
          var id = _ref8.id;
          cov_s0nucnt16.f[14]++;
          cov_s0nucnt16.s[31]++;
          return id === payload.activity.id;
        }))
      ) {
        cov_s0nucnt16.b[9][0]++;
        cov_s0nucnt16.s[32]++;
        state = upsertActivityWithSort(state, payload.activity);
      } else {
        cov_s0nucnt16.b[9][1]++;
      }

      cov_s0nucnt16.s[33]++;
      break;

    default:
      cov_s0nucnt16.b[8][6]++;
      cov_s0nucnt16.s[34]++;
      break;
  }

  cov_s0nucnt16.s[35]++;
  return state;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9yZWR1Y2Vycy9hY3Rpdml0aWVzLmpzIl0sIm5hbWVzIjpbIkRFRkFVTFRfU1RBVEUiLCJnZXRDbGllbnRBY3Rpdml0eUlEIiwiY2hhbm5lbERhdGEiLCJjbGllbnRBY3Rpdml0eUlEIiwiZmluZEJ5Q2xpZW50QWN0aXZpdHlJRCIsImFjdGl2aXR5IiwidXBzZXJ0QWN0aXZpdHlXaXRoU29ydCIsImFjdGl2aXRpZXMiLCJuZXh0QWN0aXZpdHkiLCJuZXh0Q2xpZW50QWN0aXZpdHlJRCIsIm5leHRUaW1lc3RhbXAiLCJEYXRlIiwicGFyc2UiLCJ0aW1lc3RhbXAiLCJuZXh0QWN0aXZpdGllcyIsImZpbHRlciIsImluZGV4VG9JbnNlcnQiLCJmaW5kSW5kZXgiLCJzdGF0ZSIsIlNFTkRJTkciLCJTRU5EX0ZBSUxFRCIsInNwbGljZSIsImxlbmd0aCIsIm1ldGEiLCJwYXlsb2FkIiwidHlwZSIsIkRFTEVURV9BQ1RJVklUWSIsImlkIiwiYWN0aXZpdHlJRCIsIk1BUktfQUNUSVZJVFkiLCJuYW1lIiwidmFsdWUiLCJQT1NUX0FDVElWSVRZX1BFTkRJTkciLCJQT1NUX0FDVElWSVRZX1JFSkVDVEVEIiwiUE9TVF9BQ1RJVklUWV9GVUxGSUxMRUQiLCJTRU5UIiwiSU5DT01JTkdfQUNUSVZJVFkiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztB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LENBQUNQLEtBQUssQ0FBQ0QsU0FBTixDQUFnQixpQkFBWTtBQUFBLFlBQVRVLEVBQVMsU0FBVEEsRUFBUztBQUFBO0FBQUE7QUFBQSxlQUFBQSxFQUFFLEtBQUtILE9BQU8sQ0FBQ25CLFFBQVIsQ0FBaUJzQixFQUF4QjtBQUEwQixPQUF0RCxDQUF4QyxDQUFKLEVBQXFHO0FBQUE7QUFBQTtBQUNuR1QsUUFBQUEsS0FBSyxHQUFHWixzQkFBc0IsQ0FBQ1ksS0FBRCxFQUFRTSxPQUFPLENBQUNuQixRQUFoQixDQUE5QjtBQUNELE9BRkQ7QUFBQTtBQUFBOztBQUhGO0FBT0U7O0FBRUY7QUFBQTtBQUFBO0FBQ0U7QUEzQ0o7O0FBRGlGO0FBK0NqRixTQUFPYSxLQUFQO0FBQ0QiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQgbm8tbWFnaWMtbnVtYmVyczogW1wiZXJyb3JcIiwgeyBcImlnbm9yZVwiOiBbMCwgLTFdIH1dICovXG5cbmltcG9ydCB1cGRhdGVJbiBmcm9tICdzaW1wbGUtdXBkYXRlLWluJztcblxuaW1wb3J0IHsgREVMRVRFX0FDVElWSVRZIH0gZnJvbSAnLi4vYWN0aW9ucy9kZWxldGVBY3Rpdml0eSc7XG5pbXBvcnQgeyBJTkNPTUlOR19BQ1RJVklUWSB9IGZyb20gJy4uL2FjdGlvbnMvaW5jb21pbmdBY3Rpdml0eSc7XG5pbXBvcnQgeyBNQVJLX0FDVElWSVRZIH0gZnJvbSAnLi4vYWN0aW9ucy9tYXJrQWN0aXZpdHknO1xuXG5pbXBvcnQgeyBQT1NUX0FDVElWSVRZX0ZVTEZJTExFRCwgUE9TVF9BQ1RJVklUWV9QRU5ESU5HLCBQT1NUX0FDVElWSVRZX1JFSkVDVEVEIH0gZnJvbSAnLi4vYWN0aW9ucy9wb3N0QWN0aXZpdHknO1xuXG5pbXBvcnQgeyBTRU5EX0ZBSUxFRCwgU0VORElORywgU0VOVCB9IGZyb20gJy4uL2NvbnN0YW50cy9BY3Rpdml0eUNsaWVudFN0YXRlJztcblxuY29uc3QgREVGQVVMVF9TVEFURSA9IFtdO1xuXG5mdW5jdGlvbiBnZXRDbGllbnRBY3Rpdml0eUlEKHsgY2hhbm5lbERhdGE6IHsgY2xpZW50QWN0aXZpdHlJRCB9ID0ge30gfSkge1xuICByZXR1cm4gY2xpZW50QWN0aXZpdHlJRDtcbn1cblxuZnVuY3Rpb24gZmluZEJ5Q2xpZW50QWN0aXZpdHlJRChjbGllbnRBY3Rpdml0eUlEKSB7XG4gIHJldHVybiBhY3Rpdml0eSA9PiBnZXRDbGllbnRBY3Rpdml0eUlEKGFjdGl2aXR5KSA9PT0gY2xpZW50QWN0aXZpdHlJRDtcbn1cblxuZnVuY3Rpb24gdXBzZXJ0QWN0aXZpdHlXaXRoU29ydChhY3Rpdml0aWVzLCBuZXh0QWN0aXZpdHkpIHtcbiAgY29uc3QgeyBjaGFubmVsRGF0YTogeyBjbGllbnRBY3Rpdml0eUlEOiBuZXh0Q2xpZW50QWN0aXZpdHlJRCB9ID0ge30gfSA9IG5leHRBY3Rpdml0eTtcblxuICBjb25zdCBuZXh0VGltZXN0YW1wID0gRGF0ZS5wYXJzZShuZXh0QWN0aXZpdHkudGltZXN0YW1wKTtcbiAgY29uc3QgbmV4dEFjdGl2aXRpZXMgPSBhY3Rpdml0aWVzLmZpbHRlcihcbiAgICAoeyBjaGFubmVsRGF0YTogeyBjbGllbnRBY3Rpdml0eUlEIH0gPSB7fSB9KSA9PlxuICAgICAgLy8gV2Ugd2lsbCByZW1vdmUgYWxsIFwic2VuZGluZyBtZXNzYWdlc1wiIGFjdGl2aXRpZXNcbiAgICAgIC8vIFwiY2xpZW50QWN0aXZpdHlJRFwiIGlzIHVuaXF1ZSBhbmQgdXNlZCB0byB0cmFjayBpZiB0aGUgbWVzc2FnZSBoYXMgYmVlbiBzZW50IGFuZCBlY2hvZWQgYmFjayBmcm9tIHRoZSBzZXJ2ZXJcbiAgICAgICEobmV4dENsaWVudEFjdGl2aXR5SUQgJiYgY2xpZW50QWN0aXZpdHlJRCA9PT0gbmV4dENsaWVudEFjdGl2aXR5SUQpXG4gICk7XG5cbiAgLy8gVGhlbiwgZmluZCB0aGUgcmlnaHQgKHNvcnRlZCkgcGxhY2UgdG8gaW5zZXJ0IHRoZSBuZXcgYWN0aXZpdHkgYXQsIGJhc2VkIG9uIHRpbWVzdGFtcFxuICAvLyBTaW5jZSBjbG9ja3NrZXcgbWlnaHQgaGFwcGVuLCB3ZSB3aWxsIGlnbm9yZSB0aW1lc3RhbXAgb24gbWVzc2FnZXMgdGhhdCBhcmUgc2VuZGluZ1xuXG4gIGNvbnN0IGluZGV4VG9JbnNlcnQgPSBuZXh0QWN0aXZpdGllcy5maW5kSW5kZXgoXG4gICAgKHsgY2hhbm5lbERhdGE6IHsgc3RhdGUgfSA9IHt9LCB0aW1lc3RhbXAgfSkgPT5cbiAgICAgIERhdGUucGFyc2UodGltZXN0YW1wKSA+IG5leHRUaW1lc3RhbXAgJiYgc3RhdGUgIT09IFNFTkRJTkcgJiYgc3RhdGUgIT09IFNFTkRfRkFJTEVEXG4gICk7XG5cbiAgLy8gSWYgbm8gcmlnaHQgcGxhY2UgYXJlIGZvdW5kLCBhcHBlbmQgaXRcbiAgbmV4dEFjdGl2aXRpZXMuc3BsaWNlKH5pbmRleFRvSW5zZXJ0ID8gaW5kZXhUb0luc2VydCA6IG5leHRBY3Rpdml0aWVzLmxlbmd0aCwgMCwgbmV4dEFjdGl2aXR5KTtcblxuICByZXR1cm4gbmV4dEFjdGl2aXRpZXM7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGFjdGl2aXRpZXMoc3RhdGUgPSBERUZBVUxUX1NUQVRFLCB7IG1ldGEsIHBheWxvYWQsIHR5cGUgfSkge1xuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlIERFTEVURV9BQ1RJVklUWTpcbiAgICAgIHN0YXRlID0gdXBkYXRlSW4oc3RhdGUsIFsoeyBpZCB9KSA9PiBpZCA9PT0gcGF5bG9hZC5hY3Rpdml0eUlEXSk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgTUFSS19BQ1RJVklUWTpcbiAgICAgIHN0YXRlID0gdXBkYXRlSW4oXG4gICAgICAgIHN0YXRlLFxuICAgICAgICBbKHsgaWQgfSkgPT4gaWQgPT09IHBheWxvYWQuYWN0aXZpdHlJRCwgJ2NoYW5uZWxEYXRhJywgcGF5bG9hZC5uYW1lXSxcbiAgICAgICAgKCkgPT4gcGF5bG9hZC52YWx1ZVxuICAgICAgKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBQT1NUX0FDVElWSVRZX1BFTkRJTkc6XG4gICAgICBzdGF0ZSA9IHVwc2VydEFjdGl2aXR5V2l0aFNvcnQoc3RhdGUsIHVwZGF0ZUluKHBheWxvYWQuYWN0aXZpdHksIFsnY2hhbm5lbERhdGEnLCAnc3RhdGUnXSwgKCkgPT4gU0VORElORykpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIFBPU1RfQUNUSVZJVFlfUkVKRUNURUQ6XG4gICAgICBzdGF0ZSA9IHVwZGF0ZUluKFxuICAgICAgICBzdGF0ZSxcbiAgICAgICAgW2ZpbmRCeUNsaWVudEFjdGl2aXR5SUQobWV0YS5jbGllbnRBY3Rpdml0eUlEKSwgJ2NoYW5uZWxEYXRhJywgJ3N0YXRlJ10sXG4gICAgICAgICgpID0+IFNFTkRfRkFJTEVEXG4gICAgICApO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIFBPU1RfQUNUSVZJVFlfRlVMRklMTEVEOlxuICAgICAgc3RhdGUgPSB1cGRhdGVJbihzdGF0ZSwgW2ZpbmRCeUNsaWVudEFjdGl2aXR5SUQobWV0YS5jbGllbnRBY3Rpdml0eUlEKV0sICgpID0+XG4gICAgICAgIC8vIFdlIHdpbGwgcmVwbGFjZSB0aGUgYWN0aXZpdHkgd2l0aCB0aGUgdmVyc2lvbiBmcm9tIHRoZSBzZXJ2ZXJcbiAgICAgICAgdXBkYXRlSW4ocGF5bG9hZC5hY3Rpdml0eSwgWydjaGFubmVsRGF0YScsICdzdGF0ZSddLCAoKSA9PiBTRU5UKVxuICAgICAgKTtcblxuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIElOQ09NSU5HX0FDVElWSVRZOlxuICAgICAgLy8gVXBkYXRlQWN0aXZpdHkgaXMgbm90IHN1cHBvcnRlZCByaWdodCBub3cgYmVjYXVzZSB3ZSBpZ25vcmUgZHVwbGljYXRlZCBhY3Rpdml0eSBJRFxuICAgICAgLy8gVE9ETzogW1A0XSBNb3ZlIFwidHlwaW5nXCIgaW50byBDb25zdGFudHMuQWN0aXZpdHlUeXBlXG4gICAgICBpZiAocGF5bG9hZC5hY3Rpdml0eS50eXBlICE9PSAndHlwaW5nJyAmJiAhfnN0YXRlLmZpbmRJbmRleCgoeyBpZCB9KSA9PiBpZCA9PT0gcGF5bG9hZC5hY3Rpdml0eS5pZCkpIHtcbiAgICAgICAgc3RhdGUgPSB1cHNlcnRBY3Rpdml0eVdpdGhTb3J0KHN0YXRlLCBwYXlsb2FkLmFjdGl2aXR5KTtcbiAgICAgIH1cblxuICAgICAgYnJlYWs7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgYnJlYWs7XG4gIH1cblxuICByZXR1cm4gc3RhdGU7XG59XG4iXX0=
