'use strict';

var cov_igq5uqbll = (function() {
  var path = '/home/guy/leo/BotFramework-WebChat/packages/bundle/src/adaptiveCards/Attachment/AdaptiveCardRenderer.js';
  var hash = '0d65ad79e28bdea9ff9fa21347b388a4e2d3beb9';
  var global = new Function('return this')();
  var gcv = '__coverage__';
  var coverageData = {
    path: '/home/guy/leo/BotFramework-WebChat/packages/bundle/src/adaptiveCards/Attachment/AdaptiveCardRenderer.js',
    statementMap: {
      '0': {
        start: {
          line: 9,
          column: 21
        },
        end: {
          line: 9,
          column: 31
        }
      },
      '1': {
        start: {
          line: 10,
          column: 37
        },
        end: {
          line: 10,
          column: 42
        }
      },
      '2': {
        start: {
          line: 13,
          column: 2
        },
        end: {
          line: 13,
          column: 57
        }
      },
      '3': {
        start: {
          line: 17,
          column: 21
        },
        end: {
          line: 17,
          column: 50
        }
      },
      '4': {
        start: {
          line: 18,
          column: 17
        },
        end: {
          line: 18,
          column: 76
        }
      },
      '5': {
        start: {
          line: 20,
          column: 26
        },
        end: {
          line: 24,
          column: 3
        }
      },
      '6': {
        start: {
          line: 21,
          column: 4
        },
        end: {
          line: 21,
          column: 27
        }
      },
      '7': {
        start: {
          line: 22,
          column: 4
        },
        end: {
          line: 22,
          column: 37
        }
      },
      '8': {
        start: {
          line: 23,
          column: 4
        },
        end: {
          line: 23,
          column: 28
        }
      },
      '9': {
        start: {
          line: 26,
          column: 2
        },
        end: {
          line: 28,
          column: 5
        }
      },
      '10': {
        start: {
          line: 27,
          column: 4
        },
        end: {
          line: 27,
          column: 26
        }
      },
      '11': {
        start: {
          line: 30,
          column: 2
        },
        end: {
          line: 32,
          column: 5
        }
      },
      '12': {
        start: {
          line: 31,
          column: 4
        },
        end: {
          line: 31,
          column: 57
        }
      },
      '13': {
        start: {
          line: 36,
          column: 17
        },
        end: {
          line: 36,
          column: 68
        }
      },
      '14': {
        start: {
          line: 38,
          column: 2
        },
        end: {
          line: 50,
          column: 5
        }
      },
      '15': {
        start: {
          line: 39,
          column: 18
        },
        end: {
          line: 39,
          column: 36
        }
      },
      '16': {
        start: {
          line: 41,
          column: 4
        },
        end: {
          line: 49,
          column: 5
        }
      },
      '17': {
        start: {
          line: 42,
          column: 32
        },
        end: {
          line: 42,
          column: 37
        }
      },
      '18': {
        start: {
          line: 44,
          column: 6
        },
        end: {
          line: 48,
          column: 7
        }
      },
      '19': {
        start: {
          line: 45,
          column: 8
        },
        end: {
          line: 45,
          column: 30
        }
      },
      '20': {
        start: {
          line: 47,
          column: 8
        },
        end: {
          line: 47,
          column: 28
        }
      },
      '21': {
        start: {
          line: 54,
          column: 17
        },
        end: {
          line: 54,
          column: 68
        }
      },
      '22': {
        start: {
          line: 56,
          column: 2
        },
        end: {
          line: 62,
          column: 5
        }
      },
      '23': {
        start: {
          line: 57,
          column: 4
        },
        end: {
          line: 59,
          column: 5
        }
      },
      '24': {
        start: {
          line: 58,
          column: 6
        },
        end: {
          line: 58,
          column: 21
        }
      },
      '25': {
        start: {
          line: 61,
          column: 4
        },
        end: {
          line: 61,
          column: 17
        }
      },
      '26': {
        start: {
          line: 65,
          column: 29
        },
        end: {
          line: 219,
          column: 1
        }
      },
      '27': {
        start: {
          line: 73,
          column: 67
        },
        end: {
          line: 73,
          column: 80
        }
      },
      '28': {
        start: {
          line: 74,
          column: 23
        },
        end: {
          line: 74,
          column: 64
        }
      },
      '29': {
        start: {
          line: 76,
          column: 28
        },
        end: {
          line: 76,
          column: 38
        }
      },
      '30': {
        start: {
          line: 77,
          column: 21
        },
        end: {
          line: 77,
          column: 29
        }
      },
      '31': {
        start: {
          line: 78,
          column: 25
        },
        end: {
          line: 78,
          column: 35
        }
      },
      '32': {
        start: {
          line: 80,
          column: 22
        },
        end: {
          line: 107,
          column: 3
        }
      },
      '33': {
        start: {
          line: 83,
          column: 6
        },
        end: {
          line: 104,
          column: 7
        }
      },
      '34': {
        start: {
          line: 84,
          column: 25
        },
        end: {
          line: 84,
          column: 44
        }
      },
      '35': {
        start: {
          line: 88,
          column: 8
        },
        end: {
          line: 90,
          column: 9
        }
      },
      '36': {
        start: {
          line: 89,
          column: 10
        },
        end: {
          line: 89,
          column: 52
        }
      },
      '37': {
        start: {
          line: 92,
          column: 28
        },
        end: {
          line: 92,
          column: 43
        }
      },
      '38': {
        start: {
          line: 93,
          column: 8
        },
        end: {
          line: 103,
          column: 9
        }
      },
      '39': {
        start: {
          line: 94,
          column: 25
        },
        end: {
          line: 94,
          column: 84
        }
      },
      '40': {
        start: {
          line: 95,
          column: 10
        },
        end: {
          line: 102,
          column: 11
        }
      },
      '41': {
        start: {
          line: 96,
          column: 12
        },
        end: {
          line: 101,
          column: 13
        }
      },
      '42': {
        start: {
          line: 97,
          column: 14
        },
        end: {
          line: 100,
          column: 15
        }
      },
      '43': {
        start: {
          line: 98,
          column: 16
        },
        end: {
          line: 98,
          column: 71
        }
      },
      '44': {
        start: {
          line: 99,
          column: 16
        },
        end: {
          line: 99,
          column: 80
        }
      },
      '45': {
        start: {
          line: 109,
          column: 30
        },
        end: {
          line: 145,
          column: 3
        }
      },
      '46': {
        start: {
          line: 112,
          column: 6
        },
        end: {
          line: 114,
          column: 7
        }
      },
      '47': {
        start: {
          line: 113,
          column: 8
        },
        end: {
          line: 113,
          column: 15
        }
      },
      '48': {
        start: {
          line: 116,
          column: 29
        },
        end: {
          line: 116,
          column: 53
        }
      },
      '49': {
        start: {
          line: 118,
          column: 6
        },
        end: {
          line: 142,
          column: 7
        }
      },
      '50': {
        start: {
          line: 119,
          column: 8
        },
        end: {
          line: 122,
          column: 11
        }
      },
      '51': {
        start: {
          line: 123,
          column: 13
        },
        end: {
          line: 142,
          column: 7
        }
      },
      '52': {
        start: {
          line: 124,
          column: 8
        },
        end: {
          line: 138,
          column: 9
        }
      },
      '53': {
        start: {
          line: 125,
          column: 39
        },
        end: {
          line: 125,
          column: 45
        }
      },
      '54': {
        start: {
          line: 127,
          column: 10
        },
        end: {
          line: 137,
          column: 11
        }
      },
      '55': {
        start: {
          line: 128,
          column: 35
        },
        end: {
          line: 128,
          column: 45
        }
      },
      '56': {
        start: {
          line: 129,
          column: 49
        },
        end: {
          line: 129,
          column: 59
        }
      },
      '57': {
        start: {
          line: 131,
          column: 12
        },
        end: {
          line: 131,
          column: 60
        }
      },
      '58': {
        start: {
          line: 133,
          column: 12
        },
        end: {
          line: 136,
          column: 15
        }
      },
      '59': {
        start: {
          line: 140,
          column: 8
        },
        end: {
          line: 140,
          column: 79
        }
      },
      '60': {
        start: {
          line: 141,
          column: 8
        },
        end: {
          line: 141,
          column: 30
        }
      },
      '61': {
        start: {
          line: 147,
          column: 2
        },
        end: {
          line: 210,
          column: 111
        }
      },
      '62': {
        start: {
          line: 148,
          column: 24
        },
        end: {
          line: 148,
          column: 34
        }
      },
      '63': {
        start: {
          line: 150,
          column: 4
        },
        end: {
          line: 209,
          column: 5
        }
      },
      '64': {
        start: {
          line: 157,
          column: 6
        },
        end: {
          line: 162,
          column: 8
        }
      },
      '65': {
        start: {
          line: 158,
          column: 8
        },
        end: {
          line: 161,
          column: 9
        }
      },
      '66': {
        start: {
          line: 159,
          column: 10
        },
        end: {
          line: 159,
          column: 51
        }
      },
      '67': {
        start: {
          line: 160,
          column: 10
        },
        end: {
          line: 160,
          column: 35
        }
      },
      '68': {
        start: {
          line: 164,
          column: 6
        },
        end: {
          line: 164,
          column: 57
        }
      },
      '69': {
        start: {
          line: 166,
          column: 6
        },
        end: {
          line: 170,
          column: 7
        }
      },
      '70': {
        start: {
          line: 167,
          column: 8
        },
        end: {
          line: 169,
          column: 35
        }
      },
      '71': {
        start: {
          line: 172,
          column: 27
        },
        end: {
          line: 172,
          column: 60
        }
      },
      '72': {
        start: {
          line: 174,
          column: 6
        },
        end: {
          line: 179,
          column: 7
        }
      },
      '73': {
        start: {
          line: 176,
          column: 23
        },
        end: {
          line: 176,
          column: 88
        }
      },
      '74': {
        start: {
          line: 176,
          column: 62
        },
        end: {
          line: 176,
          column: 83
        }
      },
      '75': {
        start: {
          line: 178,
          column: 8
        },
        end: {
          line: 178,
          column: 32
        }
      },
      '76': {
        start: {
          line: 183,
          column: 6
        },
        end: {
          line: 187,
          column: 7
        }
      },
      '77': {
        start: {
          line: 184,
          column: 8
        },
        end: {
          line: 184,
          column: 40
        }
      },
      '78': {
        start: {
          line: 186,
          column: 8
        },
        end: {
          line: 186,
          column: 31
        }
      },
      '79': {
        start: {
          line: 189,
          column: 6
        },
        end: {
          line: 191,
          column: 7
        }
      },
      '80': {
        start: {
          line: 190,
          column: 8
        },
        end: {
          line: 190,
          column: 67
        }
      },
      '81': {
        start: {
          line: 193,
          column: 6
        },
        end: {
          line: 193,
          column: 30
        }
      },
      '82': {
        start: {
          line: 195,
          column: 6
        },
        end: {
          line: 195,
          column: 48
        }
      },
      '83': {
        start: {
          line: 196,
          column: 6
        },
        end: {
          line: 196,
          column: 58
        }
      },
      '84': {
        start: {
          line: 198,
          column: 27
        },
        end: {
          line: 198,
          column: 43
        }
      },
      '85': {
        start: {
          line: 200,
          column: 6
        },
        end: {
          line: 204,
          column: 7
        }
      },
      '86': {
        start: {
          line: 201,
          column: 8
        },
        end: {
          line: 201,
          column: 50
        }
      },
      '87': {
        start: {
          line: 203,
          column: 8
        },
        end: {
          line: 203,
          column: 37
        }
      },
      '88': {
        start: {
          line: 206,
          column: 6
        },
        end: {
          line: 208,
          column: 8
        }
      },
      '89': {
        start: {
          line: 207,
          column: 8
        },
        end: {
          line: 207,
          column: 58
        }
      },
      '90': {
        start: {
          line: 212,
          column: 2
        },
        end: {
          line: 218,
          column: 4
        }
      },
      '91': {
        start: {
          line: 221,
          column: 0
        },
        end: {
          line: 231,
          column: 2
        }
      },
      '92': {
        start: {
          line: 233,
          column: 0
        },
        end: {
          line: 236,
          column: 2
        }
      },
      '93': {
        start: {
          line: 238,
          column: 92
        },
        end: {
          line: 243,
          column: 1
        }
      }
    },
    fnMap: {
      '0': {
        name: 'isPlainObject',
        decl: {
          start: {
            line: 12,
            column: 9
          },
          end: {
            line: 12,
            column: 22
          }
        },
        loc: {
          start: {
            line: 12,
            column: 28
          },
          end: {
            line: 14,
            column: 1
          }
        },
        line: 12
      },
      '1': {
        name: 'disableInputElements',
        decl: {
          start: {
            line: 16,
            column: 9
          },
          end: {
            line: 16,
            column: 29
          }
        },
        loc: {
          start: {
            line: 16,
            column: 39
          },
          end: {
            line: 33,
            column: 1
          }
        },
        line: 16
      },
      '2': {
        name: '(anonymous_2)',
        decl: {
          start: {
            line: 20,
            column: 26
          },
          end: {
            line: 20,
            column: 27
          }
        },
        loc: {
          start: {
            line: 20,
            column: 35
          },
          end: {
            line: 24,
            column: 3
          }
        },
        line: 20
      },
      '3': {
        name: '(anonymous_3)',
        decl: {
          start: {
            line: 26,
            column: 26
          },
          end: {
            line: 26,
            column: 27
          }
        },
        loc: {
          start: {
            line: 26,
            column: 35
          },
          end: {
            line: 28,
            column: 3
          }
        },
        line: 26
      },
      '4': {
        name: '(anonymous_4)',
        decl: {
          start: {
            line: 30,
            column: 30
          },
          end: {
            line: 30,
            column: 31
          }
        },
        loc: {
          start: {
            line: 30,
            column: 43
          },
          end: {
            line: 32,
            column: 3
          }
        },
        line: 30
      },
      '5': {
        name: 'restoreInputValues',
        decl: {
          start: {
            line: 35,
            column: 9
          },
          end: {
            line: 35,
            column: 27
          }
        },
        loc: {
          start: {
            line: 35,
            column: 50
          },
          end: {
            line: 51,
            column: 1
          }
        },
        line: 35
      },
      '6': {
        name: '(anonymous_6)',
        decl: {
          start: {
            line: 38,
            column: 26
          },
          end: {
            line: 38,
            column: 27
          }
        },
        loc: {
          start: {
            line: 38,
            column: 44
          },
          end: {
            line: 50,
            column: 3
          }
        },
        line: 38
      },
      '7': {
        name: 'saveInputValues',
        decl: {
          start: {
            line: 53,
            column: 9
          },
          end: {
            line: 53,
            column: 24
          }
        },
        loc: {
          start: {
            line: 53,
            column: 34
          },
          end: {
            line: 63,
            column: 1
          }
        },
        line: 53
      },
      '8': {
        name: '(anonymous_8)',
        decl: {
          start: {
            line: 56,
            column: 29
          },
          end: {
            line: 56,
            column: 30
          }
        },
        loc: {
          start: {
            line: 56,
            column: 68
          },
          end: {
            line: 62,
            column: 3
          }
        },
        line: 56
      },
      '9': {
        name: '(anonymous_9)',
        decl: {
          start: {
            line: 65,
            column: 29
          },
          end: {
            line: 65,
            column: 30
          }
        },
        loc: {
          start: {
            line: 72,
            column: 6
          },
          end: {
            line: 219,
            column: 1
          }
        },
        line: 72
      },
      '10': {
        name: '(anonymous_10)',
        decl: {
          start: {
            line: 81,
            column: 4
          },
          end: {
            line: 81,
            column: 5
          }
        },
        loc: {
          start: {
            line: 81,
            column: 20
          },
          end: {
            line: 105,
            column: 5
          }
        },
        line: 81
      },
      '11': {
        name: '(anonymous_11)',
        decl: {
          start: {
            line: 110,
            column: 4
          },
          end: {
            line: 110,
            column: 5
          }
        },
        loc: {
          start: {
            line: 110,
            column: 14
          },
          end: {
            line: 143,
            column: 5
          }
        },
        line: 110
      },
      '12': {
        name: '(anonymous_12)',
        decl: {
          start: {
            line: 147,
            column: 18
          },
          end: {
            line: 147,
            column: 19
          }
        },
        loc: {
          start: {
            line: 147,
            column: 24
          },
          end: {
            line: 210,
            column: 3
          }
        },
        line: 147
      },
      '13': {
        name: '(anonymous_13)',
        decl: {
          start: {
            line: 157,
            column: 51
          },
          end: {
            line: 157,
            column: 52
          }
        },
        loc: {
          start: {
            line: 157,
            column: 69
          },
          end: {
            line: 162,
            column: 7
          }
        },
        line: 157
      },
      '14': {
        name: '(anonymous_14)',
        decl: {
          start: {
            line: 176,
            column: 39
          },
          end: {
            line: 176,
            column: 40
          }
        },
        loc: {
          start: {
            line: 176,
            column: 62
          },
          end: {
            line: 176,
            column: 83
          }
        },
        line: 176
      },
      '15': {
        name: '(anonymous_15)',
        decl: {
          start: {
            line: 206,
            column: 13
          },
          end: {
            line: 206,
            column: 14
          }
        },
        loc: {
          start: {
            line: 206,
            column: 19
          },
          end: {
            line: 208,
            column: 7
          }
        },
        line: 206
      },
      '16': {
        name: '(anonymous_16)',
        decl: {
          start: {
            line: 238,
            column: 32
          },
          end: {
            line: 238,
            column: 33
          }
        },
        loc: {
          start: {
            line: 238,
            column: 92
          },
          end: {
            line: 243,
            column: 1
          }
        },
        line: 238
      }
    },
    branchMap: {
      '0': {
        loc: {
          start: {
            line: 41,
            column: 4
          },
          end: {
            line: 49,
            column: 5
          }
        },
        type: 'if',
        locations: [
          {
            start: {
              line: 41,
              column: 4
            },
            end: {
              line: 49,
              column: 5
            }
          },
          {
            start: {
              line: 41,
              column: 4
            },
            end: {
              line: 49,
              column: 5
            }
          }
        ],
        line: 41
      },
      '1': {
        loc: {
          start: {
            line: 44,
            column: 6
          },
          end: {
            line: 48,
            column: 7
          }
        },
        type: 'if',
        locations: [
          {
            start: {
              line: 44,
              column: 6
            },
            end: {
              line: 48,
              column: 7
            }
          },
          {
            start: {
              line: 44,
              column: 6
            },
            end: {
              line: 48,
              column: 7
            }
          }
        ],
        line: 44
      },
      '2': {
        loc: {
          start: {
            line: 44,
            column: 10
          },
          end: {
            line: 44,
            column: 74
          }
        },
        type: 'binary-expr',
        locations: [
          {
            start: {
              line: 44,
              column: 10
            },
            end: {
              line: 44,
              column: 29
            }
          },
          {
            start: {
              line: 44,
              column: 34
            },
            end: {
              line: 44,
              column: 53
            }
          },
          {
            start: {
              line: 44,
              column: 57
            },
            end: {
              line: 44,
              column: 73
            }
          }
        ],
        line: 44
      },
      '3': {
        loc: {
          start: {
            line: 57,
            column: 4
          },
          end: {
            line: 59,
            column: 5
          }
        },
        type: 'if',
        locations: [
          {
            start: {
              line: 57,
              column: 4
            },
            end: {
              line: 59,
              column: 5
            }
          },
          {
            start: {
              line: 57,
              column: 4
            },
            end: {
              line: 59,
              column: 5
            }
          }
        ],
        line: 57
      },
      '4': {
        loc: {
          start: {
            line: 57,
            column: 8
          },
          end: {
            line: 57,
            column: 72
          }
        },
        type: 'binary-expr',
        locations: [
          {
            start: {
              line: 57,
              column: 8
            },
            end: {
              line: 57,
              column: 27
            }
          },
          {
            start: {
              line: 57,
              column: 32
            },
            end: {
              line: 57,
              column: 51
            }
          },
          {
            start: {
              line: 57,
              column: 55
            },
            end: {
              line: 57,
              column: 71
            }
          }
        ],
        line: 57
      },
      '5': {
        loc: {
          start: {
            line: 83,
            column: 6
          },
          end: {
            line: 104,
            column: 7
          }
        },
        type: 'if',
        locations: [
          {
            start: {
              line: 83,
              column: 6
            },
            end: {
              line: 104,
              column: 7
            }
          },
          {
            start: {
              line: 83,
              column: 6
            },
            end: {
              line: 104,
              column: 7
            }
          }
        ],
        line: 83
      },
      '6': {
        loc: {
          start: {
            line: 88,
            column: 8
          },
          end: {
            line: 90,
            column: 9
          }
        },
        type: 'if',
        locations: [
          {
            start: {
              line: 88,
              column: 8
            },
            end: {
              line: 90,
              column: 9
            }
          },
          {
            start: {
              line: 88,
              column: 8
            },
            end: {
              line: 90,
              column: 9
            }
          }
        ],
        line: 88
      },
      '7': {
        loc: {
          start: {
            line: 88,
            column: 12
          },
          end: {
            line: 88,
            column: 56
          }
        },
        type: 'binary-expr',
        locations: [
          {
            start: {
              line: 88,
              column: 12
            },
            end: {
              line: 88,
              column: 40
            }
          },
          {
            start: {
              line: 88,
              column: 44
            },
            end: {
              line: 88,
              column: 56
            }
          }
        ],
        line: 88
      },
      '8': {
        loc: {
          start: {
            line: 89,
            column: 10
          },
          end: {
            line: 89,
            column: 51
          }
        },
        type: 'binary-expr',
        locations: [
          {
            start: {
              line: 89,
              column: 10
            },
            end: {
              line: 89,
              column: 19
            }
          },
          {
            start: {
              line: 89,
              column: 23
            },
            end: {
              line: 89,
              column: 51
            }
          }
        ],
        line: 89
      },
      '9': {
        loc: {
          start: {
            line: 93,
            column: 8
          },
          end: {
            line: 103,
            column: 9
          }
        },
        type: 'if',
        locations: [
          {
            start: {
              line: 93,
              column: 8
            },
            end: {
              line: 103,
              column: 9
            }
          },
          {
            start: {
              line: 93,
              column: 8
            },
            end: {
              line: 103,
              column: 9
            }
          }
        ],
        line: 93
      },
      '10': {
        loc: {
          start: {
            line: 95,
            column: 10
          },
          end: {
            line: 102,
            column: 11
          }
        },
        type: 'if',
        locations: [
          {
            start: {
              line: 95,
              column: 10
            },
            end: {
              line: 102,
              column: 11
            }
          },
          {
            start: {
              line: 95,
              column: 10
            },
            end: {
              line: 102,
              column: 11
            }
          }
        ],
        line: 95
      },
      '11': {
        loc: {
          start: {
            line: 97,
            column: 14
          },
          end: {
            line: 100,
            column: 15
          }
        },
        type: 'if',
        locations: [
          {
            start: {
              line: 97,
              column: 14
            },
            end: {
              line: 100,
              column: 15
            }
          },
          {
            start: {
              line: 97,
              column: 14
            },
            end: {
              line: 100,
              column: 15
            }
          }
        ],
        line: 97
      },
      '12': {
        loc: {
          start: {
            line: 112,
            column: 6
          },
          end: {
            line: 114,
            column: 7
          }
        },
        type: 'if',
        locations: [
          {
            start: {
              line: 112,
              column: 6
            },
            end: {
              line: 114,
              column: 7
            }
          },
          {
            start: {
              line: 112,
              column: 6
            },
            end: {
              line: 114,
              column: 7
            }
          }
        ],
        line: 112
      },
      '13': {
        loc: {
          start: {
            line: 118,
            column: 6
          },
          end: {
            line: 142,
            column: 7
          }
        },
        type: 'if',
        locations: [
          {
            start: {
              line: 118,
              column: 6
            },
            end: {
              line: 142,
              column: 7
            }
          },
          {
            start: {
              line: 118,
              column: 6
            },
            end: {
              line: 142,
              column: 7
            }
          }
        ],
        line: 118
      },
      '14': {
        loc: {
          start: {
            line: 123,
            column: 13
          },
          end: {
            line: 142,
            column: 7
          }
        },
        type: 'if',
        locations: [
          {
            start: {
              line: 123,
              column: 13
            },
            end: {
              line: 142,
              column: 7
            }
          },
          {
            start: {
              line: 123,
              column: 13
            },
            end: {
              line: 142,
              column: 7
            }
          }
        ],
        line: 123
      },
      '15': {
        loc: {
          start: {
            line: 124,
            column: 8
          },
          end: {
            line: 138,
            column: 9
          }
        },
        type: 'if',
        locations: [
          {
            start: {
              line: 124,
              column: 8
            },
            end: {
              line: 138,
              column: 9
            }
          },
          {
            start: {
              line: 124,
              column: 8
            },
            end: {
              line: 138,
              column: 9
            }
          }
        ],
        line: 124
      },
      '16': {
        loc: {
          start: {
            line: 127,
            column: 10
          },
          end: {
            line: 137,
            column: 11
          }
        },
        type: 'if',
        locations: [
          {
            start: {
              line: 127,
              column: 10
            },
            end: {
              line: 137,
              column: 11
            }
          },
          {
            start: {
              line: 127,
              column: 10
            },
            end: {
              line: 137,
              column: 11
            }
          }
        ],
        line: 127
      },
      '17': {
        loc: {
          start: {
            line: 127,
            column: 14
          },
          end: {
            line: 127,
            column: 65
          }
        },
        type: 'binary-expr',
        locations: [
          {
            start: {
              line: 127,
              column: 14
            },
            end: {
              line: 127,
              column: 24
            }
          },
          {
            start: {
              line: 127,
              column: 28
            },
            end: {
              line: 127,
              column: 65
            }
          }
        ],
        line: 127
      },
      '18': {
        loc: {
          start: {
            line: 134,
            column: 20
          },
          end: {
            line: 134,
            column: 75
          }
        },
        type: 'cond-expr',
        locations: [
          {
            start: {
              line: 134,
              column: 54
            },
            end: {
              line: 134,
              column: 62
            }
          },
          {
            start: {
              line: 134,
              column: 65
            },
            end: {
              line: 134,
              column: 75
            }
          }
        ],
        line: 134
      },
      '19': {
        loc: {
          start: {
            line: 150,
            column: 4
          },
          end: {
            line: 209,
            column: 5
          }
        },
        type: 'if',
        locations: [
          {
            start: {
              line: 150,
              column: 4
            },
            end: {
              line: 209,
              column: 5
            }
          },
          {
            start: {
              line: 150,
              column: 4
            },
            end: {
              line: 209,
              column: 5
            }
          }
        ],
        line: 150
      },
      '20': {
        loc: {
          start: {
            line: 150,
            column: 8
          },
          end: {
            line: 150,
            column: 31
          }
        },
        type: 'binary-expr',
        locations: [
          {
            start: {
              line: 150,
              column: 8
            },
            end: {
              line: 150,
              column: 15
            }
          },
          {
            start: {
              line: 150,
              column: 19
            },
            end: {
              line: 150,
              column: 31
            }
          }
        ],
        line: 150
      },
      '21': {
        loc: {
          start: {
            line: 158,
            column: 8
          },
          end: {
            line: 161,
            column: 9
          }
        },
        type: 'if',
        locations: [
          {
            start: {
              line: 158,
              column: 8
            },
            end: {
              line: 161,
              column: 9
            }
          },
          {
            start: {
              line: 158,
              column: 8
            },
            end: {
              line: 161,
              column: 9
            }
          }
        ],
        line: 158
      },
      '22': {
        loc: {
          start: {
            line: 166,
            column: 6
          },
          end: {
            line: 170,
            column: 7
          }
        },
        type: 'if',
        locations: [
          {
            start: {
              line: 166,
              column: 6
            },
            end: {
              line: 170,
              column: 7
            }
          },
          {
            start: {
              line: 166,
              column: 6
            },
            end: {
              line: 170,
              column: 7
            }
          }
        ],
        line: 166
      },
      '23': {
        loc: {
          start: {
            line: 167,
            column: 34
          },
          end: {
            line: 169,
            column: 34
          }
        },
        type: 'cond-expr',
        locations: [
          {
            start: {
              line: 168,
              column: 12
            },
            end: {
              line: 168,
              column: 50
            }
          },
          {
            start: {
              line: 169,
              column: 12
            },
            end: {
              line: 169,
              column: 34
            }
          }
        ],
        line: 167
      },
      '24': {
        loc: {
          start: {
            line: 174,
            column: 6
          },
          end: {
            line: 179,
            column: 7
          }
        },
        type: 'if',
        locations: [
          {
            start: {
              line: 174,
              column: 6
            },
            end: {
              line: 179,
              column: 7
            }
          },
          {
            start: {
              line: 174,
              column: 6
            },
            end: {
              line: 179,
              column: 7
            }
          }
        ],
        line: 174
      },
      '25': {
        loc: {
          start: {
            line: 189,
            column: 6
          },
          end: {
            line: 191,
            column: 7
          }
        },
        type: 'if',
        locations: [
          {
            start: {
              line: 189,
              column: 6
            },
            end: {
              line: 191,
              column: 7
            }
          },
          {
            start: {
              line: 189,
              column: 6
            },
            end: {
              line: 191,
              column: 7
            }
          }
        ],
        line: 189
      },
      '26': {
        loc: {
          start: {
            line: 193,
            column: 6
          },
          end: {
            line: 193,
            column: 29
          }
        },
        type: 'binary-expr',
        locations: [
          {
            start: {
              line: 193,
              column: 6
            },
            end: {
              line: 193,
              column: 11
            }
          },
          {
            start: {
              line: 193,
              column: 15
            },
            end: {
              line: 193,
              column: 29
            }
          }
        ],
        line: 193
      },
      '27': {
        loc: {
          start: {
            line: 195,
            column: 6
          },
          end: {
            line: 195,
            column: 47
          }
        },
        type: 'binary-expr',
        locations: [
          {
            start: {
              line: 195,
              column: 6
            },
            end: {
              line: 195,
              column: 14
            }
          },
          {
            start: {
              line: 195,
              column: 18
            },
            end: {
              line: 195,
              column: 47
            }
          }
        ],
        line: 195
      },
      '28': {
        loc: {
          start: {
            line: 200,
            column: 6
          },
          end: {
            line: 204,
            column: 7
          }
        },
        type: 'if',
        locations: [
          {
            start: {
              line: 200,
              column: 6
            },
            end: {
              line: 204,
              column: 7
            }
          },
          {
            start: {
              line: 200,
              column: 6
            },
            end: {
              line: 204,
              column: 7
            }
          }
        ],
        line: 200
      },
      '29': {
        loc: {
          start: {
            line: 212,
            column: 9
          },
          end: {
            line: 218,
            column: 3
          }
        },
        type: 'cond-expr',
        locations: [
          {
            start: {
              line: 213,
              column: 4
            },
            end: {
              line: 215,
              column: 15
            }
          },
          {
            start: {
              line: 217,
              column: 4
            },
            end: {
              line: 217,
              column: 91
            }
          }
        ],
        line: 212
      }
    },
    s: {
      '0': 0,
      '1': 0,
      '2': 0,
      '3': 0,
      '4': 0,
      '5': 0,
      '6': 0,
      '7': 0,
      '8': 0,
      '9': 0,
      '10': 0,
      '11': 0,
      '12': 0,
      '13': 0,
      '14': 0,
      '15': 0,
      '16': 0,
      '17': 0,
      '18': 0,
      '19': 0,
      '20': 0,
      '21': 0,
      '22': 0,
      '23': 0,
      '24': 0,
      '25': 0,
      '26': 0,
      '27': 0,
      '28': 0,
      '29': 0,
      '30': 0,
      '31': 0,
      '32': 0,
      '33': 0,
      '34': 0,
      '35': 0,
      '36': 0,
      '37': 0,
      '38': 0,
      '39': 0,
      '40': 0,
      '41': 0,
      '42': 0,
      '43': 0,
      '44': 0,
      '45': 0,
      '46': 0,
      '47': 0,
      '48': 0,
      '49': 0,
      '50': 0,
      '51': 0,
      '52': 0,
      '53': 0,
      '54': 0,
      '55': 0,
      '56': 0,
      '57': 0,
      '58': 0,
      '59': 0,
      '60': 0,
      '61': 0,
      '62': 0,
      '63': 0,
      '64': 0,
      '65': 0,
      '66': 0,
      '67': 0,
      '68': 0,
      '69': 0,
      '70': 0,
      '71': 0,
      '72': 0,
      '73': 0,
      '74': 0,
      '75': 0,
      '76': 0,
      '77': 0,
      '78': 0,
      '79': 0,
      '80': 0,
      '81': 0,
      '82': 0,
      '83': 0,
      '84': 0,
      '85': 0,
      '86': 0,
      '87': 0,
      '88': 0,
      '89': 0,
      '90': 0,
      '91': 0,
      '92': 0,
      '93': 0
    },
    f: {
      '0': 0,
      '1': 0,
      '2': 0,
      '3': 0,
      '4': 0,
      '5': 0,
      '6': 0,
      '7': 0,
      '8': 0,
      '9': 0,
      '10': 0,
      '11': 0,
      '12': 0,
      '13': 0,
      '14': 0,
      '15': 0,
      '16': 0
    },
    b: {
      '0': [0, 0],
      '1': [0, 0],
      '2': [0, 0, 0],
      '3': [0, 0],
      '4': [0, 0, 0],
      '5': [0, 0],
      '6': [0, 0],
      '7': [0, 0],
      '8': [0, 0],
      '9': [0, 0],
      '10': [0, 0],
      '11': [0, 0],
      '12': [0, 0],
      '13': [0, 0],
      '14': [0, 0],
      '15': [0, 0],
      '16': [0, 0],
      '17': [0, 0],
      '18': [0, 0],
      '19': [0, 0],
      '20': [0, 0],
      '21': [0, 0],
      '22': [0, 0],
      '23': [0, 0],
      '24': [0, 0],
      '25': [0, 0],
      '26': [0, 0],
      '27': [0, 0],
      '28': [0, 0],
      '29': [0, 0]
    },
    _coverageSchema: '43e27e138ebf9cfc5966b082cf9a028302ed4184',
    hash: '0d65ad79e28bdea9ff9fa21347b388a4e2d3beb9'
  };
  var coverage = global[gcv] || (global[gcv] = {});

  if (coverage[path] && coverage[path].hash === hash) {
    return coverage[path];
  }

  return (coverage[path] = coverageData);
})();

var _interopRequireDefault = require('@babel/runtime/helpers/interopRequireDefault');

var _interopRequireWildcard = require('@babel/runtime/helpers/interopRequireWildcard');

Object.defineProperty(exports, '__esModule', {
  value: true
});
exports.default = void 0;

var _toConsumableArray2 = _interopRequireDefault(require('@babel/runtime/helpers/toConsumableArray'));

var _slicedToArray2 = _interopRequireDefault(require('@babel/runtime/helpers/slicedToArray'));

var _adaptivecards = require('adaptivecards');

var _propTypes = _interopRequireDefault(require('prop-types'));

var _react = _interopRequireWildcard(require('react'));

var _botframeworkWebchatComponent = require('botframework-webchat-component');

var _this = void 0;

var _ref = (cov_igq5uqbll.s[0]++, _botframeworkWebchatComponent.Components),
  ErrorBox = _ref.ErrorBox;

var _ref2 = (cov_igq5uqbll.s[1]++, _botframeworkWebchatComponent.hooks),
  useLocalize = _ref2.useLocalize,
  useStyleSet = _ref2.useStyleSet;

function isPlainObject(obj) {
  cov_igq5uqbll.f[0]++;
  cov_igq5uqbll.s[2]++;
  return Object.getPrototypeOf(obj) === Object.prototype;
}

function disableInputElements(element) {
  cov_igq5uqbll.f[1]++;
  var hyperlinks = (cov_igq5uqbll.s[3]++, element.querySelectorAll('a'));
  var inputs = (cov_igq5uqbll.s[4]++, element.querySelectorAll('button, input, select, textarea'));
  cov_igq5uqbll.s[5]++;

  var disabledHandler = function disabledHandler(event) {
    cov_igq5uqbll.f[2]++;
    cov_igq5uqbll.s[6]++;
    event.preventDefault();
    cov_igq5uqbll.s[7]++;
    event.stopImmediatePropagation();
    cov_igq5uqbll.s[8]++;
    event.stopPropagation();
  };

  cov_igq5uqbll.s[9]++;
  [].forEach.call(inputs, function(input) {
    cov_igq5uqbll.f[3]++;
    cov_igq5uqbll.s[10]++;
    input.disabled = true;
  });
  cov_igq5uqbll.s[11]++;
  [].forEach.call(hyperlinks, function(hyperlink) {
    cov_igq5uqbll.f[4]++;
    cov_igq5uqbll.s[12]++;
    hyperlink.addEventListener('click', disabledHandler);
  });
}

function restoreInputValues(element, inputValues) {
  cov_igq5uqbll.f[5]++;
  var inputs = (cov_igq5uqbll.s[13]++, element.querySelectorAll('input, select, textarea'));
  cov_igq5uqbll.s[14]++;
  [].forEach.call(inputs, function(input, index) {
    cov_igq5uqbll.f[6]++;
    var value = (cov_igq5uqbll.s[15]++, inputValues[index]);
    cov_igq5uqbll.s[16]++;

    if (typeof value !== 'undefined') {
      cov_igq5uqbll.b[0][0]++;

      var _ref3 = (cov_igq5uqbll.s[17]++, input),
        tagName = _ref3.tagName,
        type = _ref3.type;

      cov_igq5uqbll.s[18]++;

      if (
        (cov_igq5uqbll.b[2][0]++, tagName === 'INPUT') &&
        ((cov_igq5uqbll.b[2][1]++, type === 'checkbox') || (cov_igq5uqbll.b[2][2]++, type === 'radio'))
      ) {
        cov_igq5uqbll.b[1][0]++;
        cov_igq5uqbll.s[19]++;
        input.checked = value;
      } else {
        cov_igq5uqbll.b[1][1]++;
        cov_igq5uqbll.s[20]++;
        input.value = value;
      }
    } else {
      cov_igq5uqbll.b[0][1]++;
    }
  });
}

function saveInputValues(element) {
  cov_igq5uqbll.f[7]++;
  var inputs = (cov_igq5uqbll.s[21]++, element.querySelectorAll('input, select, textarea'));
  cov_igq5uqbll.s[22]++;
  return [].map.call(inputs, function(_ref4) {
    var checked = _ref4.checked,
      tagName = _ref4.tagName,
      type = _ref4.type,
      value = _ref4.value;
    cov_igq5uqbll.f[8]++;
    cov_igq5uqbll.s[23]++;

    if (
      (cov_igq5uqbll.b[4][0]++, tagName === 'INPUT') &&
      ((cov_igq5uqbll.b[4][1]++, type === 'checkbox') || (cov_igq5uqbll.b[4][2]++, type === 'radio'))
    ) {
      cov_igq5uqbll.b[3][0]++;
      cov_igq5uqbll.s[24]++;
      return checked;
    } else {
      cov_igq5uqbll.b[3][1]++;
    }

    cov_igq5uqbll.s[25]++;
    return value;
  });
}

cov_igq5uqbll.s[26]++;

var AdaptiveCardRenderer = function AdaptiveCardRenderer(_ref5) {
  var adaptiveCard = _ref5.adaptiveCard,
    adaptiveCardHostConfig = _ref5.adaptiveCardHostConfig,
    disabled = _ref5.disabled,
    performCardAction = _ref5.performCardAction,
    renderMarkdown = _ref5.renderMarkdown,
    tapAction = _ref5.tapAction;
  cov_igq5uqbll.f[9]++;

  var _ref6 = (cov_igq5uqbll.s[27]++, useStyleSet()),
    _ref7 = (0, _slicedToArray2.default)(_ref6, 1),
    adaptiveCardRendererStyleSet = _ref7[0].adaptiveCardRenderer;

  var errorMessage = (cov_igq5uqbll.s[28]++, useLocalize('Adaptive Card render error'));

  var _ref8 = (cov_igq5uqbll.s[29]++, (0, _react.useState)()),
    _ref9 = (0, _slicedToArray2.default)(_ref8, 2),
    error = _ref9[0],
    setError = _ref9[1];

  var contentRef = (cov_igq5uqbll.s[30]++, (0, _react.useRef)());
  var inputValuesRef = (cov_igq5uqbll.s[31]++, (0, _react.useRef)([]));
  var handleClick =
    (cov_igq5uqbll.s[32]++,
    (0, _react.useCallback)(
      function(_ref10) {
        var target = _ref10.target;
        cov_igq5uqbll.f[10]++;
        cov_igq5uqbll.s[33]++;

        // Some items, e.g. tappable text, cannot be disabled thru DOM attributes
        if (!disabled) {
          cov_igq5uqbll.b[5][0]++;
          var tabIndex = (cov_igq5uqbll.s[34]++, (0, _botframeworkWebchatComponent.getTabIndex)(target)); // If the user is clicking on something that is already clickable, do not allow them to click the card.
          // E.g. a hero card can be tappable, and image and buttons inside the hero card can also be tappable.

          cov_igq5uqbll.s[35]++;

          if ((cov_igq5uqbll.b[7][0]++, typeof tabIndex !== 'number') || (cov_igq5uqbll.b[7][1]++, tabIndex < 0)) {
            cov_igq5uqbll.b[6][0]++;
            cov_igq5uqbll.s[36]++;
            (cov_igq5uqbll.b[8][0]++, tapAction) && (cov_igq5uqbll.b[8][1]++, performCardAction(tapAction));
          } else {
            cov_igq5uqbll.b[6][1]++;
          }

          var _ref11 = (cov_igq5uqbll.s[37]++, _this.contentRef),
            current = _ref11.current;

          cov_igq5uqbll.s[38]++;

          if (current) {
            cov_igq5uqbll.b[9][0]++;
            var inputs = (cov_igq5uqbll.s[39]++, current.querySelectorAll('button, input, select, textarea'));
            cov_igq5uqbll.s[40]++;

            if (inputs.length > 0) {
              cov_igq5uqbll.b[10][0]++;
              cov_igq5uqbll.s[41]++;

              for (var inputsKey in inputs) {
                cov_igq5uqbll.s[42]++;

                if (inputs.hasOwnProperty(inputsKey)) {
                  cov_igq5uqbll.b[11][0]++;
                  cov_igq5uqbll.s[43]++;
                  inputs[inputsKey].setAttribute('disabled', 'disabled');
                  cov_igq5uqbll.s[44]++;
                  inputs[inputsKey].setAttribute('style', 'background: #dcdcdc;');
                } else {
                  cov_igq5uqbll.b[11][1]++;
                }
              }
            } else {
              cov_igq5uqbll.b[10][1]++;
            }
          } else {
            cov_igq5uqbll.b[9][1]++;
          }
        } else {
          cov_igq5uqbll.b[5][1]++;
        }
      },
      [disabled, performCardAction, tapAction]
    ));
  var handleExecuteAction =
    (cov_igq5uqbll.s[45]++,
    (0, _react.useCallback)(
      function(action) {
        cov_igq5uqbll.f[11]++;
        cov_igq5uqbll.s[46]++;

        // Some items, e.g. tappable image, cannot be disabled thru DOM attributes
        if (disabled) {
          cov_igq5uqbll.b[12][0]++;
          cov_igq5uqbll.s[47]++;
          return;
        } else {
          cov_igq5uqbll.b[12][1]++;
        }

        var actionTypeName = (cov_igq5uqbll.s[48]++, action.getJsonTypeName());
        cov_igq5uqbll.s[49]++;

        if (actionTypeName === 'Action.OpenUrl') {
          cov_igq5uqbll.b[13][0]++;
          cov_igq5uqbll.s[50]++;
          performCardAction({
            type: 'openUrl',
            value: action.url
          });
        } else {
          cov_igq5uqbll.b[13][1]++;
          cov_igq5uqbll.s[51]++;

          if (actionTypeName === 'Action.Submit') {
            cov_igq5uqbll.b[14][0]++;
            cov_igq5uqbll.s[52]++;

            if (typeof action.data !== 'undefined') {
              cov_igq5uqbll.b[15][0]++;

              var _ref12 = (cov_igq5uqbll.s[53]++, action),
                actionData = _ref12.data;

              cov_igq5uqbll.s[54]++;

              if (
                (cov_igq5uqbll.b[17][0]++, actionData) &&
                (cov_igq5uqbll.b[17][1]++, actionData.__isBotFrameworkCardAction)
              ) {
                cov_igq5uqbll.b[16][0]++;

                var _ref13 = (cov_igq5uqbll.s[55]++, actionData),
                  cardAction = _ref13.cardAction;

                var _ref14 = (cov_igq5uqbll.s[56]++, cardAction),
                  displayText = _ref14.displayText,
                  type = _ref14.type,
                  value = _ref14.value;

                cov_igq5uqbll.s[57]++;
                performCardAction({
                  displayText: displayText,
                  type: type,
                  value: value
                });
              } else {
                cov_igq5uqbll.b[16][1]++;
                cov_igq5uqbll.s[58]++;
                performCardAction({
                  type:
                    typeof action.data === 'string'
                      ? (cov_igq5uqbll.b[18][0]++, 'imBack')
                      : (cov_igq5uqbll.b[18][1]++, 'postBack'),
                  value: action.data
                });
              }
            } else {
              cov_igq5uqbll.b[15][1]++;
            }
          } else {
            cov_igq5uqbll.b[14][1]++;
            cov_igq5uqbll.s[59]++;
            console.error('Web Chat: received unknown action from Adaptive Cards');
            cov_igq5uqbll.s[60]++;
            console.error(action);
          }
        }
      },
      [disabled, performCardAction]
    ));
  cov_igq5uqbll.s[61]++;
  (0, _react.useLayoutEffect)(
    function() {
      cov_igq5uqbll.f[12]++;

      var _ref15 = (cov_igq5uqbll.s[62]++, contentRef),
        current = _ref15.current;

      cov_igq5uqbll.s[63]++;

      if ((cov_igq5uqbll.b[20][0]++, current) && (cov_igq5uqbll.b[20][1]++, adaptiveCard)) {
        cov_igq5uqbll.b[19][0]++;
        cov_igq5uqbll.s[64]++;

        // Currently, the only way to set the Markdown engine is to set it thru static member of AdaptiveCard class
        // TODO: [P3] Checks if we could make the "renderMarkdown" per card
        //       This could be limitations from Adaptive Cards package
        //       Because there could be timing difference between .parse and .render, we could be using wrong Markdown engine
        adaptiveCard.constructor.onProcessMarkdown = function(text, result) {
          cov_igq5uqbll.f[13]++;
          cov_igq5uqbll.s[65]++;

          if (renderMarkdown) {
            cov_igq5uqbll.b[21][0]++;
            cov_igq5uqbll.s[66]++;
            result.outputHtml = renderMarkdown(text);
            cov_igq5uqbll.s[67]++;
            result.didProcess = true;
          } else {
            cov_igq5uqbll.b[21][1]++;
          }
        };

        cov_igq5uqbll.s[68]++;
        adaptiveCard.onExecuteAction = handleExecuteAction;
        cov_igq5uqbll.s[69]++;

        if (adaptiveCardHostConfig) {
          cov_igq5uqbll.b[22][0]++;
          cov_igq5uqbll.s[70]++;
          adaptiveCard.hostConfig = isPlainObject(adaptiveCardHostConfig)
            ? (cov_igq5uqbll.b[23][0]++, new _adaptivecards.HostConfig(adaptiveCardHostConfig))
            : (cov_igq5uqbll.b[23][1]++, adaptiveCardHostConfig);
        } else {
          cov_igq5uqbll.b[22][1]++;
        }

        var _ref16 = (cov_igq5uqbll.s[71]++, adaptiveCard.validateProperties()),
          failures = _ref16.failures;

        cov_igq5uqbll.s[72]++;

        if (failures.length) {
          cov_igq5uqbll.b[24][0]++;
          // TODO: [P3] Since this can be called from `componentDidUpdate` and potentially error, we should fix a better way to propagate the error.
          var errors =
            (cov_igq5uqbll.s[73]++,
            failures.reduce(function(items, _ref17) {
              var errors = _ref17.errors;
              cov_igq5uqbll.f[14]++;
              cov_igq5uqbll.s[74]++;
              return [].concat((0, _toConsumableArray2.default)(items), (0, _toConsumableArray2.default)(errors));
            }, []));
          cov_igq5uqbll.s[75]++;
          return setError(errors);
        } else {
          cov_igq5uqbll.b[24][1]++;
        }

        var element;
        cov_igq5uqbll.s[76]++;

        try {
          cov_igq5uqbll.s[77]++;
          element = adaptiveCard.render();
        } catch (error) {
          cov_igq5uqbll.s[78]++;
          return setError(error);
        }

        cov_igq5uqbll.s[79]++;

        if (!element) {
          cov_igq5uqbll.b[25][0]++;
          cov_igq5uqbll.s[80]++;
          return setError('Adaptive Card rendered as empty element');
        } else {
          cov_igq5uqbll.b[25][1]++;
        }

        cov_igq5uqbll.s[81]++;
        (cov_igq5uqbll.b[26][0]++, error) && (cov_igq5uqbll.b[26][1]++, setError(null));
        cov_igq5uqbll.s[82]++;
        (cov_igq5uqbll.b[27][0]++, disabled) && (cov_igq5uqbll.b[27][1]++, disableInputElements(element));
        cov_igq5uqbll.s[83]++;
        restoreInputValues(element, inputValuesRef.current);

        var _ref18 = (cov_igq5uqbll.s[84]++, current.children),
          _ref19 = (0, _slicedToArray2.default)(_ref18, 1),
          firstChild = _ref19[0];

        cov_igq5uqbll.s[85]++;

        if (firstChild) {
          cov_igq5uqbll.b[28][0]++;
          cov_igq5uqbll.s[86]++;
          current.replaceChild(element, firstChild);
        } else {
          cov_igq5uqbll.b[28][1]++;
          cov_igq5uqbll.s[87]++;
          current.appendChild(element);
        }

        cov_igq5uqbll.s[88]++;
        return function() {
          cov_igq5uqbll.f[15]++;
          cov_igq5uqbll.s[89]++;
          inputValuesRef.current = saveInputValues(element);
        };
      } else {
        cov_igq5uqbll.b[19][1]++;
      }
    },
    [adaptiveCard, adaptiveCardHostConfig, contentRef, disabled, error, handleExecuteAction, renderMarkdown]
  );
  cov_igq5uqbll.s[90]++;
  return error
    ? (cov_igq5uqbll.b[29][0]++,
      _react.default.createElement(
        ErrorBox,
        {
          message: errorMessage
        },
        _react.default.createElement('pre', null, JSON.stringify(error, null, 2))
      ))
    : (cov_igq5uqbll.b[29][1]++,
      _react.default.createElement('div', {
        className: adaptiveCardRendererStyleSet,
        onClick: handleClick,
        ref: contentRef
      }));
};

cov_igq5uqbll.s[91]++;
AdaptiveCardRenderer.propTypes = {
  adaptiveCard: _propTypes.default.any.isRequired,
  adaptiveCardHostConfig: _propTypes.default.any.isRequired,
  disabled: _propTypes.default.bool,
  performCardAction: _propTypes.default.func.isRequired,
  renderMarkdown: _propTypes.default.func.isRequired,
  tapAction: _propTypes.default.shape({
    type: _propTypes.default.string.isRequired,
    value: _propTypes.default.string
  })
};
cov_igq5uqbll.s[92]++;
AdaptiveCardRenderer.defaultProps = {
  disabled: false,
  tapAction: undefined
};

var _default = (0, _botframeworkWebchatComponent.connectToWebChat)(function(_ref20) {
  var disabled = _ref20.disabled,
    onCardAction = _ref20.onCardAction,
    renderMarkdown = _ref20.renderMarkdown,
    tapAction = _ref20.tapAction;
  cov_igq5uqbll.f[16]++;
  cov_igq5uqbll.s[93]++;
  return {
    disabled: disabled,
    performCardAction: onCardAction,
    renderMarkdown: renderMarkdown,
    tapAction: tapAction
  };
})(AdaptiveCardRenderer);

exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9hZGFwdGl2ZUNhcmRzL0F0dGFjaG1lbnQvQWRhcHRpdmVDYXJkUmVuZGVyZXIuanMiXSwibmFtZXMiOlsiQ29tcG9uZW50cyIsIkVycm9yQm94IiwiaG9va3MiLCJ1c2VMb2NhbGl6ZSIsInVzZVN0eWxlU2V0IiwiaXNQbGFpbk9iamVjdCIsIm9iaiIsIk9iamVjdCIsImdldFByb3RvdHlwZU9mIiwicHJvdG90eXBlIiwiZGlzYWJsZUlucHV0RWxlbWVudHMiLCJlbGVtZW50IiwiaHlwZXJsaW5rcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpbnB1dHMiLCJkaXNhYmxlZEhhbmRsZXIiLCJldmVudCIsInByZXZlbnREZWZhdWx0Iiwic3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uIiwic3RvcFByb3BhZ2F0aW9uIiwiZm9yRWFjaCIsImNhbGwiLCJpbnB1dCIsImRpc2FibGVkIiwiaHlwZXJsaW5rIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlc3RvcmVJbnB1dFZhbHVlcyIsImlucHV0VmFsdWVzIiwiaW5kZXgiLCJ2YWx1ZSIsInRhZ05hbWUiLCJ0eXBlIiwiY2hlY2tlZCIsInNhdmVJbnB1dFZhbHVlcyIsIm1hcCIsIkFkYXB0aXZlQ2FyZFJlbmRlcmVyIiwiYWRhcHRpdmVDYXJkIiwiYWRhcHRpdmVDYXJkSG9zdENvbmZpZyIsInBlcmZvcm1DYXJkQWN0aW9uIiwicmVuZGVyTWFya2Rvd24iLCJ0YXBBY3Rpb24iLCJhZGFwdGl2ZUNhcmRSZW5kZXJlclN0eWxlU2V0IiwiYWRhcHRpdmVDYXJkUmVuZGVyZXIiLCJlcnJvck1lc3NhZ2UiLCJlcnJvciIsInNldEVycm9yIiwiY29udGVudFJlZiIsImlucHV0VmFsdWVzUmVmIiwiaGFuZGxlQ2xpY2siLCJ0YXJnZXQiLCJ0YWJJbmRleCIsImN1cnJlbnQiLCJsZW5ndGgiLCJpbnB1dHNLZXkiLCJoYXNPd25Qcm9wZXJ0eSIsInNldEF0dHJpYnV0ZSIsImhhbmRsZUV4ZWN1dGVBY3Rpb24iLCJhY3Rpb24iLCJhY3Rpb25UeXBlTmFtZSIsImdldEpzb25UeXBlTmFtZSIsInVybCIsImRhdGEiLCJhY3Rpb25EYXRhIiwiX19pc0JvdEZyYW1ld29ya0NhcmRBY3Rpb24iLCJjYXJkQWN0aW9uIiwiZGlzcGxheVRleHQiLCJjb25zb2xlIiwiY29uc3RydWN0b3IiLCJvblByb2Nlc3NNYXJrZG93biIsInRleHQiLCJyZXN1bHQiLCJvdXRwdXRIdG1sIiwiZGlkUHJvY2VzcyIsIm9uRXhlY3V0ZUFjdGlvbiIsImhvc3RDb25maWciLCJIb3N0Q29uZmlnIiwidmFsaWRhdGVQcm9wZXJ0aWVzIiwiZmFpbHVyZXMiLCJlcnJvcnMiLCJyZWR1Y2UiLCJpdGVtcyIsInJlbmRlciIsImNoaWxkcmVuIiwiZmlyc3RDaGlsZCIsInJlcGxhY2VDaGlsZCIsImFwcGVuZENoaWxkIiwiSlNPTiIsInN0cmluZ2lmeSIsInByb3BUeXBlcyIsIlByb3BUeXBlcyIsImFueSIsImlzUmVxdWlyZWQiLCJib29sIiwiZnVuYyIsInNoYXBlIiwic3RyaW5nIiwiZGVmYXVsdFByb3BzIiwidW5kZWZpbmVkIiwib25DYXJkQWN0aW9uIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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Q29udGVudCI6WyIvKiBlc2xpbnQgbm8tbWFnaWMtbnVtYmVyczogW1wiZXJyb3JcIiwgeyBcImlnbm9yZVwiOiBbMCwgMl0gfV0gKi9cblxuaW1wb3J0IHsgSG9zdENvbmZpZyB9IGZyb20gJ2FkYXB0aXZlY2FyZHMnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBSZWFjdCwgeyB1c2VDYWxsYmFjaywgdXNlTGF5b3V0RWZmZWN0LCB1c2VSZWYsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgeyBDb21wb25lbnRzLCBjb25uZWN0VG9XZWJDaGF0LCBnZXRUYWJJbmRleCwgaG9va3MgfSBmcm9tICdib3RmcmFtZXdvcmstd2ViY2hhdC1jb21wb25lbnQnO1xuXG5jb25zdCB7IEVycm9yQm94IH0gPSBDb21wb25lbnRzO1xuY29uc3QgeyB1c2VMb2NhbGl6ZSwgdXNlU3R5bGVTZXQgfSA9IGhvb2tzO1xuXG5mdW5jdGlvbiBpc1BsYWluT2JqZWN0KG9iaikge1xuICByZXR1cm4gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iaikgPT09IE9iamVjdC5wcm90b3R5cGU7XG59XG5cbmZ1bmN0aW9uIGRpc2FibGVJbnB1dEVsZW1lbnRzKGVsZW1lbnQpIHtcbiAgY29uc3QgaHlwZXJsaW5rcyA9IGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnYScpO1xuICBjb25zdCBpbnB1dHMgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2J1dHRvbiwgaW5wdXQsIHNlbGVjdCwgdGV4dGFyZWEnKTtcblxuICBjb25zdCBkaXNhYmxlZEhhbmRsZXIgPSBldmVudCA9PiB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBldmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgfTtcblxuICBbXS5mb3JFYWNoLmNhbGwoaW5wdXRzLCBpbnB1dCA9PiB7XG4gICAgaW5wdXQuZGlzYWJsZWQgPSB0cnVlO1xuICB9KTtcblxuICBbXS5mb3JFYWNoLmNhbGwoaHlwZXJsaW5rcywgaHlwZXJsaW5rID0+IHtcbiAgICBoeXBlcmxpbmsuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBkaXNhYmxlZEhhbmRsZXIpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gcmVzdG9yZUlucHV0VmFsdWVzKGVsZW1lbnQsIGlucHV0VmFsdWVzKSB7XG4gIGNvbnN0IGlucHV0cyA9IGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnaW5wdXQsIHNlbGVjdCwgdGV4dGFyZWEnKTtcblxuICBbXS5mb3JFYWNoLmNhbGwoaW5wdXRzLCAoaW5wdXQsIGluZGV4KSA9PiB7XG4gICAgY29uc3QgdmFsdWUgPSBpbnB1dFZhbHVlc1tpbmRleF07XG5cbiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uc3QgeyB0YWdOYW1lLCB0eXBlIH0gPSBpbnB1dDtcblxuICAgICAgaWYgKHRhZ05hbWUgPT09ICdJTlBVVCcgJiYgKHR5cGUgPT09ICdjaGVja2JveCcgfHwgdHlwZSA9PT0gJ3JhZGlvJykpIHtcbiAgICAgICAgaW5wdXQuY2hlY2tlZCA9IHZhbHVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW5wdXQudmFsdWUgPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBzYXZlSW5wdXRWYWx1ZXMoZWxlbWVudCkge1xuICBjb25zdCBpbnB1dHMgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0LCBzZWxlY3QsIHRleHRhcmVhJyk7XG5cbiAgcmV0dXJuIFtdLm1hcC5jYWxsKGlucHV0cywgKHsgY2hlY2tlZCwgdGFnTmFtZSwgdHlwZSwgdmFsdWUgfSkgPT4ge1xuICAgIGlmICh0YWdOYW1lID09PSAnSU5QVVQnICYmICh0eXBlID09PSAnY2hlY2tib3gnIHx8IHR5cGUgPT09ICdyYWRpbycpKSB7XG4gICAgICByZXR1cm4gY2hlY2tlZDtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsdWU7XG4gIH0pO1xufVxuXG5jb25zdCBBZGFwdGl2ZUNhcmRSZW5kZXJlciA9ICh7XG4gIGFkYXB0aXZlQ2FyZCxcbiAgYWRhcHRpdmVDYXJkSG9zdENvbmZpZyxcbiAgZGlzYWJsZWQsXG4gIHBlcmZvcm1DYXJkQWN0aW9uLFxuICByZW5kZXJNYXJrZG93bixcbiAgdGFwQWN0aW9uXG59KSA9PiB7XG4gIGNvbnN0IFt7IGFkYXB0aXZlQ2FyZFJlbmRlcmVyOiBhZGFwdGl2ZUNhcmRSZW5kZXJlclN0eWxlU2V0IH1dID0gdXNlU3R5bGVTZXQoKTtcbiAgY29uc3QgZXJyb3JNZXNzYWdlID0gdXNlTG9jYWxpemUoJ0FkYXB0aXZlIENhcmQgcmVuZGVyIGVycm9yJyk7XG5cbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZSgpO1xuICBjb25zdCBjb250ZW50UmVmID0gdXNlUmVmKCk7XG4gIGNvbnN0IGlucHV0VmFsdWVzUmVmID0gdXNlUmVmKFtdKTtcblxuICBjb25zdCBoYW5kbGVDbGljayA9IHVzZUNhbGxiYWNrKFxuICAgICh7IHRhcmdldCB9KSA9PiB7XG4gICAgICAvLyBTb21lIGl0ZW1zLCBlLmcuIHRhcHBhYmxlIHRleHQsIGNhbm5vdCBiZSBkaXNhYmxlZCB0aHJ1IERPTSBhdHRyaWJ1dGVzXG4gICAgICBpZiAoIWRpc2FibGVkKSB7XG4gICAgICAgIGNvbnN0IHRhYkluZGV4ID0gZ2V0VGFiSW5kZXgodGFyZ2V0KTtcblxuICAgICAgICAvLyBJZiB0aGUgdXNlciBpcyBjbGlja2luZyBvbiBzb21ldGhpbmcgdGhhdCBpcyBhbHJlYWR5IGNsaWNrYWJsZSwgZG8gbm90IGFsbG93IHRoZW0gdG8gY2xpY2sgdGhlIGNhcmQuXG4gICAgICAgIC8vIEUuZy4gYSBoZXJvIGNhcmQgY2FuIGJlIHRhcHBhYmxlLCBhbmQgaW1hZ2UgYW5kIGJ1dHRvbnMgaW5zaWRlIHRoZSBoZXJvIGNhcmQgY2FuIGFsc28gYmUgdGFwcGFibGUuXG4gICAgICAgIGlmICh0eXBlb2YgdGFiSW5kZXggIT09ICdudW1iZXInIHx8IHRhYkluZGV4IDwgMCkge1xuICAgICAgICAgIHRhcEFjdGlvbiAmJiBwZXJmb3JtQ2FyZEFjdGlvbih0YXBBY3Rpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgeyBjdXJyZW50IH0gPSB0aGlzLmNvbnRlbnRSZWY7XG4gICAgICAgIGlmIChjdXJyZW50KSB7XG4gICAgICAgICAgY29uc3QgaW5wdXRzID0gY3VycmVudC5xdWVyeVNlbGVjdG9yQWxsKCdidXR0b24sIGlucHV0LCBzZWxlY3QsIHRleHRhcmVhJyk7XG4gICAgICAgICAgaWYgKGlucHV0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGlucHV0c0tleSBpbiBpbnB1dHMpIHtcbiAgICAgICAgICAgICAgaWYgKGlucHV0cy5oYXNPd25Qcm9wZXJ0eShpbnB1dHNLZXkpKSB7XG4gICAgICAgICAgICAgICAgaW5wdXRzW2lucHV0c0tleV0uc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpO1xuICAgICAgICAgICAgICAgIGlucHV0c1tpbnB1dHNLZXldLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAnYmFja2dyb3VuZDogI2RjZGNkYzsnKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgW2Rpc2FibGVkLCBwZXJmb3JtQ2FyZEFjdGlvbiwgdGFwQWN0aW9uXVxuICApO1xuXG4gIGNvbnN0IGhhbmRsZUV4ZWN1dGVBY3Rpb24gPSB1c2VDYWxsYmFjayhcbiAgICBhY3Rpb24gPT4ge1xuICAgICAgLy8gU29tZSBpdGVtcywgZS5nLiB0YXBwYWJsZSBpbWFnZSwgY2Fubm90IGJlIGRpc2FibGVkIHRocnUgRE9NIGF0dHJpYnV0ZXNcbiAgICAgIGlmIChkaXNhYmxlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGFjdGlvblR5cGVOYW1lID0gYWN0aW9uLmdldEpzb25UeXBlTmFtZSgpO1xuXG4gICAgICBpZiAoYWN0aW9uVHlwZU5hbWUgPT09ICdBY3Rpb24uT3BlblVybCcpIHtcbiAgICAgICAgcGVyZm9ybUNhcmRBY3Rpb24oe1xuICAgICAgICAgIHR5cGU6ICdvcGVuVXJsJyxcbiAgICAgICAgICB2YWx1ZTogYWN0aW9uLnVybFxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAoYWN0aW9uVHlwZU5hbWUgPT09ICdBY3Rpb24uU3VibWl0Jykge1xuICAgICAgICBpZiAodHlwZW9mIGFjdGlvbi5kYXRhICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIGNvbnN0IHsgZGF0YTogYWN0aW9uRGF0YSB9ID0gYWN0aW9uO1xuXG4gICAgICAgICAgaWYgKGFjdGlvbkRhdGEgJiYgYWN0aW9uRGF0YS5fX2lzQm90RnJhbWV3b3JrQ2FyZEFjdGlvbikge1xuICAgICAgICAgICAgY29uc3QgeyBjYXJkQWN0aW9uIH0gPSBhY3Rpb25EYXRhO1xuICAgICAgICAgICAgY29uc3QgeyBkaXNwbGF5VGV4dCwgdHlwZSwgdmFsdWUgfSA9IGNhcmRBY3Rpb247XG5cbiAgICAgICAgICAgIHBlcmZvcm1DYXJkQWN0aW9uKHsgZGlzcGxheVRleHQsIHR5cGUsIHZhbHVlIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZXJmb3JtQ2FyZEFjdGlvbih7XG4gICAgICAgICAgICAgIHR5cGU6IHR5cGVvZiBhY3Rpb24uZGF0YSA9PT0gJ3N0cmluZycgPyAnaW1CYWNrJyA6ICdwb3N0QmFjaycsXG4gICAgICAgICAgICAgIHZhbHVlOiBhY3Rpb24uZGF0YVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBXZWIgQ2hhdDogcmVjZWl2ZWQgdW5rbm93biBhY3Rpb24gZnJvbSBBZGFwdGl2ZSBDYXJkc2ApO1xuICAgICAgICBjb25zb2xlLmVycm9yKGFjdGlvbik7XG4gICAgICB9XG4gICAgfSxcbiAgICBbZGlzYWJsZWQsIHBlcmZvcm1DYXJkQWN0aW9uXVxuICApO1xuXG4gIHVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgeyBjdXJyZW50IH0gPSBjb250ZW50UmVmO1xuXG4gICAgaWYgKGN1cnJlbnQgJiYgYWRhcHRpdmVDYXJkKSB7XG4gICAgICAvLyBDdXJyZW50bHksIHRoZSBvbmx5IHdheSB0byBzZXQgdGhlIE1hcmtkb3duIGVuZ2luZSBpcyB0byBzZXQgaXQgdGhydSBzdGF0aWMgbWVtYmVyIG9mIEFkYXB0aXZlQ2FyZCBjbGFzc1xuXG4gICAgICAvLyBUT0RPOiBbUDNdIENoZWNrcyBpZiB3ZSBjb3VsZCBtYWtlIHRoZSBcInJlbmRlck1hcmtkb3duXCIgcGVyIGNhcmRcbiAgICAgIC8vICAgICAgIFRoaXMgY291bGQgYmUgbGltaXRhdGlvbnMgZnJvbSBBZGFwdGl2ZSBDYXJkcyBwYWNrYWdlXG4gICAgICAvLyAgICAgICBCZWNhdXNlIHRoZXJlIGNvdWxkIGJlIHRpbWluZyBkaWZmZXJlbmNlIGJldHdlZW4gLnBhcnNlIGFuZCAucmVuZGVyLCB3ZSBjb3VsZCBiZSB1c2luZyB3cm9uZyBNYXJrZG93biBlbmdpbmVcblxuICAgICAgYWRhcHRpdmVDYXJkLmNvbnN0cnVjdG9yLm9uUHJvY2Vzc01hcmtkb3duID0gKHRleHQsIHJlc3VsdCkgPT4ge1xuICAgICAgICBpZiAocmVuZGVyTWFya2Rvd24pIHtcbiAgICAgICAgICByZXN1bHQub3V0cHV0SHRtbCA9IHJlbmRlck1hcmtkb3duKHRleHQpO1xuICAgICAgICAgIHJlc3VsdC5kaWRQcm9jZXNzID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgYWRhcHRpdmVDYXJkLm9uRXhlY3V0ZUFjdGlvbiA9IGhhbmRsZUV4ZWN1dGVBY3Rpb247XG5cbiAgICAgIGlmIChhZGFwdGl2ZUNhcmRIb3N0Q29uZmlnKSB7XG4gICAgICAgIGFkYXB0aXZlQ2FyZC5ob3N0Q29uZmlnID0gaXNQbGFpbk9iamVjdChhZGFwdGl2ZUNhcmRIb3N0Q29uZmlnKVxuICAgICAgICAgID8gbmV3IEhvc3RDb25maWcoYWRhcHRpdmVDYXJkSG9zdENvbmZpZylcbiAgICAgICAgICA6IGFkYXB0aXZlQ2FyZEhvc3RDb25maWc7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHsgZmFpbHVyZXMgfSA9IGFkYXB0aXZlQ2FyZC52YWxpZGF0ZVByb3BlcnRpZXMoKTtcblxuICAgICAgaWYgKGZhaWx1cmVzLmxlbmd0aCkge1xuICAgICAgICAvLyBUT0RPOiBbUDNdIFNpbmNlIHRoaXMgY2FuIGJlIGNhbGxlZCBmcm9tIGBjb21wb25lbnREaWRVcGRhdGVgIGFuZCBwb3RlbnRpYWxseSBlcnJvciwgd2Ugc2hvdWxkIGZpeCBhIGJldHRlciB3YXkgdG8gcHJvcGFnYXRlIHRoZSBlcnJvci5cbiAgICAgICAgY29uc3QgZXJyb3JzID0gZmFpbHVyZXMucmVkdWNlKChpdGVtcywgeyBlcnJvcnMgfSkgPT4gWy4uLml0ZW1zLCAuLi5lcnJvcnNdLCBbXSk7XG5cbiAgICAgICAgcmV0dXJuIHNldEVycm9yKGVycm9ycyk7XG4gICAgICB9XG5cbiAgICAgIGxldCBlbGVtZW50O1xuXG4gICAgICB0cnkge1xuICAgICAgICBlbGVtZW50ID0gYWRhcHRpdmVDYXJkLnJlbmRlcigpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIHNldEVycm9yKGVycm9yKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFlbGVtZW50KSB7XG4gICAgICAgIHJldHVybiBzZXRFcnJvcignQWRhcHRpdmUgQ2FyZCByZW5kZXJlZCBhcyBlbXB0eSBlbGVtZW50Jyk7XG4gICAgICB9XG5cbiAgICAgIGVycm9yICYmIHNldEVycm9yKG51bGwpO1xuXG4gICAgICBkaXNhYmxlZCAmJiBkaXNhYmxlSW5wdXRFbGVtZW50cyhlbGVtZW50KTtcbiAgICAgIHJlc3RvcmVJbnB1dFZhbHVlcyhlbGVtZW50LCBpbnB1dFZhbHVlc1JlZi5jdXJyZW50KTtcblxuICAgICAgY29uc3QgW2ZpcnN0Q2hpbGRdID0gY3VycmVudC5jaGlsZHJlbjtcblxuICAgICAgaWYgKGZpcnN0Q2hpbGQpIHtcbiAgICAgICAgY3VycmVudC5yZXBsYWNlQ2hpbGQoZWxlbWVudCwgZmlyc3RDaGlsZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjdXJyZW50LmFwcGVuZENoaWxkKGVsZW1lbnQpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBpbnB1dFZhbHVlc1JlZi5jdXJyZW50ID0gc2F2ZUlucHV0VmFsdWVzKGVsZW1lbnQpO1xuICAgICAgfTtcbiAgICB9XG4gIH0sIFthZGFwdGl2ZUNhcmQsIGFkYXB0aXZlQ2FyZEhvc3RDb25maWcsIGNvbnRlbnRSZWYsIGRpc2FibGVkLCBlcnJvciwgaGFuZGxlRXhlY3V0ZUFjdGlvbiwgcmVuZGVyTWFya2Rvd25dKTtcblxuICByZXR1cm4gZXJyb3IgPyAoXG4gICAgPEVycm9yQm94IG1lc3NhZ2U9e2Vycm9yTWVzc2FnZX0+XG4gICAgICA8cHJlPntKU09OLnN0cmluZ2lmeShlcnJvciwgbnVsbCwgMil9PC9wcmU+XG4gICAgPC9FcnJvckJveD5cbiAgKSA6IChcbiAgICA8ZGl2IGNsYXNzTmFtZT17YWRhcHRpdmVDYXJkUmVuZGVyZXJTdHlsZVNldH0gb25DbGljaz17aGFuZGxlQ2xpY2t9IHJlZj17Y29udGVudFJlZn0gLz5cbiAgKTtcbn07XG5cbkFkYXB0aXZlQ2FyZFJlbmRlcmVyLnByb3BUeXBlcyA9IHtcbiAgYWRhcHRpdmVDYXJkOiBQcm9wVHlwZXMuYW55LmlzUmVxdWlyZWQsXG4gIGFkYXB0aXZlQ2FyZEhvc3RDb25maWc6IFByb3BUeXBlcy5hbnkuaXNSZXF1aXJlZCxcbiAgZGlzYWJsZWQ6IFByb3BUeXBlcy5ib29sLFxuICBwZXJmb3JtQ2FyZEFjdGlvbjogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgcmVuZGVyTWFya2Rvd246IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gIHRhcEFjdGlvbjogUHJvcFR5cGVzLnNoYXBlKHtcbiAgICB0eXBlOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gICAgdmFsdWU6IFByb3BUeXBlcy5zdHJpbmdcbiAgfSlcbn07XG5cbkFkYXB0aXZlQ2FyZFJlbmRlcmVyLmRlZmF1bHRQcm9wcyA9IHtcbiAgZGlzYWJsZWQ6IGZhbHNlLFxuICB0YXBBY3Rpb246IHVuZGVmaW5lZFxufTtcblxuZXhwb3J0IGRlZmF1bHQgY29ubmVjdFRvV2ViQ2hhdCgoeyBkaXNhYmxlZCwgb25DYXJkQWN0aW9uLCByZW5kZXJNYXJrZG93biwgdGFwQWN0aW9uIH0pID0+ICh7XG4gIGRpc2FibGVkLFxuICBwZXJmb3JtQ2FyZEFjdGlvbjogb25DYXJkQWN0aW9uLFxuICByZW5kZXJNYXJrZG93bixcbiAgdGFwQWN0aW9uXG59KSkoQWRhcHRpdmVDYXJkUmVuZGVyZXIpO1xuIl19
