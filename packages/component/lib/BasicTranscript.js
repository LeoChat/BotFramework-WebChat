'use strict';

var cov_20bpmxowrr = (function() {
  var path = '/home/guy/leo/BotFramework-WebChat/packages/component/src/BasicTranscript.js';
  var hash = 'd7a4209f4e1abf862229ee919872ed3b25719d0b';
  var global = new Function('return this')();
  var gcv = '__coverage__';
  var coverageData = {
    path: '/home/guy/leo/BotFramework-WebChat/packages/component/src/BasicTranscript.js',
    statementMap: {
      '0': {
        start: {
          line: 20,
          column: 17
        },
        end: {
          line: 23,
          column: 2
        }
      },
      '1': {
        start: {
          line: 25,
          column: 18
        },
        end: {
          line: 29,
          column: 2
        }
      },
      '2': {
        start: {
          line: 31,
          column: 19
        },
        end: {
          line: 33,
          column: 2
        }
      },
      '3': {
        start: {
          line: 35,
          column: 17
        },
        end: {
          line: 41,
          column: 2
        }
      },
      '4': {
        start: {
          line: 43,
          column: 32
        },
        end: {
          line: 43,
          column: 38
        }
      },
      '5': {
        start: {
          line: 46,
          column: 2
        },
        end: {
          line: 57,
          column: 3
        }
      },
      '6': {
        start: {
          line: 47,
          column: 4
        },
        end: {
          line: 47,
          column: 16
        }
      },
      '7': {
        start: {
          line: 48,
          column: 9
        },
        end: {
          line: 57,
          column: 3
        }
      },
      '8': {
        start: {
          line: 49,
          column: 4
        },
        end: {
          line: 49,
          column: 99
        }
      },
      '9': {
        start: {
          line: 51,
          column: 4
        },
        end: {
          line: 56,
          column: 5
        }
      },
      '10': {
        start: {
          line: 52,
          column: 20
        },
        end: {
          line: 52,
          column: 59
        }
      },
      '11': {
        start: {
          line: 53,
          column: 20
        },
        end: {
          line: 53,
          column: 59
        }
      },
      '12': {
        start: {
          line: 55,
          column: 6
        },
        end: {
          line: 55,
          column: 55
        }
      },
      '13': {
        start: {
          line: 59,
          column: 2
        },
        end: {
          line: 59,
          column: 15
        }
      },
      '14': {
        start: {
          line: 62,
          column: 24
        },
        end: {
          line: 130,
          column: 1
        }
      },
      '15': {
        start: {
          line: 63,
          column: 23
        },
        end: {
          line: 63,
          column: 38
        }
      },
      '16': {
        start: {
          line: 64,
          column: 75
        },
        end: {
          line: 64,
          column: 88
        }
      },
      '17': {
        start: {
          line: 65,
          column: 38
        },
        end: {
          line: 65,
          column: 55
        }
      },
      '18': {
        start: {
          line: 67,
          column: 56
        },
        end: {
          line: 67,
          column: 79
        }
      },
      '19': {
        start: {
          line: 73,
          column: 27
        },
        end: {
          line: 86,
          column: 8
        }
      },
      '20': {
        start: {
          line: 74,
          column: 20
        },
        end: {
          line: 77,
          column: 72
        }
      },
      '21': {
        start: {
          line: 77,
          column: 27
        },
        end: {
          line: 77,
          column: 71
        }
      },
      '22': {
        start: {
          line: 79,
          column: 4
        },
        end: {
          line: 83,
          column: 9
        }
      },
      '23': {
        start: {
          line: 85,
          column: 4
        },
        end: {
          line: 85,
          column: 28
        }
      },
      '24': {
        start: {
          line: 88,
          column: 2
        },
        end: {
          line: 129,
          column: 4
        }
      },
      '25': {
        start: {
          line: 105,
          column: 14
        },
        end: {
          line: 122,
          column: 19
        }
      },
      '26': {
        start: {
          line: 132,
          column: 0
        },
        end: {
          line: 136,
          column: 2
        }
      },
      '27': {
        start: {
          line: 138,
          column: 0
        },
        end: {
          line: 147,
          column: 2
        }
      },
      '28': {
        start: {
          line: 149,
          column: 114
        },
        end: {
          line: 154,
          column: 1
        }
      }
    },
    fnMap: {
      '0': {
        name: 'sameTimestampGroup',
        decl: {
          start: {
            line: 45,
            column: 9
          },
          end: {
            line: 45,
            column: 27
          }
        },
        loc: {
          start: {
            line: 45,
            column: 66
          },
          end: {
            line: 60,
            column: 1
          }
        },
        line: 45
      },
      '1': {
        name: '(anonymous_1)',
        decl: {
          start: {
            line: 62,
            column: 24
          },
          end: {
            line: 62,
            column: 25
          }
        },
        loc: {
          start: {
            line: 62,
            column: 116
          },
          end: {
            line: 130,
            column: 1
          }
        },
        line: 62
      },
      '2': {
        name: '(anonymous_2)',
        decl: {
          start: {
            line: 73,
            column: 45
          },
          end: {
            line: 73,
            column: 46
          }
        },
        loc: {
          start: {
            line: 73,
            column: 77
          },
          end: {
            line: 86,
            column: 3
          }
        },
        line: 73
      },
      '3': {
        name: '(anonymous_3)',
        decl: {
          start: {
            line: 77,
            column: 7
          },
          end: {
            line: 77,
            column: 8
          }
        },
        loc: {
          start: {
            line: 77,
            column: 27
          },
          end: {
            line: 77,
            column: 71
          }
        },
        line: 77
      },
      '4': {
        name: '(anonymous_4)',
        decl: {
          start: {
            line: 104,
            column: 34
          },
          end: {
            line: 104,
            column: 35
          }
        },
        loc: {
          start: {
            line: 105,
            column: 14
          },
          end: {
            line: 122,
            column: 19
          }
        },
        line: 105
      },
      '5': {
        name: '(anonymous_5)',
        decl: {
          start: {
            line: 149,
            column: 32
          },
          end: {
            line: 149,
            column: 33
          }
        },
        loc: {
          start: {
            line: 149,
            column: 114
          },
          end: {
            line: 154,
            column: 1
          }
        },
        line: 149
      }
    },
    branchMap: {
      '0': {
        loc: {
          start: {
            line: 46,
            column: 2
          },
          end: {
            line: 57,
            column: 3
          }
        },
        type: 'if',
        locations: [
          {
            start: {
              line: 46,
              column: 2
            },
            end: {
              line: 57,
              column: 3
            }
          },
          {
            start: {
              line: 46,
              column: 2
            },
            end: {
              line: 57,
              column: 3
            }
          }
        ],
        line: 46
      },
      '1': {
        loc: {
          start: {
            line: 48,
            column: 9
          },
          end: {
            line: 57,
            column: 3
          }
        },
        type: 'if',
        locations: [
          {
            start: {
              line: 48,
              column: 9
            },
            end: {
              line: 57,
              column: 3
            }
          },
          {
            start: {
              line: 48,
              column: 9
            },
            end: {
              line: 57,
              column: 3
            }
          }
        ],
        line: 48
      },
      '2': {
        loc: {
          start: {
            line: 48,
            column: 13
          },
          end: {
            line: 48,
            column: 35
          }
        },
        type: 'binary-expr',
        locations: [
          {
            start: {
              line: 48,
              column: 13
            },
            end: {
              line: 48,
              column: 22
            }
          },
          {
            start: {
              line: 48,
              column: 26
            },
            end: {
              line: 48,
              column: 35
            }
          }
        ],
        line: 48
      },
      '3': {
        loc: {
          start: {
            line: 49,
            column: 21
          },
          end: {
            line: 49,
            column: 98
          }
        },
        type: 'cond-expr',
        locations: [
          {
            start: {
              line: 49,
              column: 58
            },
            end: {
              line: 49,
              column: 72
            }
          },
          {
            start: {
              line: 49,
              column: 75
            },
            end: {
              line: 49,
              column: 98
            }
          }
        ],
        line: 49
      },
      '4': {
        loc: {
          start: {
            line: 51,
            column: 4
          },
          end: {
            line: 56,
            column: 5
          }
        },
        type: 'if',
        locations: [
          {
            start: {
              line: 51,
              column: 4
            },
            end: {
              line: 56,
              column: 5
            }
          },
          {
            start: {
              line: 51,
              column: 4
            },
            end: {
              line: 56,
              column: 5
            }
          }
        ],
        line: 51
      },
      '5': {
        loc: {
          start: {
            line: 67,
            column: 56
          },
          end: {
            line: 67,
            column: 79
          }
        },
        type: 'binary-expr',
        locations: [
          {
            start: {
              line: 67,
              column: 56
            },
            end: {
              line: 67,
              column: 73
            }
          },
          {
            start: {
              line: 67,
              column: 77
            },
            end: {
              line: 67,
              column: 79
            }
          }
        ],
        line: 67
      },
      '6': {
        loc: {
          start: {
            line: 79,
            column: 4
          },
          end: {
            line: 83,
            column: 8
          }
        },
        type: 'binary-expr',
        locations: [
          {
            start: {
              line: 79,
              column: 4
            },
            end: {
              line: 79,
              column: 11
            }
          },
          {
            start: {
              line: 80,
              column: 6
            },
            end: {
              line: 83,
              column: 8
            }
          }
        ],
        line: 79
      },
      '7': {
        loc: {
          start: {
            line: 94,
            column: 27
          },
          end: {
            line: 94,
            column: 67
          }
        },
        type: 'binary-expr',
        locations: [
          {
            start: {
              line: 94,
              column: 27
            },
            end: {
              line: 94,
              column: 42
            }
          },
          {
            start: {
              line: 94,
              column: 46
            },
            end: {
              line: 94,
              column: 67
            }
          }
        ],
        line: 94
      },
      '8': {
        loc: {
          start: {
            line: 95,
            column: 36
          },
          end: {
            line: 95,
            column: 94
          }
        },
        type: 'binary-expr',
        locations: [
          {
            start: {
              line: 95,
              column: 36
            },
            end: {
              line: 95,
              column: 60
            }
          },
          {
            start: {
              line: 95,
              column: 64
            },
            end: {
              line: 95,
              column: 94
            }
          }
        ],
        line: 95
      },
      '9': {
        loc: {
          start: {
            line: 112,
            column: 21
          },
          end: {
            line: 112,
            column: 54
          }
        },
        type: 'binary-expr',
        locations: [
          {
            start: {
              line: 112,
              column: 21
            },
            end: {
              line: 112,
              column: 48
            }
          },
          {
            start: {
              line: 112,
              column: 52
            },
            end: {
              line: 112,
              column: 54
            }
          }
        ],
        line: 112
      },
      '10': {
        loc: {
          start: {
            line: 116,
            column: 21
          },
          end: {
            line: 116,
            column: 108
          }
        },
        type: 'binary-expr',
        locations: [
          {
            start: {
              line: 116,
              column: 22
            },
            end: {
              line: 116,
              column: 42
            }
          },
          {
            start: {
              line: 116,
              column: 46
            },
            end: {
              line: 116,
              column: 83
            }
          },
          {
            start: {
              line: 116,
              column: 88
            },
            end: {
              line: 116,
              column: 99
            }
          },
          {
            start: {
              line: 116,
              column: 103
            },
            end: {
              line: 116,
              column: 108
            }
          }
        ],
        line: 116
      },
      '11': {
        loc: {
          start: {
            line: 121,
            column: 16
          },
          end: {
            line: 121,
            column: 107
          }
        },
        type: 'binary-expr',
        locations: [
          {
            start: {
              line: 121,
              column: 16
            },
            end: {
              line: 121,
              column: 36
            }
          },
          {
            start: {
              line: 121,
              column: 40
            },
            end: {
              line: 121,
              column: 66
            }
          },
          {
            start: {
              line: 121,
              column: 70
            },
            end: {
              line: 121,
              column: 107
            }
          }
        ],
        line: 121
      },
      '12': {
        loc: {
          start: {
            line: 127,
            column: 7
          },
          end: {
            line: 127,
            column: 54
          }
        },
        type: 'binary-expr',
        locations: [
          {
            start: {
              line: 127,
              column: 7
            },
            end: {
              line: 127,
              column: 29
            }
          },
          {
            start: {
              line: 127,
              column: 33
            },
            end: {
              line: 127,
              column: 54
            }
          }
        ],
        line: 127
      }
    },
    s: {
      '0': 0,
      '1': 0,
      '2': 0,
      '3': 0,
      '4': 0,
      '5': 0,
      '6': 0,
      '7': 0,
      '8': 0,
      '9': 0,
      '10': 0,
      '11': 0,
      '12': 0,
      '13': 0,
      '14': 0,
      '15': 0,
      '16': 0,
      '17': 0,
      '18': 0,
      '19': 0,
      '20': 0,
      '21': 0,
      '22': 0,
      '23': 0,
      '24': 0,
      '25': 0,
      '26': 0,
      '27': 0,
      '28': 0
    },
    f: {
      '0': 0,
      '1': 0,
      '2': 0,
      '3': 0,
      '4': 0,
      '5': 0
    },
    b: {
      '0': [0, 0],
      '1': [0, 0],
      '2': [0, 0],
      '3': [0, 0],
      '4': [0, 0],
      '5': [0, 0],
      '6': [0, 0],
      '7': [0, 0],
      '8': [0, 0],
      '9': [0, 0],
      '10': [0, 0, 0, 0],
      '11': [0, 0, 0],
      '12': [0, 0]
    },
    _coverageSchema: '43e27e138ebf9cfc5966b082cf9a028302ed4184',
    hash: 'd7a4209f4e1abf862229ee919872ed3b25719d0b'
  };
  var coverage = global[gcv] || (global[gcv] = {});

  if (coverage[path] && coverage[path].hash === hash) {
    return coverage[path];
  }

  return (coverage[path] = coverageData);
})();

Object.defineProperty(exports, '__esModule', {
  value: true
});
exports.default = void 0;

var _reactSay = require('react-say');

var _glamor = require('glamor');

var _reactScrollToBottom = require('react-scroll-to-bottom');

var _classnames = _interopRequireDefault(require('classnames'));

var _propTypes = _interopRequireDefault(require('prop-types'));

var _react = _interopRequireDefault(require('react'));

var _connectToWebChat = _interopRequireDefault(require('./connectToWebChat'));

var _ScrollToEndButton = _interopRequireDefault(require('./Activity/ScrollToEndButton'));

var _Speak = _interopRequireDefault(require('./Activity/Speak'));

var _useActivities = _interopRequireDefault(require('./hooks/useActivities'));

var _useStyleOptions = _interopRequireDefault(require('./hooks/useStyleOptions'));

var _useStyleSet = _interopRequireDefault(require('./hooks/useStyleSet'));

var _BypassSpeechSynthesisPonyfill = require('./Speech/BypassSpeechSynthesisPonyfill');

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { default: obj };
}

function _slicedToArray(arr, i) {
  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();
}

function _nonIterableRest() {
  throw new TypeError('Invalid attempt to destructure non-iterable instance');
}

function _iterableToArrayLimit(arr, i) {
  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === '[object Arguments]')) {
    return;
  }
  var _arr = [];
  var _n = true;
  var _d = false;
  var _e = undefined;
  try {
    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
      _arr.push(_s.value);
      if (i && _arr.length === i) break;
    }
  } catch (err) {
    _d = true;
    _e = err;
  } finally {
    try {
      if (!_n && _i['return'] != null) _i['return']();
    } finally {
      if (_d) throw _e;
    }
  }
  return _arr;
}

function _arrayWithHoles(arr) {
  if (Array.isArray(arr)) return arr;
}

var ROOT_CSS =
  (cov_20bpmxowrr.s[0]++,
  (0, _glamor.css)({
    overflow: 'hidden',
    position: 'relative'
  }));
var PANEL_CSS =
  (cov_20bpmxowrr.s[1]++,
  (0, _glamor.css)({
    display: 'flex',
    flexDirection: 'column',
    WebkitOverflowScrolling: 'touch'
  }));
var FILLER_CSS =
  (cov_20bpmxowrr.s[2]++,
  (0, _glamor.css)({
    flex: 1
  }));
var LIST_CSS =
  (cov_20bpmxowrr.s[3]++,
  (0, _glamor.css)({
    listStyleType: 'none',
    '& > li.hide-timestamp .transcript-timestamp': {
      display: 'none'
    }
  }));
var DEFAULT_GROUP_TIMESTAMP = (cov_20bpmxowrr.s[4]++, 300000); // 5 minutes

function sameTimestampGroup(activityX, activityY, groupTimestamp) {
  cov_20bpmxowrr.f[0]++;
  cov_20bpmxowrr.s[5]++;

  if (groupTimestamp === false) {
    cov_20bpmxowrr.b[0][0]++;
    cov_20bpmxowrr.s[6]++;
    return true;
  } else {
    cov_20bpmxowrr.b[0][1]++;
    cov_20bpmxowrr.s[7]++;

    if ((cov_20bpmxowrr.b[2][0]++, activityX) && (cov_20bpmxowrr.b[2][1]++, activityY)) {
      cov_20bpmxowrr.b[1][0]++;
      cov_20bpmxowrr.s[8]++;
      groupTimestamp =
        typeof groupTimestamp === 'number'
          ? (cov_20bpmxowrr.b[3][0]++, groupTimestamp)
          : (cov_20bpmxowrr.b[3][1]++, DEFAULT_GROUP_TIMESTAMP);
      cov_20bpmxowrr.s[9]++;

      if (activityX.from.role === activityY.from.role) {
        cov_20bpmxowrr.b[4][0]++;
        var timeX = (cov_20bpmxowrr.s[10]++, new Date(activityX.timestamp).getTime());
        var timeY = (cov_20bpmxowrr.s[11]++, new Date(activityY.timestamp).getTime());
        cov_20bpmxowrr.s[12]++;
        return Math.abs(timeX - timeY) <= groupTimestamp;
      } else {
        cov_20bpmxowrr.b[4][1]++;
      }
    } else {
      cov_20bpmxowrr.b[1][1]++;
    }
  }

  cov_20bpmxowrr.s[13]++;
  return false;
}

cov_20bpmxowrr.s[14]++;

var BasicTranscript = function BasicTranscript(_ref) {
  var activityRenderer = _ref.activityRenderer,
    attachmentRenderer = _ref.attachmentRenderer,
    className = _ref.className,
    groupTimestamp = _ref.groupTimestamp,
    webSpeechPonyfill = _ref.webSpeechPonyfill;
  cov_20bpmxowrr.f[1]++;

  var _ref2 = (cov_20bpmxowrr.s[15]++, (0, _useActivities.default)()),
    _ref3 = _slicedToArray(_ref2, 1),
    activities = _ref3[0];

  var _ref4 = (cov_20bpmxowrr.s[16]++, (0, _useStyleSet.default)()),
    _ref5 = _slicedToArray(_ref4, 1),
    _ref5$ = _ref5[0],
    activitiesStyleSet = _ref5$.activities,
    activityStyleSet = _ref5$.activity;

  var _ref6 = (cov_20bpmxowrr.s[17]++, (0, _useStyleOptions.default)()),
    _ref7 = _slicedToArray(_ref6, 1),
    hideScrollToEndButton = _ref7[0].hideScrollToEndButton;

  var _ref8 = (cov_20bpmxowrr.s[18]++, (cov_20bpmxowrr.b[5][0]++, webSpeechPonyfill) || (cov_20bpmxowrr.b[5][1]++, {})),
    speechSynthesis = _ref8.speechSynthesis,
    SpeechSynthesisUtterance = _ref8.SpeechSynthesisUtterance; // We use 2-pass approach for rendering activities, for show/hide timestamp grouping.
  // Until the activity pass thru middleware, we never know if it is going to show up.
  // After we know which activities will show up, we can compute which activity will show timestamps.
  // If the activity does not render, it will not be spoken if text-to-speech is enabled.

  var activityElements =
    (cov_20bpmxowrr.s[19]++,
    activities.reduce(function(activityElements, activity) {
      cov_20bpmxowrr.f[2]++;
      var element =
        (cov_20bpmxowrr.s[20]++,
        activityRenderer({
          activity: activity,
          timestampClassName: 'transcript-timestamp'
        })(function(_ref9) {
          var attachment = _ref9.attachment;
          cov_20bpmxowrr.f[3]++;
          cov_20bpmxowrr.s[21]++;
          return attachmentRenderer({
            activity: activity,
            attachment: attachment
          });
        }));
      cov_20bpmxowrr.s[22]++;
      (cov_20bpmxowrr.b[6][0]++, element) &&
        (cov_20bpmxowrr.b[6][1]++,
        activityElements.push({
          activity: activity,
          element: element
        }));
      cov_20bpmxowrr.s[23]++;
      return activityElements;
    }, []));
  cov_20bpmxowrr.s[24]++;
  return _react.default.createElement(
    'div',
    {
      className: (0, _classnames.default)(ROOT_CSS + '', className + ''),
      role: 'log'
    },
    _react.default.createElement(
      _reactScrollToBottom.Panel,
      {
        className: PANEL_CSS + ''
      },
      _react.default.createElement('div', {
        className: FILLER_CSS
      }),
      _react.default.createElement(
        _reactSay.Composer, // These are props for passing in Web Speech ponyfill, where speech synthesis requires these two class/object to be ponyfilled.
        {
          speechSynthesis:
            (cov_20bpmxowrr.b[7][0]++, speechSynthesis) ||
            (cov_20bpmxowrr.b[7][1]++, _BypassSpeechSynthesisPonyfill.speechSynthesis),
          speechSynthesisUtterance:
            (cov_20bpmxowrr.b[8][0]++, SpeechSynthesisUtterance) ||
            (cov_20bpmxowrr.b[8][1]++, _BypassSpeechSynthesisPonyfill.SpeechSynthesisUtterance)
        },
        _react.default.createElement(
          'ul',
          {
            'aria-atomic': 'false',
            'aria-live': 'polite',
            'aria-relevant': 'additions text',
            className: (0, _classnames.default)(LIST_CSS + '', activitiesStyleSet + ''),
            role: 'list'
          },
          activityElements.map(function(_ref10, index) {
            var activity = _ref10.activity,
              element = _ref10.element;
            cov_20bpmxowrr.f[4]++;
            cov_20bpmxowrr.s[25]++;
            return _react.default.createElement(
              'li',
              {
                // Because of differences in browser implementations, aria-label=" " is used to make the screen reader not repeat the same text multiple times in Chrome v75
                'aria-label': ' ',
                className: (0, _classnames.default)(activityStyleSet + '', {
                  // Hide timestamp if same timestamp group with the next activity
                  'hide-timestamp': sameTimestampGroup(
                    activity,
                    ((cov_20bpmxowrr.b[9][0]++, activityElements[index + 1]) || (cov_20bpmxowrr.b[9][1]++, {}))
                      .activity,
                    groupTimestamp
                  )
                }),
                key:
                  ((cov_20bpmxowrr.b[10][0]++, activity.channelData) &&
                    (cov_20bpmxowrr.b[10][1]++, activity.channelData.clientActivityID)) ||
                  (cov_20bpmxowrr.b[10][2]++, activity.id) ||
                  (cov_20bpmxowrr.b[10][3]++, index),
                role: 'listitem'
              },
              element, // TODO: [P2] We should use core/definitions/speakingActivity for this predicate instead
              (cov_20bpmxowrr.b[11][0]++, activity.channelData) &&
                (cov_20bpmxowrr.b[11][1]++, activity.channelData.speak) &&
                (cov_20bpmxowrr.b[11][2]++,
                _react.default.createElement(_Speak.default, {
                  activity: activity
                }))
            );
          })
        )
      )
    ),
    (cov_20bpmxowrr.b[12][0]++, !hideScrollToEndButton) &&
      (cov_20bpmxowrr.b[12][1]++, _react.default.createElement(_ScrollToEndButton.default, null))
  );
};

cov_20bpmxowrr.s[26]++;
BasicTranscript.defaultProps = {
  className: '',
  groupTimestamp: true,
  webSpeechPonyfill: undefined
};
cov_20bpmxowrr.s[27]++;
BasicTranscript.propTypes = {
  activityRenderer: _propTypes.default.func.isRequired,
  attachmentRenderer: _propTypes.default.func.isRequired,
  className: _propTypes.default.string,
  groupTimestamp: _propTypes.default.oneOfType([
    _propTypes.default.bool.isRequired,
    _propTypes.default.number.isRequired
  ]),
  webSpeechPonyfill: _propTypes.default.shape({
    speechSynthesis: _propTypes.default.any,
    SpeechSynthesisUtterance: _propTypes.default.any
  })
};

var _default = (0, _connectToWebChat.default)(function(_ref11) {
  var activityRenderer = _ref11.activityRenderer,
    attachmentRenderer = _ref11.attachmentRenderer,
    groupTimestamp = _ref11.groupTimestamp,
    webSpeechPonyfill = _ref11.webSpeechPonyfill;
  cov_20bpmxowrr.f[5]++;
  cov_20bpmxowrr.s[28]++;
  return {
    activityRenderer: activityRenderer,
    attachmentRenderer: attachmentRenderer,
    groupTimestamp: groupTimestamp,
    webSpeechPonyfill: webSpeechPonyfill
  };
})(BasicTranscript);

exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9CYXNpY1RyYW5zY3JpcHQuanMiXSwibmFtZXMiOlsiUk9PVF9DU1MiLCJvdmVyZmxvdyIsInBvc2l0aW9uIiwiUEFORUxfQ1NTIiwiZGlzcGxheSIsImZsZXhEaXJlY3Rpb24iLCJXZWJraXRPdmVyZmxvd1Njcm9sbGluZyIsIkZJTExFUl9DU1MiLCJmbGV4IiwiTElTVF9DU1MiLCJsaXN0U3R5bGVUeXBlIiwiREVGQVVMVF9HUk9VUF9USU1FU1RBTVAiLCJzYW1lVGltZXN0YW1wR3JvdXAiLCJhY3Rpdml0eVgiLCJhY3Rpdml0eVkiLCJncm91cFRpbWVzdGFtcCIsImZyb20iLCJyb2xlIiwidGltZVgiLCJEYXRlIiwidGltZXN0YW1wIiwiZ2V0VGltZSIsInRpbWVZIiwiTWF0aCIsImFicyIsIkJhc2ljVHJhbnNjcmlwdCIsImFjdGl2aXR5UmVuZGVyZXIiLCJhdHRhY2htZW50UmVuZGVyZXIiLCJjbGFzc05hbWUiLCJ3ZWJTcGVlY2hQb255ZmlsbCIsImFjdGl2aXRpZXMiLCJhY3Rpdml0aWVzU3R5bGVTZXQiLCJhY3Rpdml0eVN0eWxlU2V0IiwiYWN0aXZpdHkiLCJoaWRlU2Nyb2xsVG9FbmRCdXR0b24iLCJzcGVlY2hTeW50aGVzaXMiLCJTcGVlY2hTeW50aGVzaXNVdHRlcmFuY2UiLCJhY3Rpdml0eUVsZW1lbnRzIiwicmVkdWNlIiwiZWxlbWVudCIsInRpbWVzdGFtcENsYXNzTmFtZSIsImF0dGFjaG1lbnQiLCJwdXNoIiwiYnlwYXNzU3BlZWNoU3ludGhlc2lzIiwiQnlwYXNzU3BlZWNoU3ludGhlc2lzVXR0ZXJhbmNlIiwibWFwIiwiaW5kZXgiLCJjaGFubmVsRGF0YSIsImNsaWVudEFjdGl2aXR5SUQiLCJpZCIsInNwZWFrIiwiZGVmYXVsdFByb3BzIiwidW5kZWZpbmVkIiwicHJvcFR5cGVzIiwiUHJvcFR5cGVzIiwiZnVuYyIsImlzUmVxdWlyZWQiLCJzdHJpbmciLCJvbmVPZlR5cGUiLCJib29sIiwibnVtYmVyIiwic2hhcGUiLCJhbnkiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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QSxpQkFBaUIsRUFBakJBO0FBSmdIO0FBS2pILENBTGMsRUFLWEosZUFMVyxDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9zZXIgYXMgU2F5Q29tcG9zZXIgfSBmcm9tICdyZWFjdC1zYXknO1xuaW1wb3J0IHsgY3NzIH0gZnJvbSAnZ2xhbW9yJztcbmltcG9ydCB7IFBhbmVsIGFzIFNjcm9sbFRvQm90dG9tUGFuZWwgfSBmcm9tICdyZWFjdC1zY3JvbGwtdG8tYm90dG9tJztcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCBjb25uZWN0VG9XZWJDaGF0IGZyb20gJy4vY29ubmVjdFRvV2ViQ2hhdCc7XG5pbXBvcnQgU2Nyb2xsVG9FbmRCdXR0b24gZnJvbSAnLi9BY3Rpdml0eS9TY3JvbGxUb0VuZEJ1dHRvbic7XG5pbXBvcnQgU3BlYWtBY3Rpdml0eSBmcm9tICcuL0FjdGl2aXR5L1NwZWFrJztcbmltcG9ydCB1c2VBY3Rpdml0aWVzIGZyb20gJy4vaG9va3MvdXNlQWN0aXZpdGllcyc7XG5pbXBvcnQgdXNlU3R5bGVPcHRpb25zIGZyb20gJy4vaG9va3MvdXNlU3R5bGVPcHRpb25zJztcbmltcG9ydCB1c2VTdHlsZVNldCBmcm9tICcuL2hvb2tzL3VzZVN0eWxlU2V0JztcblxuaW1wb3J0IHtcbiAgc3BlZWNoU3ludGhlc2lzIGFzIGJ5cGFzc1NwZWVjaFN5bnRoZXNpcyxcbiAgU3BlZWNoU3ludGhlc2lzVXR0ZXJhbmNlIGFzIEJ5cGFzc1NwZWVjaFN5bnRoZXNpc1V0dGVyYW5jZVxufSBmcm9tICcuL1NwZWVjaC9CeXBhc3NTcGVlY2hTeW50aGVzaXNQb255ZmlsbCc7XG5cbmNvbnN0IFJPT1RfQ1NTID0gY3NzKHtcbiAgb3ZlcmZsb3c6ICdoaWRkZW4nLFxuICBwb3NpdGlvbjogJ3JlbGF0aXZlJ1xufSk7XG5cbmNvbnN0IFBBTkVMX0NTUyA9IGNzcyh7XG4gIGRpc3BsYXk6ICdmbGV4JyxcbiAgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsXG4gIFdlYmtpdE92ZXJmbG93U2Nyb2xsaW5nOiAndG91Y2gnXG59KTtcblxuY29uc3QgRklMTEVSX0NTUyA9IGNzcyh7XG4gIGZsZXg6IDFcbn0pO1xuXG5jb25zdCBMSVNUX0NTUyA9IGNzcyh7XG4gIGxpc3RTdHlsZVR5cGU6ICdub25lJyxcblxuICAnJiA+IGxpLmhpZGUtdGltZXN0YW1wIC50cmFuc2NyaXB0LXRpbWVzdGFtcCc6IHtcbiAgICBkaXNwbGF5OiAnbm9uZSdcbiAgfVxufSk7XG5cbmNvbnN0IERFRkFVTFRfR1JPVVBfVElNRVNUQU1QID0gMzAwMDAwOyAvLyA1IG1pbnV0ZXNcblxuZnVuY3Rpb24gc2FtZVRpbWVzdGFtcEdyb3VwKGFjdGl2aXR5WCwgYWN0aXZpdHlZLCBncm91cFRpbWVzdGFtcCkge1xuICBpZiAoZ3JvdXBUaW1lc3RhbXAgPT09IGZhbHNlKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gZWxzZSBpZiAoYWN0aXZpdHlYICYmIGFjdGl2aXR5WSkge1xuICAgIGdyb3VwVGltZXN0YW1wID0gdHlwZW9mIGdyb3VwVGltZXN0YW1wID09PSAnbnVtYmVyJyA/IGdyb3VwVGltZXN0YW1wIDogREVGQVVMVF9HUk9VUF9USU1FU1RBTVA7XG5cbiAgICBpZiAoYWN0aXZpdHlYLmZyb20ucm9sZSA9PT0gYWN0aXZpdHlZLmZyb20ucm9sZSkge1xuICAgICAgY29uc3QgdGltZVggPSBuZXcgRGF0ZShhY3Rpdml0eVgudGltZXN0YW1wKS5nZXRUaW1lKCk7XG4gICAgICBjb25zdCB0aW1lWSA9IG5ldyBEYXRlKGFjdGl2aXR5WS50aW1lc3RhbXApLmdldFRpbWUoKTtcblxuICAgICAgcmV0dXJuIE1hdGguYWJzKHRpbWVYIC0gdGltZVkpIDw9IGdyb3VwVGltZXN0YW1wO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuY29uc3QgQmFzaWNUcmFuc2NyaXB0ID0gKHsgYWN0aXZpdHlSZW5kZXJlciwgYXR0YWNobWVudFJlbmRlcmVyLCBjbGFzc05hbWUsIGdyb3VwVGltZXN0YW1wLCB3ZWJTcGVlY2hQb255ZmlsbCB9KSA9PiB7XG4gIGNvbnN0IFthY3Rpdml0aWVzXSA9IHVzZUFjdGl2aXRpZXMoKTtcbiAgY29uc3QgW3sgYWN0aXZpdGllczogYWN0aXZpdGllc1N0eWxlU2V0LCBhY3Rpdml0eTogYWN0aXZpdHlTdHlsZVNldCB9XSA9IHVzZVN0eWxlU2V0KCk7XG4gIGNvbnN0IFt7IGhpZGVTY3JvbGxUb0VuZEJ1dHRvbiB9XSA9IHVzZVN0eWxlT3B0aW9ucygpO1xuXG4gIGNvbnN0IHsgc3BlZWNoU3ludGhlc2lzLCBTcGVlY2hTeW50aGVzaXNVdHRlcmFuY2UgfSA9IHdlYlNwZWVjaFBvbnlmaWxsIHx8IHt9O1xuXG4gIC8vIFdlIHVzZSAyLXBhc3MgYXBwcm9hY2ggZm9yIHJlbmRlcmluZyBhY3Rpdml0aWVzLCBmb3Igc2hvdy9oaWRlIHRpbWVzdGFtcCBncm91cGluZy5cbiAgLy8gVW50aWwgdGhlIGFjdGl2aXR5IHBhc3MgdGhydSBtaWRkbGV3YXJlLCB3ZSBuZXZlciBrbm93IGlmIGl0IGlzIGdvaW5nIHRvIHNob3cgdXAuXG4gIC8vIEFmdGVyIHdlIGtub3cgd2hpY2ggYWN0aXZpdGllcyB3aWxsIHNob3cgdXAsIHdlIGNhbiBjb21wdXRlIHdoaWNoIGFjdGl2aXR5IHdpbGwgc2hvdyB0aW1lc3RhbXBzLlxuICAvLyBJZiB0aGUgYWN0aXZpdHkgZG9lcyBub3QgcmVuZGVyLCBpdCB3aWxsIG5vdCBiZSBzcG9rZW4gaWYgdGV4dC10by1zcGVlY2ggaXMgZW5hYmxlZC5cbiAgY29uc3QgYWN0aXZpdHlFbGVtZW50cyA9IGFjdGl2aXRpZXMucmVkdWNlKChhY3Rpdml0eUVsZW1lbnRzLCBhY3Rpdml0eSkgPT4ge1xuICAgIGNvbnN0IGVsZW1lbnQgPSBhY3Rpdml0eVJlbmRlcmVyKHtcbiAgICAgIGFjdGl2aXR5LFxuICAgICAgdGltZXN0YW1wQ2xhc3NOYW1lOiAndHJhbnNjcmlwdC10aW1lc3RhbXAnXG4gICAgfSkoKHsgYXR0YWNobWVudCB9KSA9PiBhdHRhY2htZW50UmVuZGVyZXIoeyBhY3Rpdml0eSwgYXR0YWNobWVudCB9KSk7XG5cbiAgICBlbGVtZW50ICYmXG4gICAgICBhY3Rpdml0eUVsZW1lbnRzLnB1c2goe1xuICAgICAgICBhY3Rpdml0eSxcbiAgICAgICAgZWxlbWVudFxuICAgICAgfSk7XG5cbiAgICByZXR1cm4gYWN0aXZpdHlFbGVtZW50cztcbiAgfSwgW10pO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZXMoUk9PVF9DU1MgKyAnJywgY2xhc3NOYW1lICsgJycpfSByb2xlPVwibG9nXCI+XG4gICAgICA8U2Nyb2xsVG9Cb3R0b21QYW5lbCBjbGFzc05hbWU9e1BBTkVMX0NTUyArICcnfT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e0ZJTExFUl9DU1N9IC8+XG4gICAgICAgIDxTYXlDb21wb3NlclxuICAgICAgICAgIC8vIFRoZXNlIGFyZSBwcm9wcyBmb3IgcGFzc2luZyBpbiBXZWIgU3BlZWNoIHBvbnlmaWxsLCB3aGVyZSBzcGVlY2ggc3ludGhlc2lzIHJlcXVpcmVzIHRoZXNlIHR3byBjbGFzcy9vYmplY3QgdG8gYmUgcG9ueWZpbGxlZC5cbiAgICAgICAgICBzcGVlY2hTeW50aGVzaXM9e3NwZWVjaFN5bnRoZXNpcyB8fCBieXBhc3NTcGVlY2hTeW50aGVzaXN9XG4gICAgICAgICAgc3BlZWNoU3ludGhlc2lzVXR0ZXJhbmNlPXtTcGVlY2hTeW50aGVzaXNVdHRlcmFuY2UgfHwgQnlwYXNzU3BlZWNoU3ludGhlc2lzVXR0ZXJhbmNlfVxuICAgICAgICA+XG4gICAgICAgICAgPHVsXG4gICAgICAgICAgICBhcmlhLWF0b21pYz1cImZhbHNlXCJcbiAgICAgICAgICAgIGFyaWEtbGl2ZT1cInBvbGl0ZVwiXG4gICAgICAgICAgICBhcmlhLXJlbGV2YW50PVwiYWRkaXRpb25zIHRleHRcIlxuICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWVzKExJU1RfQ1NTICsgJycsIGFjdGl2aXRpZXNTdHlsZVNldCArICcnKX1cbiAgICAgICAgICAgIHJvbGU9XCJsaXN0XCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICB7YWN0aXZpdHlFbGVtZW50cy5tYXAoKHsgYWN0aXZpdHksIGVsZW1lbnQgfSwgaW5kZXgpID0+IChcbiAgICAgICAgICAgICAgPGxpXG4gICAgICAgICAgICAgICAgLy8gQmVjYXVzZSBvZiBkaWZmZXJlbmNlcyBpbiBicm93c2VyIGltcGxlbWVudGF0aW9ucywgYXJpYS1sYWJlbD1cIiBcIiBpcyB1c2VkIHRvIG1ha2UgdGhlIHNjcmVlbiByZWFkZXIgbm90IHJlcGVhdCB0aGUgc2FtZSB0ZXh0IG11bHRpcGxlIHRpbWVzIGluIENocm9tZSB2NzVcbiAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwiIFwiXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWVzKGFjdGl2aXR5U3R5bGVTZXQgKyAnJywge1xuICAgICAgICAgICAgICAgICAgLy8gSGlkZSB0aW1lc3RhbXAgaWYgc2FtZSB0aW1lc3RhbXAgZ3JvdXAgd2l0aCB0aGUgbmV4dCBhY3Rpdml0eVxuICAgICAgICAgICAgICAgICAgJ2hpZGUtdGltZXN0YW1wJzogc2FtZVRpbWVzdGFtcEdyb3VwKFxuICAgICAgICAgICAgICAgICAgICBhY3Rpdml0eSxcbiAgICAgICAgICAgICAgICAgICAgKGFjdGl2aXR5RWxlbWVudHNbaW5kZXggKyAxXSB8fCB7fSkuYWN0aXZpdHksXG4gICAgICAgICAgICAgICAgICAgIGdyb3VwVGltZXN0YW1wXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAga2V5PXsoYWN0aXZpdHkuY2hhbm5lbERhdGEgJiYgYWN0aXZpdHkuY2hhbm5lbERhdGEuY2xpZW50QWN0aXZpdHlJRCkgfHwgYWN0aXZpdHkuaWQgfHwgaW5kZXh9XG4gICAgICAgICAgICAgICAgcm9sZT1cImxpc3RpdGVtXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHtlbGVtZW50fVxuICAgICAgICAgICAgICAgIHsvLyBUT0RPOiBbUDJdIFdlIHNob3VsZCB1c2UgY29yZS9kZWZpbml0aW9ucy9zcGVha2luZ0FjdGl2aXR5IGZvciB0aGlzIHByZWRpY2F0ZSBpbnN0ZWFkXG4gICAgICAgICAgICAgICAgYWN0aXZpdHkuY2hhbm5lbERhdGEgJiYgYWN0aXZpdHkuY2hhbm5lbERhdGEuc3BlYWsgJiYgPFNwZWFrQWN0aXZpdHkgYWN0aXZpdHk9e2FjdGl2aXR5fSAvPn1cbiAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICkpfVxuICAgICAgICAgIDwvdWw+XG4gICAgICAgIDwvU2F5Q29tcG9zZXI+XG4gICAgICA8L1Njcm9sbFRvQm90dG9tUGFuZWw+XG4gICAgICB7IWhpZGVTY3JvbGxUb0VuZEJ1dHRvbiAmJiA8U2Nyb2xsVG9FbmRCdXR0b24gLz59XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG5CYXNpY1RyYW5zY3JpcHQuZGVmYXVsdFByb3BzID0ge1xuICBjbGFzc05hbWU6ICcnLFxuICBncm91cFRpbWVzdGFtcDogdHJ1ZSxcbiAgd2ViU3BlZWNoUG9ueWZpbGw6IHVuZGVmaW5lZFxufTtcblxuQmFzaWNUcmFuc2NyaXB0LnByb3BUeXBlcyA9IHtcbiAgYWN0aXZpdHlSZW5kZXJlcjogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgYXR0YWNobWVudFJlbmRlcmVyOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICBjbGFzc05hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gIGdyb3VwVGltZXN0YW1wOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuYm9vbC5pc1JlcXVpcmVkLCBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWRdKSxcbiAgd2ViU3BlZWNoUG9ueWZpbGw6IFByb3BUeXBlcy5zaGFwZSh7XG4gICAgc3BlZWNoU3ludGhlc2lzOiBQcm9wVHlwZXMuYW55LFxuICAgIFNwZWVjaFN5bnRoZXNpc1V0dGVyYW5jZTogUHJvcFR5cGVzLmFueVxuICB9KVxufTtcblxuZXhwb3J0IGRlZmF1bHQgY29ubmVjdFRvV2ViQ2hhdCgoeyBhY3Rpdml0eVJlbmRlcmVyLCBhdHRhY2htZW50UmVuZGVyZXIsIGdyb3VwVGltZXN0YW1wLCB3ZWJTcGVlY2hQb255ZmlsbCB9KSA9PiAoe1xuICBhY3Rpdml0eVJlbmRlcmVyLFxuICBhdHRhY2htZW50UmVuZGVyZXIsXG4gIGdyb3VwVGltZXN0YW1wLFxuICB3ZWJTcGVlY2hQb255ZmlsbFxufSkpKEJhc2ljVHJhbnNjcmlwdCk7XG4iXX0=
