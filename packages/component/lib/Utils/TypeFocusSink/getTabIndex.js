'use strict';

var cov_11d6v2lkep = (function() {
  var path = '/Users/guy/Work/Leo/leo/BotFramework-WebChat/packages/component/src/Utils/TypeFocusSink/getTabIndex.ts';
  var hash = 'c59852994da41f12c660bdcf327be88578b8fd54';
  var global = new Function('return this')();
  var gcv = '__coverage__';
  var coverageData = {
    path: '/Users/guy/Work/Leo/leo/BotFramework-WebChat/packages/component/src/Utils/TypeFocusSink/getTabIndex.ts',
    statementMap: {
      '0': {
        start: {
          line: 3,
          column: 4
        },
        end: {
          line: 3,
          column: 10
        }
      },
      '1': {
        start: {
          line: 5,
          column: 26
        },
        end: {
          line: 17,
          column: 1
        }
      },
      '2': {
        start: {
          line: 19,
          column: 19
        },
        end: {
          line: 19,
          column: 48
        }
      },
      '3': {
        start: {
          line: 20,
          column: 14
        },
        end: {
          line: 20,
          column: 43
        }
      },
      '4': {
        start: {
          line: 23,
          column: 23
        },
        end: {
          line: 23,
          column: 30
        }
      },
      '5': {
        start: {
          line: 25,
          column: 2
        },
        end: {
          line: 37,
          column: 3
        }
      },
      '6': {
        start: {
          line: 26,
          column: 30
        },
        end: {
          line: 26,
          column: 73
        }
      },
      '7': {
        start: {
          line: 28,
          column: 4
        },
        end: {
          line: 30,
          column: 5
        }
      },
      '8': {
        start: {
          line: 29,
          column: 6
        },
        end: {
          line: 29,
          column: 83
        }
      },
      '9': {
        start: {
          line: 31,
          column: 9
        },
        end: {
          line: 37,
          column: 3
        }
      },
      '10': {
        start: {
          line: 32,
          column: 17
        },
        end: {
          line: 32,
          column: 49
        }
      },
      '11': {
        start: {
          line: 34,
          column: 4
        },
        end: {
          line: 36,
          column: 5
        }
      },
      '12': {
        start: {
          line: 35,
          column: 6
        },
        end: {
          line: 35,
          column: 18
        }
      },
      '13': {
        start: {
          line: 39,
          column: 2
        },
        end: {
          line: 39,
          column: 18
        }
      }
    },
    fnMap: {
      '0': {
        name: 'getTabIndex',
        decl: {
          start: {
            line: 22,
            column: 24
          },
          end: {
            line: 22,
            column: 35
          }
        },
        loc: {
          start: {
            line: 22,
            column: 45
          },
          end: {
            line: 40,
            column: 1
          }
        },
        line: 22
      }
    },
    branchMap: {
      '0': {
        loc: {
          start: {
            line: 25,
            column: 2
          },
          end: {
            line: 37,
            column: 3
          }
        },
        type: 'if',
        locations: [
          {
            start: {
              line: 25,
              column: 2
            },
            end: {
              line: 37,
              column: 3
            }
          },
          {
            start: {
              line: 25,
              column: 2
            },
            end: {
              line: 37,
              column: 3
            }
          }
        ],
        line: 25
      },
      '1': {
        loc: {
          start: {
            line: 28,
            column: 4
          },
          end: {
            line: 30,
            column: 5
          }
        },
        type: 'if',
        locations: [
          {
            start: {
              line: 28,
              column: 4
            },
            end: {
              line: 30,
              column: 5
            }
          },
          {
            start: {
              line: 28,
              column: 4
            },
            end: {
              line: 30,
              column: 5
            }
          }
        ],
        line: 28
      },
      '2': {
        loc: {
          start: {
            line: 28,
            column: 8
          },
          end: {
            line: 28,
            column: 58
          }
        },
        type: 'binary-expr',
        locations: [
          {
            start: {
              line: 28,
              column: 8
            },
            end: {
              line: 28,
              column: 26
            }
          },
          {
            start: {
              line: 28,
              column: 30
            },
            end: {
              line: 28,
              column: 58
            }
          }
        ],
        line: 28
      },
      '3': {
        loc: {
          start: {
            line: 29,
            column: 13
          },
          end: {
            line: 29,
            column: 82
          }
        },
        type: 'cond-expr',
        locations: [
          {
            start: {
              line: 29,
              column: 74
            },
            end: {
              line: 29,
              column: 75
            }
          },
          {
            start: {
              line: 29,
              column: 78
            },
            end: {
              line: 29,
              column: 82
            }
          }
        ],
        line: 29
      },
      '4': {
        loc: {
          start: {
            line: 31,
            column: 9
          },
          end: {
            line: 37,
            column: 3
          }
        },
        type: 'if',
        locations: [
          {
            start: {
              line: 31,
              column: 9
            },
            end: {
              line: 37,
              column: 3
            }
          },
          {
            start: {
              line: 31,
              column: 9
            },
            end: {
              line: 37,
              column: 3
            }
          }
        ],
        line: 31
      },
      '5': {
        loc: {
          start: {
            line: 34,
            column: 4
          },
          end: {
            line: 36,
            column: 5
          }
        },
        type: 'if',
        locations: [
          {
            start: {
              line: 34,
              column: 4
            },
            end: {
              line: 36,
              column: 5
            }
          },
          {
            start: {
              line: 34,
              column: 4
            },
            end: {
              line: 36,
              column: 5
            }
          }
        ],
        line: 34
      },
      '6': {
        loc: {
          start: {
            line: 34,
            column: 8
          },
          end: {
            line: 34,
            column: 53
          }
        },
        type: 'binary-expr',
        locations: [
          {
            start: {
              line: 34,
              column: 8
            },
            end: {
              line: 34,
              column: 21
            }
          },
          {
            start: {
              line: 34,
              column: 26
            },
            end: {
              line: 34,
              column: 37
            }
          },
          {
            start: {
              line: 34,
              column: 41
            },
            end: {
              line: 34,
              column: 52
            }
          }
        ],
        line: 34
      }
    },
    s: {
      '0': 0,
      '1': 0,
      '2': 0,
      '3': 0,
      '4': 0,
      '5': 0,
      '6': 0,
      '7': 0,
      '8': 0,
      '9': 0,
      '10': 0,
      '11': 0,
      '12': 0,
      '13': 0
    },
    f: {
      '0': 0
    },
    b: {
      '0': [0, 0],
      '1': [0, 0],
      '2': [0, 0],
      '3': [0, 0],
      '4': [0, 0],
      '5': [0, 0],
      '6': [0, 0, 0]
    },
    _coverageSchema: '43e27e138ebf9cfc5966b082cf9a028302ed4184',
    hash: 'c59852994da41f12c660bdcf327be88578b8fd54'
  };
  var coverage = global[gcv] || (global[gcv] = {});

  if (coverage[path] && coverage[path].hash === hash) {
    return coverage[path];
  }

  return (coverage[path] = coverageData);
})();

Object.defineProperty(exports, '__esModule', {
  value: true
});
exports.default = getTabIndex;

var _ref = (cov_11d6v2lkep.s[0]++, window),
  userAgent = _ref.navigator.userAgent;

var IE_FOCUSABLE_LIST =
  (cov_11d6v2lkep.s[1]++,
  ['a', 'body', 'button', 'frame', 'iframe', 'img', 'input', 'isindex', 'object', 'select', 'textarea']);
var IS_FIREFOX = (cov_11d6v2lkep.s[2]++, /Firefox\//i.test(userAgent));
var IS_IE = (cov_11d6v2lkep.s[3]++, /Trident\//i.test(userAgent));

function getTabIndex(element) {
  cov_11d6v2lkep.f[0]++;

  var _ref2 = (cov_11d6v2lkep.s[4]++, element),
    tabIndex = _ref2.tabIndex;

  cov_11d6v2lkep.s[5]++;

  if (IS_IE) {
    cov_11d6v2lkep.b[0][0]++;
    var tabIndexAttribute = (cov_11d6v2lkep.s[6]++, element.attributes.getNamedItem('tabindex'));
    cov_11d6v2lkep.s[7]++;

    if ((cov_11d6v2lkep.b[2][0]++, !tabIndexAttribute) || (cov_11d6v2lkep.b[2][1]++, !tabIndexAttribute.specified)) {
      cov_11d6v2lkep.b[1][0]++;
      cov_11d6v2lkep.s[8]++;
      return ~IE_FOCUSABLE_LIST.indexOf(element.nodeName.toLowerCase())
        ? (cov_11d6v2lkep.b[3][0]++, 0)
        : (cov_11d6v2lkep.b[3][1]++, null);
    } else {
      cov_11d6v2lkep.b[1][1]++;
    }
  } else {
    cov_11d6v2lkep.b[0][1]++;
    cov_11d6v2lkep.s[9]++;

    if (!~tabIndex) {
      cov_11d6v2lkep.b[4][0]++;
      var attr = (cov_11d6v2lkep.s[10]++, element.getAttribute('tabindex'));
      cov_11d6v2lkep.s[11]++;

      if (
        (cov_11d6v2lkep.b[6][0]++, attr === null) ||
        ((cov_11d6v2lkep.b[6][1]++, attr === '') && (cov_11d6v2lkep.b[6][2]++, !IS_FIREFOX))
      ) {
        cov_11d6v2lkep.b[5][0]++;
        cov_11d6v2lkep.s[12]++;
        return null;
      } else {
        cov_11d6v2lkep.b[5][1]++;
      }
    } else {
      cov_11d6v2lkep.b[4][1]++;
    }
  }

  cov_11d6v2lkep.s[13]++;
  return tabIndex;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9VdGlscy9UeXBlRm9jdXNTaW5rL2dldFRhYkluZGV4LnRzIl0sIm5hbWVzIjpbIndpbmRvdyIsInVzZXJBZ2VudCIsIm5hdmlnYXRvciIsIklFX0ZPQ1VTQUJMRV9MSVNUIiwiSVNfRklSRUZPWCIsInRlc3QiLCJJU19JRSIsImdldFRhYkluZGV4IiwiZWxlbWVudCIsInRhYkluZGV4IiwidGFiSW5kZXhBdHRyaWJ1dGUiLCJhdHRyaWJ1dGVzIiwiZ2V0TmFtZWRJdGVtIiwic3BlY2lmaWVkIiwiaW5kZXhPZiIsIm5vZGVOYW1lIiwidG9Mb3dlckNhc2UiLCJhdHRyIiwiZ2V0QXR0cmlidXRlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzttQ0FFSUEsTTtJQURXQyxTLFFBQWJDLFMsQ0FBYUQsUzs7QUFHZixJQUFNRSxpQkFBaUIsMkJBQUcsQ0FDeEIsR0FEd0IsRUFFeEIsTUFGd0IsRUFHeEIsUUFId0IsRUFJeEIsT0FKd0IsRUFLeEIsUUFMd0IsRUFNeEIsS0FOd0IsRUFPeEIsT0FQd0IsRUFReEIsU0FSd0IsRUFTeEIsUUFUd0IsRUFVeEIsUUFWd0IsRUFXeEIsVUFYd0IsQ0FBSCxDQUF2QjtBQWNBLElBQU1DLFVBQVUsMkJBQUcsYUFBY0MsSUFBZCxDQUFtQkosU0FBbkIsQ0FBSCxDQUFoQjtBQUNBLElBQU1LLEtBQUssMkJBQUcsYUFBY0QsSUFBZCxDQUFtQkosU0FBbkIsQ0FBSCxDQUFYOztBQUVlLFNBQVNNLFdBQVQsQ0FBcUJDLE9BQXJCLEVBQThCO0FBQUE7O0FBQUEsc0NBQ3RCQSxPQURzQjtBQUFBLE1BQ25DQyxRQURtQyxTQUNuQ0EsUUFEbUM7O0FBQUE7O0FBRzNDLE1BQUlILEtBQUosRUFBVztBQUFBO0FBQ1QsUUFBTUksaUJBQWlCLDJCQUFHRixPQUFPLENBQUNHLFVBQVIsQ0FBbUJDLFlBQW5CLENBQWdDLFVBQWhDLENBQUgsQ0FBdkI7QUFEUzs7QUFHVCxRQUFJLDRCQUFDRixpQkFBRCxnQ0FBc0IsQ0FBQ0EsaUJBQWlCLENBQUNHLFNBQXpDLENBQUosRUFBd0Q7QUFBQTtBQUFBO0FBQ3RELGFBQU8sQ0FBQ1YsaUJBQWlCLENBQUNXLE9BQWxCLENBQTBCTixPQUFPLENBQUNPLFFBQVIsQ0FBaUJDLFdBQWpCLEVBQTFCLENBQUQsOEJBQTZELENBQTdELCtCQUFpRSxJQUFqRSxDQUFQO0FBQ0QsS0FGRDtBQUFBO0FBQUE7QUFHRCxHQU5ELE1BTU87QUFBQTtBQUFBOztBQUFBLFFBQUksQ0FBQyxDQUFDUCxRQUFOLEVBQWdCO0FBQUE7QUFDckIsVUFBTVEsSUFBSSw0QkFBR1QsT0FBTyxDQUFDVSxZQUFSLENBQXFCLFVBQXJCLENBQUgsQ0FBVjtBQURxQjs7QUFHckIsVUFBSSwyQkFBQUQsSUFBSSxLQUFLLElBQVQsS0FBa0IsMkJBQUFBLElBQUksS0FBSyxFQUFULGdDQUFlLENBQUNiLFVBQWhCLENBQXRCLEVBQW1EO0FBQUE7QUFBQTtBQUNqRCxlQUFPLElBQVA7QUFDRCxPQUZEO0FBQUE7QUFBQTtBQUdELEtBTk07QUFBQTtBQUFBO0FBTU47O0FBZjBDO0FBaUIzQyxTQUFPSyxRQUFQO0FBQ0QiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7XG4gIG5hdmlnYXRvcjogeyB1c2VyQWdlbnQgfVxufSA9IHdpbmRvdztcblxuY29uc3QgSUVfRk9DVVNBQkxFX0xJU1QgPSBbXG4gICdhJyxcbiAgJ2JvZHknLFxuICAnYnV0dG9uJyxcbiAgJ2ZyYW1lJyxcbiAgJ2lmcmFtZScsXG4gICdpbWcnLFxuICAnaW5wdXQnLFxuICAnaXNpbmRleCcsXG4gICdvYmplY3QnLFxuICAnc2VsZWN0JyxcbiAgJ3RleHRhcmVhJ1xuXTtcblxuY29uc3QgSVNfRklSRUZPWCA9IC9GaXJlZm94XFwvL2l1LnRlc3QodXNlckFnZW50KTtcbmNvbnN0IElTX0lFID0gL1RyaWRlbnRcXC8vaXUudGVzdCh1c2VyQWdlbnQpO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRUYWJJbmRleChlbGVtZW50KSB7XG4gIGNvbnN0IHsgdGFiSW5kZXggfSA9IGVsZW1lbnQ7XG5cbiAgaWYgKElTX0lFKSB7XG4gICAgY29uc3QgdGFiSW5kZXhBdHRyaWJ1dGUgPSBlbGVtZW50LmF0dHJpYnV0ZXMuZ2V0TmFtZWRJdGVtKCd0YWJpbmRleCcpO1xuXG4gICAgaWYgKCF0YWJJbmRleEF0dHJpYnV0ZSB8fCAhdGFiSW5kZXhBdHRyaWJ1dGUuc3BlY2lmaWVkKSB7XG4gICAgICByZXR1cm4gfklFX0ZPQ1VTQUJMRV9MSVNULmluZGV4T2YoZWxlbWVudC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKSA/IDAgOiBudWxsO1xuICAgIH1cbiAgfSBlbHNlIGlmICghfnRhYkluZGV4KSB7XG4gICAgY29uc3QgYXR0ciA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCd0YWJpbmRleCcpO1xuXG4gICAgaWYgKGF0dHIgPT09IG51bGwgfHwgKGF0dHIgPT09ICcnICYmICFJU19GSVJFRk9YKSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRhYkluZGV4O1xufVxuIl19
