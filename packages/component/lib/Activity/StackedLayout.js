'use strict';

var cov_2rp4j00tc = (function() {
  var path = '/Users/guy/Work/Leo/leo/BotFramework-WebChat/packages/component/src/Activity/StackedLayout.js';
  var hash = 'b4f1edf88dfae09904e0c059f51484ef16bba657';
  var global = new Function('return this')();
  var gcv = '__coverage__';
  var coverageData = {
    path: '/Users/guy/Work/Leo/leo/BotFramework-WebChat/packages/component/src/Activity/StackedLayout.js',
    statementMap: {
      '0': {
        start: {
          line: 23,
          column: 4
        },
        end: {
          line: 23,
          column: 13
        }
      },
      '1': {
        start: {
          line: 25,
          column: 17
        },
        end: {
          line: 63,
          column: 2
        }
      },
      '2': {
        start: {
          line: 65,
          column: 29
        },
        end: {
          line: 84,
          column: 3
        }
      },
      '3': {
        start: {
          line: 66,
          column: 2
        },
        end: {
          line: 84,
          column: 3
        }
      },
      '4': {
        start: {
          line: 75,
          column: 10
        },
        end: {
          line: 82,
          column: 5
        }
      },
      '5': {
        start: {
          line: 86,
          column: 22
        },
        end: {
          line: 166,
          column: 1
        }
      },
      '6': {
        start: {
          line: 93,
          column: 6
        },
        end: {
          line: 93,
          column: 14
        }
      },
      '7': {
        start: {
          line: 95,
          column: 30
        },
        end: {
          line: 95,
          column: 60
        }
      },
      '8': {
        start: {
          line: 96,
          column: 19
        },
        end: {
          line: 96,
          column: 34
        }
      },
      '9': {
        start: {
          line: 97,
          column: 25
        },
        end: {
          line: 97,
          column: 67
        }
      },
      '10': {
        start: {
          line: 98,
          column: 20
        },
        end: {
          line: 100,
          column: 22
        }
      },
      '11': {
        start: {
          line: 101,
          column: 20
        },
        end: {
          line: 106,
          column: 3
        }
      },
      '12': {
        start: {
          line: 107,
          column: 19
        },
        end: {
          line: 107,
          column: 101
        }
      },
      '13': {
        start: {
          line: 109,
          column: 2
        },
        end: {
          line: 165,
          column: 4
        }
      },
      '14': {
        start: {
          line: 143,
          column: 10
        },
        end: {
          line: 152,
          column: 16
        }
      },
      '15': {
        start: {
          line: 168,
          column: 0
        },
        end: {
          line: 172,
          column: 2
        }
      },
      '16': {
        start: {
          line: 174,
          column: 0
        },
        end: {
          line: 198,
          column: 2
        }
      },
      '17': {
        start: {
          line: 200,
          column: 92
        },
        end: {
          line: 205,
          column: 1
        }
      }
    },
    fnMap: {
      '0': {
        name: '(anonymous_0)',
        decl: {
          start: {
            line: 65,
            column: 29
          },
          end: {
            line: 65,
            column: 30
          }
        },
        loc: {
          start: {
            line: 66,
            column: 2
          },
          end: {
            line: 84,
            column: 3
          }
        },
        line: 66
      },
      '1': {
        name: '(anonymous_1)',
        decl: {
          start: {
            line: 67,
            column: 4
          },
          end: {
            line: 67,
            column: 5
          }
        },
        loc: {
          start: {
            line: 75,
            column: 10
          },
          end: {
            line: 82,
            column: 5
          }
        },
        line: 75
      },
      '2': {
        name: '(anonymous_2)',
        decl: {
          start: {
            line: 86,
            column: 22
          },
          end: {
            line: 86,
            column: 23
          }
        },
        loc: {
          start: {
            line: 86,
            column: 117
          },
          end: {
            line: 166,
            column: 1
          }
        },
        line: 86
      },
      '3': {
        name: '(anonymous_3)',
        decl: {
          start: {
            line: 142,
            column: 25
          },
          end: {
            line: 142,
            column: 26
          }
        },
        loc: {
          start: {
            line: 143,
            column: 10
          },
          end: {
            line: 152,
            column: 16
          }
        },
        line: 143
      },
      '4': {
        name: '(anonymous_4)',
        decl: {
          start: {
            line: 200,
            column: 36
          },
          end: {
            line: 200,
            column: 37
          }
        },
        loc: {
          start: {
            line: 200,
            column: 92
          },
          end: {
            line: 205,
            column: 1
          }
        },
        line: 200
      }
    },
    branchMap: {
      '0': {
        loc: {
          start: {
            line: 74,
            column: 18
          },
          end: {
            line: 74,
            column: 46
          }
        },
        type: 'default-arg',
        locations: [
          {
            start: {
              line: 74,
              column: 44
            },
            end: {
              line: 74,
              column: 46
            }
          }
        ],
        line: 74
      },
      '1': {
        loc: {
          start: {
            line: 74,
            column: 26
          },
          end: {
            line: 74,
            column: 39
          }
        },
        type: 'default-arg',
        locations: [
          {
            start: {
              line: 74,
              column: 37
            },
            end: {
              line: 74,
              column: 39
            }
          }
        ],
        line: 74
      },
      '2': {
        loc: {
          start: {
            line: 76,
            column: 22
          },
          end: {
            line: 76,
            column: 78
          }
        },
        type: 'cond-expr',
        locations: [
          {
            start: {
              line: 76,
              column: 40
            },
            end: {
              line: 76,
              column: 58
            }
          },
          {
            start: {
              line: 76,
              column: 61
            },
            end: {
              line: 76,
              column: 78
            }
          }
        ],
        line: 76
      },
      '3': {
        loc: {
          start: {
            line: 88,
            column: 4
          },
          end: {
            line: 88,
            column: 20
          }
        },
        type: 'default-arg',
        locations: [
          {
            start: {
              line: 88,
              column: 18
            },
            end: {
              line: 88,
              column: 20
            }
          }
        ],
        line: 88
      },
      '4': {
        loc: {
          start: {
            line: 89,
            column: 17
          },
          end: {
            line: 89,
            column: 90
          }
        },
        type: 'default-arg',
        locations: [
          {
            start: {
              line: 89,
              column: 88
            },
            end: {
              line: 89,
              column: 90
            }
          }
        ],
        line: 89
      },
      '5': {
        loc: {
          start: {
            line: 89,
            column: 32
          },
          end: {
            line: 89,
            column: 76
          }
        },
        type: 'default-arg',
        locations: [
          {
            start: {
              line: 89,
              column: 74
            },
            end: {
              line: 89,
              column: 76
            }
          }
        ],
        line: 89
      },
      '6': {
        loc: {
          start: {
            line: 90,
            column: 10
          },
          end: {
            line: 90,
            column: 23
          }
        },
        type: 'default-arg',
        locations: [
          {
            start: {
              line: 90,
              column: 21
            },
            end: {
              line: 90,
              column: 23
            }
          }
        ],
        line: 90
      },
      '7': {
        loc: {
          start: {
            line: 95,
            column: 30
          },
          end: {
            line: 95,
            column: 60
          }
        },
        type: 'binary-expr',
        locations: [
          {
            start: {
              line: 95,
              column: 30
            },
            end: {
              line: 95,
              column: 52
            }
          },
          {
            start: {
              line: 95,
              column: 56
            },
            end: {
              line: 95,
              column: 60
            }
          }
        ],
        line: 95
      },
      '8': {
        loc: {
          start: {
            line: 97,
            column: 25
          },
          end: {
            line: 97,
            column: 67
          }
        },
        type: 'binary-expr',
        locations: [
          {
            start: {
              line: 97,
              column: 25
            },
            end: {
              line: 97,
              column: 42
            }
          },
          {
            start: {
              line: 97,
              column: 46
            },
            end: {
              line: 97,
              column: 67
            }
          }
        ],
        line: 97
      },
      '9': {
        loc: {
          start: {
            line: 102,
            column: 4
          },
          end: {
            line: 102,
            column: 59
          }
        },
        type: 'cond-expr',
        locations: [
          {
            start: {
              line: 102,
              column: 15
            },
            end: {
              line: 102,
              column: 36
            }
          },
          {
            start: {
              line: 102,
              column: 39
            },
            end: {
              line: 102,
              column: 59
            }
          }
        ],
        line: 102
      },
      '10': {
        loc: {
          start: {
            line: 107,
            column: 19
          },
          end: {
            line: 107,
            column: 101
          }
        },
        type: 'cond-expr',
        locations: [
          {
            start: {
              line: 107,
              column: 30
            },
            end: {
              line: 107,
              column: 68
            }
          },
          {
            start: {
              line: 107,
              column: 71
            },
            end: {
              line: 107,
              column: 101
            }
          }
        ],
        line: 107
      },
      '11': {
        loc: {
          start: {
            line: 115,
            column: 10
          },
          end: {
            line: 115,
            column: 91
          }
        },
        type: 'binary-expr',
        locations: [
          {
            start: {
              line: 115,
              column: 10
            },
            end: {
              line: 115,
              column: 18
            }
          },
          {
            start: {
              line: 115,
              column: 22
            },
            end: {
              line: 115,
              column: 57
            }
          },
          {
            start: {
              line: 115,
              column: 61
            },
            end: {
              line: 115,
              column: 91
            }
          }
        ],
        line: 115
      },
      '12': {
        loc: {
          start: {
            line: 117,
            column: 10
          },
          end: {
            line: 117,
            column: 101
          }
        },
        type: 'binary-expr',
        locations: [
          {
            start: {
              line: 117,
              column: 10
            },
            end: {
              line: 117,
              column: 19
            }
          },
          {
            start: {
              line: 117,
              column: 23
            },
            end: {
              line: 117,
              column: 59
            }
          },
          {
            start: {
              line: 117,
              column: 63
            },
            end: {
              line: 117,
              column: 101
            }
          }
        ],
        line: 117
      },
      '13': {
        loc: {
          start: {
            line: 118,
            column: 43
          },
          end: {
            line: 118,
            column: 70
          }
        },
        type: 'binary-expr',
        locations: [
          {
            start: {
              line: 118,
              column: 43
            },
            end: {
              line: 118,
              column: 57
            }
          },
          {
            start: {
              line: 118,
              column: 61
            },
            end: {
              line: 118,
              column: 70
            }
          }
        ],
        line: 118
      },
      '14': {
        loc: {
          start: {
            line: 121,
            column: 7
          },
          end: {
            line: 123,
            column: 7
          }
        },
        type: 'binary-expr',
        locations: [
          {
            start: {
              line: 121,
              column: 7
            },
            end: {
              line: 121,
              column: 22
            }
          },
          {
            start: {
              line: 121,
              column: 26
            },
            end: {
              line: 121,
              column: 112
            }
          },
          {
            start: {
              line: 122,
              column: 8
            },
            end: {
              line: 122,
              column: 34
            }
          }
        ],
        line: 121
      },
      '15': {
        loc: {
          start: {
            line: 121,
            column: 29
          },
          end: {
            line: 121,
            column: 111
          }
        },
        type: 'cond-expr',
        locations: [
          {
            start: {
              line: 121,
              column: 40
            },
            end: {
              line: 121,
              column: 78
            }
          },
          {
            start: {
              line: 121,
              column: 81
            },
            end: {
              line: 121,
              column: 111
            }
          }
        ],
        line: 121
      },
      '16': {
        loc: {
          start: {
            line: 126,
            column: 9
          },
          end: {
            line: 140,
            column: 9
          }
        },
        type: 'binary-expr',
        locations: [
          {
            start: {
              line: 126,
              column: 9
            },
            end: {
              line: 126,
              column: 30
            }
          },
          {
            start: {
              line: 127,
              column: 10
            },
            end: {
              line: 139,
              column: 16
            }
          }
        ],
        line: 126
      },
      '17': {
        loc: {
          start: {
            line: 148,
            column: 36
          },
          end: {
            line: 148,
            column: 109
          }
        },
        type: 'cond-expr',
        locations: [
          {
            start: {
              line: 148,
              column: 47
            },
            end: {
              line: 148,
              column: 77
            }
          },
          {
            start: {
              line: 148,
              column: 80
            },
            end: {
              line: 148,
              column: 109
            }
          }
        ],
        line: 148
      },
      '18': {
        loc: {
          start: {
            line: 155,
            column: 11
          },
          end: {
            line: 159,
            column: 11
          }
        },
        type: 'cond-expr',
        locations: [
          {
            start: {
              line: 156,
              column: 12
            },
            end: {
              line: 156,
              column: 68
            }
          },
          {
            start: {
              line: 158,
              column: 12
            },
            end: {
              line: 158,
              column: 101
            }
          }
        ],
        line: 155
      }
    },
    s: {
      '0': 0,
      '1': 0,
      '2': 0,
      '3': 0,
      '4': 0,
      '5': 0,
      '6': 0,
      '7': 0,
      '8': 0,
      '9': 0,
      '10': 0,
      '11': 0,
      '12': 0,
      '13': 0,
      '14': 0,
      '15': 0,
      '16': 0,
      '17': 0
    },
    f: {
      '0': 0,
      '1': 0,
      '2': 0,
      '3': 0,
      '4': 0
    },
    b: {
      '0': [0],
      '1': [0],
      '2': [0, 0],
      '3': [0],
      '4': [0],
      '5': [0],
      '6': [0],
      '7': [0, 0],
      '8': [0, 0],
      '9': [0, 0],
      '10': [0, 0],
      '11': [0, 0, 0],
      '12': [0, 0, 0],
      '13': [0, 0],
      '14': [0, 0, 0],
      '15': [0, 0],
      '16': [0, 0],
      '17': [0, 0],
      '18': [0, 0]
    },
    _coverageSchema: '43e27e138ebf9cfc5966b082cf9a028302ed4184',
    hash: 'b4f1edf88dfae09904e0c059f51484ef16bba657'
  };
  var coverage = global[gcv] || (global[gcv] = {});

  if (coverage[path] && coverage[path].hash === hash) {
    return coverage[path];
  }

  return (coverage[path] = coverageData);
})();

Object.defineProperty(exports, '__esModule', {
  value: true
});
exports.connectStackedLayout = exports.default = void 0;

var _botframeworkWebchatCore = require('botframework-webchat-core');

var _glamor = require('glamor');

var _classnames = _interopRequireDefault(require('classnames'));

var _propTypes = _interopRequireDefault(require('prop-types'));

var _react = _interopRequireDefault(require('react'));

var _remark = _interopRequireDefault(require('remark'));

var _stripMarkdown = _interopRequireDefault(require('strip-markdown'));

var _Localize = require('../Localization/Localize');

var _Avatar = _interopRequireDefault(require('./Avatar'));

var _Bubble = _interopRequireDefault(require('./Bubble'));

var _connectToWebChat = _interopRequireDefault(require('../connectToWebChat'));

var _ScreenReaderText = _interopRequireDefault(require('../ScreenReaderText'));

var _SendStatus = _interopRequireDefault(require('./SendStatus'));

var _textFormatToContentType = _interopRequireDefault(require('../Utils/textFormatToContentType'));

var _Timestamp = _interopRequireDefault(require('./Timestamp'));

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { default: obj };
}

var _ref = (cov_2rp4j00tc.s[0]++, _botframeworkWebchatCore.Constants),
  _ref$ActivityClientSt = _ref.ActivityClientState,
  SENDING = _ref$ActivityClientSt.SENDING,
  SEND_FAILED = _ref$ActivityClientSt.SEND_FAILED;

var ROOT_CSS =
  (cov_2rp4j00tc.s[1]++,
  (0, _glamor.css)({
    display: 'flex',
    '& > .avatar': {
      flexShrink: 0
    },
    '& > .content': {
      padding: '0px 5px',
      flexGrow: 1,
      overflow: 'hidden',
      '& > .webchat__row': {
        display: 'flex',
        '& > .bubble, & > .timestamp': {
          flexGrow: 1,
          overflow: 'hidden'
        },
        '& > .filler': {
          flexGrow: 10000,
          flexShrink: 1
        }
      }
    },
    '& > .filler': {
      flexShrink: 0
    },
    '&.from-user': {
      flexDirection: 'row-reverse',
      '& > .content > .webchat__row': {
        flexDirection: 'row-reverse'
      }
    }
  }));
cov_2rp4j00tc.s[2]++;

var connectStackedLayout = function connectStackedLayout() {
  cov_2rp4j00tc.f[0]++;
  cov_2rp4j00tc.s[3]++;

  for (var _len = arguments.length, selectors = new Array(_len), _key = 0; _key < _len; _key++) {
    selectors[_key] = arguments[_key];
  }

  return _connectToWebChat.default.apply(
    void 0,
    [
      function(_ref2, _ref3) {
        var language = _ref2.language,
          _ref2$styleSet$option = _ref2.styleSet.options,
          botAvatarInitials = _ref2$styleSet$option.botAvatarInitials,
          userAvatarInitials = _ref2$styleSet$option.userAvatarInitials;
        var _ref3$activity = _ref3.activity;
        _ref3$activity = _ref3$activity === void 0 ? (cov_2rp4j00tc.b[0][0]++, {}) : _ref3$activity;
        var _ref3$activity$from = _ref3$activity.from;
        _ref3$activity$from = _ref3$activity$from === void 0 ? (cov_2rp4j00tc.b[1][0]++, {}) : _ref3$activity$from;
        var role = _ref3$activity$from.role;
        cov_2rp4j00tc.f[1]++;
        cov_2rp4j00tc.s[4]++;
        return {
          avatarInitials:
            role === 'user'
              ? (cov_2rp4j00tc.b[2][0]++, userAvatarInitials)
              : (cov_2rp4j00tc.b[2][1]++, botAvatarInitials),
          language: language,
          // TODO: [P4] We want to deprecate botAvatarInitials/userAvatarInitials because they are not as helpful as avatarInitials
          botAvatarInitials: botAvatarInitials,
          userAvatarInitials: userAvatarInitials
        };
      }
    ].concat(selectors)
  );
};

exports.connectStackedLayout = connectStackedLayout;
cov_2rp4j00tc.s[5]++;

var StackedLayout = function StackedLayout(_ref4) {
  var activity = _ref4.activity,
    avatarInitials = _ref4.avatarInitials,
    children = _ref4.children,
    direction = _ref4.direction,
    language = _ref4.language,
    styleSet = _ref4.styleSet,
    timestampClassName = _ref4.timestampClassName;
  cov_2rp4j00tc.f[2]++;

  var _ref5 = (cov_2rp4j00tc.s[6]++, activity),
    _ref5$attachments = _ref5.attachments,
    attachments = _ref5$attachments === void 0 ? (cov_2rp4j00tc.b[3][0]++, []) : _ref5$attachments,
    _ref5$channelData = _ref5.channelData;

  _ref5$channelData = _ref5$channelData === void 0 ? (cov_2rp4j00tc.b[4][0]++, {}) : _ref5$channelData;
  var _ref5$channelData$mes = _ref5$channelData.messageBack;
  _ref5$channelData$mes = _ref5$channelData$mes === void 0 ? (cov_2rp4j00tc.b[5][0]++, {}) : _ref5$channelData$mes;
  var messageBackDisplayText = _ref5$channelData$mes.displayText,
    state = _ref5$channelData.state,
    _ref5$from = _ref5.from;
  _ref5$from = _ref5$from === void 0 ? (cov_2rp4j00tc.b[6][0]++, {}) : _ref5$from;
  var role = _ref5$from.role,
    text = _ref5.text,
    textFormat = _ref5.textFormat;
  var activityDisplayText =
    (cov_2rp4j00tc.s[7]++, (cov_2rp4j00tc.b[7][0]++, messageBackDisplayText) || (cov_2rp4j00tc.b[7][1]++, text));
  var fromUser = (cov_2rp4j00tc.s[8]++, role === 'user');
  var showSendStatus =
    (cov_2rp4j00tc.s[9]++,
    (cov_2rp4j00tc.b[8][0]++, state === SENDING) || (cov_2rp4j00tc.b[8][1]++, state === SEND_FAILED));
  var plainText =
    (cov_2rp4j00tc.s[10]++,
    (0, _remark.default)()
      .use(_stripMarkdown.default)
      .processSync(text));
  var ariaLabel =
    (cov_2rp4j00tc.s[11]++,
    (0, _Localize.localize)(
      fromUser ? (cov_2rp4j00tc.b[9][0]++, 'User said something') : (cov_2rp4j00tc.b[9][1]++, 'Bot said something'),
      language,
      avatarInitials,
      plainText
    ));
  var indented =
    (cov_2rp4j00tc.s[12]++,
    fromUser
      ? (cov_2rp4j00tc.b[10][0]++, styleSet.options.bubbleFromUserNubSize)
      : (cov_2rp4j00tc.b[10][1]++, styleSet.options.bubbleNubSize));
  cov_2rp4j00tc.s[13]++;
  return _react.default.createElement(
    'div',
    {
      className: (0, _classnames.default)(ROOT_CSS + '', styleSet.stackedLayout + '', {
        'from-user': fromUser,
        direction: direction,
        webchat__stacked_extra_left_indent:
          (cov_2rp4j00tc.b[11][0]++, fromUser) &&
          (cov_2rp4j00tc.b[11][1]++, !styleSet.options.botAvatarInitials) &&
          (cov_2rp4j00tc.b[11][2]++, styleSet.options.bubbleNubSize),
        webchat__stacked_extra_right_indent:
          (cov_2rp4j00tc.b[12][0]++, !fromUser) &&
          (cov_2rp4j00tc.b[12][1]++, !styleSet.options.userAvatarInitials) &&
          (cov_2rp4j00tc.b[12][2]++, styleSet.options.bubbleFromUserNubSize),
        webchat__stacked_indented_content:
          (cov_2rp4j00tc.b[13][0]++, avatarInitials) && (cov_2rp4j00tc.b[13][1]++, !indented)
      })
    },
    (cov_2rp4j00tc.b[14][0]++, !avatarInitials) &&
      (cov_2rp4j00tc.b[14][1]++,
      !!(fromUser
        ? (cov_2rp4j00tc.b[15][0]++, styleSet.options.bubbleFromUserNubSize)
        : (cov_2rp4j00tc.b[15][1]++, styleSet.options.bubbleNubSize))) &&
      (cov_2rp4j00tc.b[14][2]++,
      _react.default.createElement('div', {
        className: 'avatar'
      })),
    _react.default.createElement(_Avatar.default, {
      'aria-hidden': true,
      className: 'avatar',
      fromUser: fromUser
    }),
    _react.default.createElement(
      'div',
      {
        className: 'content'
      },
      (cov_2rp4j00tc.b[16][0]++, !!activityDisplayText) &&
        (cov_2rp4j00tc.b[16][1]++,
        _react.default.createElement(
          'div',
          {
            className: 'webchat__row message'
          },
          _react.default.createElement(_ScreenReaderText.default, {
            text: ariaLabel
          }),
          _react.default.createElement(
            _Bubble.default,
            {
              'aria-hidden': true,
              className: 'bubble',
              fromUser: fromUser,
              nub: true
            },
            children({
              activity: activity,
              attachment: {
                content: activityDisplayText,
                contentType: (0, _textFormatToContentType.default)(textFormat)
              }
            })
          ),
          _react.default.createElement('div', {
            className: 'filler'
          })
        )),
      attachments.map(function(attachment, index) {
        cov_2rp4j00tc.f[3]++;
        cov_2rp4j00tc.s[14]++;
        return _react.default.createElement(
          'div',
          {
            'aria-label': ' ',
            className: (0, _classnames.default)('webchat__row attachment', {
              webchat__stacked_item_indented: indented
            }),
            key: index
          },
          _react.default.createElement(_ScreenReaderText.default, {
            text: fromUser
              ? (cov_2rp4j00tc.b[17][0]++, (0, _Localize.localize)('UserSent', language))
              : (cov_2rp4j00tc.b[17][1]++, (0, _Localize.localize)('BotSent', language))
          }),
          _react.default.createElement(
            _Bubble.default,
            {
              className: 'attachment bubble',
              fromUser: fromUser,
              key: index,
              nub: false
            },
            children({
              attachment: attachment
            })
          )
        );
      }),
      _react.default.createElement(
        'div',
        {
          className: (0, _classnames.default)('webchat__row', {
            webchat__stacked_item_indented: indented
          })
        },
        showSendStatus
          ? (cov_2rp4j00tc.b[18][0]++,
            _react.default.createElement(_SendStatus.default, {
              activity: activity,
              className: 'timestamp'
            }))
          : (cov_2rp4j00tc.b[18][1]++,
            _react.default.createElement(_Timestamp.default, {
              activity: activity,
              className: (0, _classnames.default)('timestamp', timestampClassName)
            })),
        _react.default.createElement('div', {
          className: 'filler'
        })
      )
    ),
    _react.default.createElement('div', {
      className: 'filler'
    })
  );
};

cov_2rp4j00tc.s[15]++;
StackedLayout.defaultProps = {
  children: undefined,
  direction: 'ltr',
  timestampClassName: ''
};
cov_2rp4j00tc.s[16]++;
StackedLayout.propTypes = {
  activity: _propTypes.default.shape({
    attachments: _propTypes.default.array,
    channelData: _propTypes.default.shape({
      messageBack: _propTypes.default.shape({
        displayText: _propTypes.default.string
      })
    }),
    from: _propTypes.default.shape({
      role: _propTypes.default.string.isRequired
    }).isRequired,
    text: _propTypes.default.string,
    textFormat: _propTypes.default.string,
    timestamp: _propTypes.default.string,
    type: _propTypes.default.string.isRequired
  }).isRequired,
  avatarInitials: _propTypes.default.string.isRequired,
  children: _propTypes.default.any,
  direction: _propTypes.default.string,
  language: _propTypes.default.string.isRequired,
  styleSet: _propTypes.default.shape({
    stackedLayout: _propTypes.default.any.isRequired
  }).isRequired,
  timestampClassName: _propTypes.default.string
};

var _default = connectStackedLayout(function(_ref6) {
  var avatarInitials = _ref6.avatarInitials,
    direction = _ref6.direction,
    language = _ref6.language,
    styleSet = _ref6.styleSet;
  cov_2rp4j00tc.f[4]++;
  cov_2rp4j00tc.s[17]++;
  return {
    avatarInitials: avatarInitials,
    direction: direction,
    language: language,
    styleSet: styleSet
  };
})(StackedLayout);

exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9BY3Rpdml0eS9TdGFja2VkTGF5b3V0LmpzIl0sIm5hbWVzIjpbIkNvbnN0YW50cyIsIkFjdGl2aXR5Q2xpZW50U3RhdGUiLCJTRU5ESU5HIiwiU0VORF9GQUlMRUQiLCJST09UX0NTUyIsImRpc3BsYXkiLCJmbGV4U2hyaW5rIiwicGFkZGluZyIsImZsZXhHcm93Iiwib3ZlcmZsb3ciLCJmbGV4RGlyZWN0aW9uIiwiY29ubmVjdFN0YWNrZWRMYXlvdXQiLCJzZWxlY3RvcnMiLCJsYW5ndWFnZSIsInN0eWxlU2V0Iiwib3B0aW9ucyIsImJvdEF2YXRhckluaXRpYWxzIiwidXNlckF2YXRhckluaXRpYWxzIiwiYWN0aXZpdHkiLCJmcm9tIiwicm9sZSIsImF2YXRhckluaXRpYWxzIiwiU3RhY2tlZExheW91dCIsImNoaWxkcmVuIiwiZGlyZWN0aW9uIiwidGltZXN0YW1wQ2xhc3NOYW1lIiwiYXR0YWNobWVudHMiLCJjaGFubmVsRGF0YSIsIm1lc3NhZ2VCYWNrIiwibWVzc2FnZUJhY2tEaXNwbGF5VGV4dCIsImRpc3BsYXlUZXh0Iiwic3RhdGUiLCJ0ZXh0IiwidGV4dEZvcm1hdCIsImFjdGl2aXR5RGlzcGxheVRleHQiLCJmcm9tVXNlciIsInNob3dTZW5kU3RhdHVzIiwicGxhaW5UZXh0IiwidXNlIiwic3RyaXBNYXJrZG93biIsInByb2Nlc3NTeW5jIiwiYXJpYUxhYmVsIiwiaW5kZW50ZWQiLCJidWJibGVGcm9tVXNlck51YlNpemUiLCJidWJibGVOdWJTaXplIiwic3RhY2tlZExheW91dCIsIndlYmNoYXRfX3N0YWNrZWRfZXh0cmFfbGVmdF9pbmRlbnQiLCJ3ZWJjaGF0X19zdGFja2VkX2V4dHJhX3JpZ2h0X2luZGVudCIsIndlYmNoYXRfX3N0YWNrZWRfaW5kZW50ZWRfY29udGVudCIsImF0dGFjaG1lbnQiLCJjb250ZW50IiwiY29udGVudFR5cGUiLCJtYXAiLCJpbmRleCIsIndlYmNoYXRfX3N0YWNrZWRfaXRlbV9pbmRlbnRlZCIsImRlZmF1bHRQcm9wcyIsInVuZGVmaW5lZCIsInByb3BUeXBlcyIsIlByb3BUeXBlcyIsInNoYXBlIiwiYXJyYXkiLCJzdHJpbmciLCJpc1JlcXVpcmVkIiwidGltZXN0YW1wIiwidHlwZSIsImFueSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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TUFBVixDQUFpQkMsVUFoQlQ7QUFpQnhCdkMsRUFBQUEsUUFBUSxFQUFFbUMsbUJBQVVPLEdBakJJO0FBa0J4QnpDLEVBQUFBLFNBQVMsRUFBRWtDLG1CQUFVRyxNQWxCRztBQW1CeEJoRCxFQUFBQSxRQUFRLEVBQUU2QyxtQkFBVUcsTUFBVixDQUFpQkMsVUFuQkg7QUFvQnhCaEQsRUFBQUEsUUFBUSxFQUFFNEMsbUJBQVVDLEtBQVYsQ0FBZ0I7QUFDeEJkLElBQUFBLGFBQWEsRUFBRWEsbUJBQVVPLEdBQVYsQ0FBY0g7QUFETCxHQUFoQixFQUVQQSxVQXRCcUI7QUF1QnhCckMsRUFBQUEsa0JBQWtCLEVBQUVpQyxtQkFBVUc7QUF2Qk4sQ0FBMUI7O2VBMEJlbEQsb0JBQW9CLENBQUMsaUJBQXdEO0FBQUEsTUFBckRVLGNBQXFELFNBQXJEQSxjQUFxRDtBQUFBLE1BQXJDRyxTQUFxQyxTQUFyQ0EsU0FBcUM7QUFBQSxNQUExQlgsUUFBMEIsU0FBMUJBLFFBQTBCO0FBQUEsTUFBaEJDLFFBQWdCLFNBQWhCQSxRQUFnQjtBQUFBO0FBQUE7QUFBQTtBQUMxRk8sSUFBQUEsY0FBYyxFQUFkQSxjQUQwRjtBQUUxRkcsSUFBQUEsU0FBUyxFQUFUQSxTQUYwRjtBQUcxRlgsSUFBQUEsUUFBUSxFQUFSQSxRQUgwRjtBQUkxRkMsSUFBQUEsUUFBUSxFQUFSQTtBQUowRjtBQUszRixDQUxrQyxDQUFwQixDQUtYUSxhQUxXLEMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQgcmVhY3Qvbm8tYXJyYXktaW5kZXgta2V5OiBcIm9mZlwiICovXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1zeW5jICovXG5cbmltcG9ydCB7IENvbnN0YW50cyB9IGZyb20gJ2JvdGZyYW1ld29yay13ZWJjaGF0LWNvcmUnO1xuaW1wb3J0IHsgY3NzIH0gZnJvbSAnZ2xhbW9yJztcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgcmVtYXJrIGZyb20gJ3JlbWFyayc7XG5pbXBvcnQgc3RyaXBNYXJrZG93biBmcm9tICdzdHJpcC1tYXJrZG93bic7XG5cbmltcG9ydCB7IGxvY2FsaXplIH0gZnJvbSAnLi4vTG9jYWxpemF0aW9uL0xvY2FsaXplJztcbmltcG9ydCBBdmF0YXIgZnJvbSAnLi9BdmF0YXInO1xuaW1wb3J0IEJ1YmJsZSBmcm9tICcuL0J1YmJsZSc7XG5pbXBvcnQgY29ubmVjdFRvV2ViQ2hhdCBmcm9tICcuLi9jb25uZWN0VG9XZWJDaGF0JztcbmltcG9ydCBTY3JlZW5SZWFkZXJUZXh0IGZyb20gJy4uL1NjcmVlblJlYWRlclRleHQnO1xuaW1wb3J0IFNlbmRTdGF0dXMgZnJvbSAnLi9TZW5kU3RhdHVzJztcbmltcG9ydCB0ZXh0Rm9ybWF0VG9Db250ZW50VHlwZSBmcm9tICcuLi9VdGlscy90ZXh0Rm9ybWF0VG9Db250ZW50VHlwZSc7XG5pbXBvcnQgVGltZXN0YW1wIGZyb20gJy4vVGltZXN0YW1wJztcblxuY29uc3Qge1xuICBBY3Rpdml0eUNsaWVudFN0YXRlOiB7IFNFTkRJTkcsIFNFTkRfRkFJTEVEIH1cbn0gPSBDb25zdGFudHM7XG5cbmNvbnN0IFJPT1RfQ1NTID0gY3NzKHtcbiAgZGlzcGxheTogJ2ZsZXgnLFxuXG4gICcmID4gLmF2YXRhcic6IHtcbiAgICBmbGV4U2hyaW5rOiAwXG4gIH0sXG5cbiAgJyYgPiAuY29udGVudCc6IHtcbiAgICBwYWRkaW5nOiAnMHB4IDVweCcsXG4gICAgZmxleEdyb3c6IDEsXG4gICAgb3ZlcmZsb3c6ICdoaWRkZW4nLFxuXG4gICAgJyYgPiAud2ViY2hhdF9fcm93Jzoge1xuICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuXG4gICAgICAnJiA+IC5idWJibGUsICYgPiAudGltZXN0YW1wJzoge1xuICAgICAgICBmbGV4R3JvdzogMSxcbiAgICAgICAgb3ZlcmZsb3c6ICdoaWRkZW4nXG4gICAgICB9LFxuXG4gICAgICAnJiA+IC5maWxsZXInOiB7XG4gICAgICAgIGZsZXhHcm93OiAxMDAwMCxcbiAgICAgICAgZmxleFNocmluazogMVxuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICAnJiA+IC5maWxsZXInOiB7XG4gICAgZmxleFNocmluazogMFxuICB9LFxuXG4gICcmLmZyb20tdXNlcic6IHtcbiAgICBmbGV4RGlyZWN0aW9uOiAncm93LXJldmVyc2UnLFxuXG4gICAgJyYgPiAuY29udGVudCA+IC53ZWJjaGF0X19yb3cnOiB7XG4gICAgICBmbGV4RGlyZWN0aW9uOiAncm93LXJldmVyc2UnXG4gICAgfVxuICB9XG59KTtcblxuY29uc3QgY29ubmVjdFN0YWNrZWRMYXlvdXQgPSAoLi4uc2VsZWN0b3JzKSA9PlxuICBjb25uZWN0VG9XZWJDaGF0KFxuICAgIChcbiAgICAgIHtcbiAgICAgICAgbGFuZ3VhZ2UsXG4gICAgICAgIHN0eWxlU2V0OiB7XG4gICAgICAgICAgb3B0aW9uczogeyBib3RBdmF0YXJJbml0aWFscywgdXNlckF2YXRhckluaXRpYWxzIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHsgYWN0aXZpdHk6IHsgZnJvbTogeyByb2xlIH0gPSB7fSB9ID0ge30gfVxuICAgICkgPT4gKHtcbiAgICAgIGF2YXRhckluaXRpYWxzOiByb2xlID09PSAndXNlcicgPyB1c2VyQXZhdGFySW5pdGlhbHMgOiBib3RBdmF0YXJJbml0aWFscyxcbiAgICAgIGxhbmd1YWdlLFxuXG4gICAgICAvLyBUT0RPOiBbUDRdIFdlIHdhbnQgdG8gZGVwcmVjYXRlIGJvdEF2YXRhckluaXRpYWxzL3VzZXJBdmF0YXJJbml0aWFscyBiZWNhdXNlIHRoZXkgYXJlIG5vdCBhcyBoZWxwZnVsIGFzIGF2YXRhckluaXRpYWxzXG4gICAgICBib3RBdmF0YXJJbml0aWFscyxcbiAgICAgIHVzZXJBdmF0YXJJbml0aWFsc1xuICAgIH0pLFxuICAgIC4uLnNlbGVjdG9yc1xuICApO1xuXG5jb25zdCBTdGFja2VkTGF5b3V0ID0gKHsgYWN0aXZpdHksIGF2YXRhckluaXRpYWxzLCBjaGlsZHJlbiwgZGlyZWN0aW9uLCBsYW5ndWFnZSwgc3R5bGVTZXQsIHRpbWVzdGFtcENsYXNzTmFtZSB9KSA9PiB7XG4gIGNvbnN0IHtcbiAgICBhdHRhY2htZW50cyA9IFtdLFxuICAgIGNoYW5uZWxEYXRhOiB7IG1lc3NhZ2VCYWNrOiB7IGRpc3BsYXlUZXh0OiBtZXNzYWdlQmFja0Rpc3BsYXlUZXh0IH0gPSB7fSwgc3RhdGUgfSA9IHt9LFxuICAgIGZyb206IHsgcm9sZSB9ID0ge30sXG4gICAgdGV4dCxcbiAgICB0ZXh0Rm9ybWF0XG4gIH0gPSBhY3Rpdml0eTtcblxuICBjb25zdCBhY3Rpdml0eURpc3BsYXlUZXh0ID0gbWVzc2FnZUJhY2tEaXNwbGF5VGV4dCB8fCB0ZXh0O1xuICBjb25zdCBmcm9tVXNlciA9IHJvbGUgPT09ICd1c2VyJztcbiAgY29uc3Qgc2hvd1NlbmRTdGF0dXMgPSBzdGF0ZSA9PT0gU0VORElORyB8fCBzdGF0ZSA9PT0gU0VORF9GQUlMRUQ7XG4gIGNvbnN0IHBsYWluVGV4dCA9IHJlbWFyaygpXG4gICAgLnVzZShzdHJpcE1hcmtkb3duKVxuICAgIC5wcm9jZXNzU3luYyh0ZXh0KTtcbiAgY29uc3QgYXJpYUxhYmVsID0gbG9jYWxpemUoXG4gICAgZnJvbVVzZXIgPyAnVXNlciBzYWlkIHNvbWV0aGluZycgOiAnQm90IHNhaWQgc29tZXRoaW5nJyxcbiAgICBsYW5ndWFnZSxcbiAgICBhdmF0YXJJbml0aWFscyxcbiAgICBwbGFpblRleHRcbiAgKTtcbiAgY29uc3QgaW5kZW50ZWQgPSBmcm9tVXNlciA/IHN0eWxlU2V0Lm9wdGlvbnMuYnViYmxlRnJvbVVzZXJOdWJTaXplIDogc3R5bGVTZXQub3B0aW9ucy5idWJibGVOdWJTaXplO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdlxuICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWVzKFJPT1RfQ1NTICsgJycsIHN0eWxlU2V0LnN0YWNrZWRMYXlvdXQgKyAnJywge1xuICAgICAgICAnZnJvbS11c2VyJzogZnJvbVVzZXIsXG4gICAgICAgIGRpcmVjdGlvbixcbiAgICAgICAgd2ViY2hhdF9fc3RhY2tlZF9leHRyYV9sZWZ0X2luZGVudDpcbiAgICAgICAgICBmcm9tVXNlciAmJiAhc3R5bGVTZXQub3B0aW9ucy5ib3RBdmF0YXJJbml0aWFscyAmJiBzdHlsZVNldC5vcHRpb25zLmJ1YmJsZU51YlNpemUsXG4gICAgICAgIHdlYmNoYXRfX3N0YWNrZWRfZXh0cmFfcmlnaHRfaW5kZW50OlxuICAgICAgICAgICFmcm9tVXNlciAmJiAhc3R5bGVTZXQub3B0aW9ucy51c2VyQXZhdGFySW5pdGlhbHMgJiYgc3R5bGVTZXQub3B0aW9ucy5idWJibGVGcm9tVXNlck51YlNpemUsXG4gICAgICAgIHdlYmNoYXRfX3N0YWNrZWRfaW5kZW50ZWRfY29udGVudDogYXZhdGFySW5pdGlhbHMgJiYgIWluZGVudGVkXG4gICAgICB9KX1cbiAgICA+XG4gICAgICB7IWF2YXRhckluaXRpYWxzICYmICEhKGZyb21Vc2VyID8gc3R5bGVTZXQub3B0aW9ucy5idWJibGVGcm9tVXNlck51YlNpemUgOiBzdHlsZVNldC5vcHRpb25zLmJ1YmJsZU51YlNpemUpICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhdmF0YXJcIiAvPlxuICAgICAgKX1cbiAgICAgIDxBdmF0YXIgYXJpYS1oaWRkZW49e3RydWV9IGNsYXNzTmFtZT1cImF2YXRhclwiIGZyb21Vc2VyPXtmcm9tVXNlcn0gLz5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGVudFwiPlxuICAgICAgICB7ISFhY3Rpdml0eURpc3BsYXlUZXh0ICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIndlYmNoYXRfX3JvdyBtZXNzYWdlXCI+XG4gICAgICAgICAgICA8U2NyZWVuUmVhZGVyVGV4dCB0ZXh0PXthcmlhTGFiZWx9IC8+XG4gICAgICAgICAgICA8QnViYmxlIGFyaWEtaGlkZGVuPXt0cnVlfSBjbGFzc05hbWU9XCJidWJibGVcIiBmcm9tVXNlcj17ZnJvbVVzZXJ9IG51Yj17dHJ1ZX0+XG4gICAgICAgICAgICAgIHtjaGlsZHJlbih7XG4gICAgICAgICAgICAgICAgYWN0aXZpdHksXG4gICAgICAgICAgICAgICAgYXR0YWNobWVudDoge1xuICAgICAgICAgICAgICAgICAgY29udGVudDogYWN0aXZpdHlEaXNwbGF5VGV4dCxcbiAgICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlOiB0ZXh0Rm9ybWF0VG9Db250ZW50VHlwZSh0ZXh0Rm9ybWF0KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICA8L0J1YmJsZT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmlsbGVyXCIgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgICAgey8qIEJlY2F1c2Ugb2YgZGlmZmVyZW5jZXMgaW4gYnJvd3NlciBpbXBsZW1lbnRhdGlvbnMsIGFyaWEtbGFiZWw9XCIgXCIgaXMgdXNlZCB0byBtYWtlIHRoZSBzY3JlZW4gcmVhZGVyIG5vdCByZXBlYXQgdGhlIHNhbWUgdGV4dCBtdWx0aXBsZSB0aW1lcyBpbiBDaHJvbWUgdjc1ICovfVxuICAgICAgICB7YXR0YWNobWVudHMubWFwKChhdHRhY2htZW50LCBpbmRleCkgPT4gKFxuICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgIGFyaWEtbGFiZWw9XCIgXCJcbiAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnd2ViY2hhdF9fcm93IGF0dGFjaG1lbnQnLCB7IHdlYmNoYXRfX3N0YWNrZWRfaXRlbV9pbmRlbnRlZDogaW5kZW50ZWQgfSl9XG4gICAgICAgICAgICBrZXk9e2luZGV4fVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxTY3JlZW5SZWFkZXJUZXh0IHRleHQ9e2Zyb21Vc2VyID8gbG9jYWxpemUoJ1VzZXJTZW50JywgbGFuZ3VhZ2UpIDogbG9jYWxpemUoJ0JvdFNlbnQnLCBsYW5ndWFnZSl9IC8+XG4gICAgICAgICAgICA8QnViYmxlIGNsYXNzTmFtZT1cImF0dGFjaG1lbnQgYnViYmxlXCIgZnJvbVVzZXI9e2Zyb21Vc2VyfSBrZXk9e2luZGV4fSBudWI9e2ZhbHNlfT5cbiAgICAgICAgICAgICAge2NoaWxkcmVuKHsgYXR0YWNobWVudCB9KX1cbiAgICAgICAgICAgIDwvQnViYmxlPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApKX1cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ3dlYmNoYXRfX3JvdycsIHsgd2ViY2hhdF9fc3RhY2tlZF9pdGVtX2luZGVudGVkOiBpbmRlbnRlZCB9KX0+XG4gICAgICAgICAge3Nob3dTZW5kU3RhdHVzID8gKFxuICAgICAgICAgICAgPFNlbmRTdGF0dXMgYWN0aXZpdHk9e2FjdGl2aXR5fSBjbGFzc05hbWU9XCJ0aW1lc3RhbXBcIiAvPlxuICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICA8VGltZXN0YW1wIGFjdGl2aXR5PXthY3Rpdml0eX0gY2xhc3NOYW1lPXtjbGFzc05hbWVzKCd0aW1lc3RhbXAnLCB0aW1lc3RhbXBDbGFzc05hbWUpfSAvPlxuICAgICAgICAgICl9XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmaWxsZXJcIiAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmaWxsZXJcIiAvPlxuICAgIDwvZGl2PlxuICApO1xufTtcblxuU3RhY2tlZExheW91dC5kZWZhdWx0UHJvcHMgPSB7XG4gIGNoaWxkcmVuOiB1bmRlZmluZWQsXG4gIGRpcmVjdGlvbjogJ2x0cicsXG4gIHRpbWVzdGFtcENsYXNzTmFtZTogJydcbn07XG5cblN0YWNrZWRMYXlvdXQucHJvcFR5cGVzID0ge1xuICBhY3Rpdml0eTogUHJvcFR5cGVzLnNoYXBlKHtcbiAgICBhdHRhY2htZW50czogUHJvcFR5cGVzLmFycmF5LFxuICAgIGNoYW5uZWxEYXRhOiBQcm9wVHlwZXMuc2hhcGUoe1xuICAgICAgbWVzc2FnZUJhY2s6IFByb3BUeXBlcy5zaGFwZSh7XG4gICAgICAgIGRpc3BsYXlUZXh0OiBQcm9wVHlwZXMuc3RyaW5nXG4gICAgICB9KVxuICAgIH0pLFxuICAgIGZyb206IFByb3BUeXBlcy5zaGFwZSh7XG4gICAgICByb2xlOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWRcbiAgICB9KS5pc1JlcXVpcmVkLFxuICAgIHRleHQ6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgdGV4dEZvcm1hdDogUHJvcFR5cGVzLnN0cmluZyxcbiAgICB0aW1lc3RhbXA6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgdHlwZTogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkXG4gIH0pLmlzUmVxdWlyZWQsXG4gIGF2YXRhckluaXRpYWxzOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gIGNoaWxkcmVuOiBQcm9wVHlwZXMuYW55LFxuICBkaXJlY3Rpb246IFByb3BUeXBlcy5zdHJpbmcsXG4gIGxhbmd1YWdlOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gIHN0eWxlU2V0OiBQcm9wVHlwZXMuc2hhcGUoe1xuICAgIHN0YWNrZWRMYXlvdXQ6IFByb3BUeXBlcy5hbnkuaXNSZXF1aXJlZFxuICB9KS5pc1JlcXVpcmVkLFxuICB0aW1lc3RhbXBDbGFzc05hbWU6IFByb3BUeXBlcy5zdHJpbmdcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3RTdGFja2VkTGF5b3V0KCh7IGF2YXRhckluaXRpYWxzLCBkaXJlY3Rpb24sIGxhbmd1YWdlLCBzdHlsZVNldCB9KSA9PiAoe1xuICBhdmF0YXJJbml0aWFscyxcbiAgZGlyZWN0aW9uLFxuICBsYW5ndWFnZSxcbiAgc3R5bGVTZXRcbn0pKShTdGFja2VkTGF5b3V0KTtcblxuZXhwb3J0IHsgY29ubmVjdFN0YWNrZWRMYXlvdXQgfTtcbiJdfQ==
