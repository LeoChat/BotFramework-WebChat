'use strict';

var cov_1xlkr1cnd7 = (function() {
  var path = '/Users/guy/Work/Leo/leo/BotFramework-WebChat/packages/component/src/Dictation.js';
  var hash = '06617573935514d9665b5f58229ab873b87f8c50';
  var global = new Function('return this')();
  var gcv = '__coverage__';
  var coverageData = {
    path: '/Users/guy/Work/Leo/leo/BotFramework-WebChat/packages/component/src/Dictation.js',
    statementMap: {
      '0': {
        start: {
          line: 10,
          column: 4
        },
        end: {
          line: 10,
          column: 13
        }
      },
      '1': {
        start: {
          line: 12,
          column: 18
        },
        end: {
          line: 76,
          column: 1
        }
      },
      '2': {
        start: {
          line: 28,
          column: 24
        },
        end: {
          line: 43,
          column: 3
        }
      },
      '3': {
        start: {
          line: 30,
          column: 6
        },
        end: {
          line: 40,
          column: 7
        }
      },
      '4': {
        start: {
          line: 31,
          column: 8
        },
        end: {
          line: 31,
          column: 31
        }
      },
      '5': {
        start: {
          line: 32,
          column: 8
        },
        end: {
          line: 32,
          column: 30
        }
      },
      '6': {
        start: {
          line: 33,
          column: 8
        },
        end: {
          line: 33,
          column: 22
        }
      },
      '7': {
        start: {
          line: 35,
          column: 8
        },
        end: {
          line: 39,
          column: 9
        }
      },
      '8': {
        start: {
          line: 36,
          column: 10
        },
        end: {
          line: 36,
          column: 33
        }
      },
      '9': {
        start: {
          line: 37,
          column: 10
        },
        end: {
          line: 37,
          column: 34
        }
      },
      '10': {
        start: {
          line: 38,
          column: 10
        },
        end: {
          line: 38,
          column: 34
        }
      },
      '11': {
        start: {
          line: 45,
          column: 26
        },
        end: {
          line: 56,
          column: 3
        }
      },
      '12': {
        start: {
          line: 47,
          column: 6
        },
        end: {
          line: 53,
          column: 7
        }
      },
      '13': {
        start: {
          line: 48,
          column: 25
        },
        end: {
          line: 48,
          column: 68
        }
      },
      '14': {
        start: {
          line: 48,
          column: 57
        },
        end: {
          line: 48,
          column: 67
        }
      },
      '15': {
        start: {
          line: 50,
          column: 8
        },
        end: {
          line: 50,
          column: 37
        }
      },
      '16': {
        start: {
          line: 51,
          column: 8
        },
        end: {
          line: 51,
          column: 35
        }
      },
      '17': {
        start: {
          line: 52,
          column: 8
        },
        end: {
          line: 52,
          column: 64
        }
      },
      '18': {
        start: {
          line: 58,
          column: 22
        },
        end: {
          line: 63,
          column: 59
        }
      },
      '19': {
        start: {
          line: 59,
          column: 4
        },
        end: {
          line: 59,
          column: 51
        }
      },
      '20': {
        start: {
          line: 60,
          column: 4
        },
        end: {
          line: 60,
          column: 79
        }
      },
      '21': {
        start: {
          line: 62,
          column: 4
        },
        end: {
          line: 62,
          column: 30
        }
      },
      '22': {
        start: {
          line: 65,
          column: 2
        },
        end: {
          line: 75,
          column: 4
        }
      },
      '23': {
        start: {
          line: 78,
          column: 0
        },
        end: {
          line: 82,
          column: 2
        }
      },
      '24': {
        start: {
          line: 84,
          column: 0
        },
        end: {
          line: 102,
          column: 2
        }
      },
      '25': {
        start: {
          line: 119,
          column: 9
        },
        end: {
          line: 133,
          column: 3
        }
      },
      '26': {
        start: {
          line: 123,
          column: 82
        },
        end: {
          line: 123,
          column: 87
        }
      }
    },
    fnMap: {
      '0': {
        name: '(anonymous_0)',
        decl: {
          start: {
            line: 12,
            column: 18
          },
          end: {
            line: 12,
            column: 19
          }
        },
        loc: {
          start: {
            line: 27,
            column: 6
          },
          end: {
            line: 76,
            column: 1
          }
        },
        line: 27
      },
      '1': {
        name: '(anonymous_1)',
        decl: {
          start: {
            line: 29,
            column: 4
          },
          end: {
            line: 29,
            column: 5
          }
        },
        loc: {
          start: {
            line: 29,
            column: 41
          },
          end: {
            line: 41,
            column: 5
          }
        },
        line: 29
      },
      '2': {
        name: '(anonymous_2)',
        decl: {
          start: {
            line: 46,
            column: 4
          },
          end: {
            line: 46,
            column: 5
          }
        },
        loc: {
          start: {
            line: 46,
            column: 26
          },
          end: {
            line: 54,
            column: 5
          }
        },
        line: 46
      },
      '3': {
        name: '(anonymous_3)',
        decl: {
          start: {
            line: 48,
            column: 37
          },
          end: {
            line: 48,
            column: 38
          }
        },
        loc: {
          start: {
            line: 48,
            column: 57
          },
          end: {
            line: 48,
            column: 67
          }
        },
        line: 48
      },
      '4': {
        name: '(anonymous_4)',
        decl: {
          start: {
            line: 58,
            column: 34
          },
          end: {
            line: 58,
            column: 35
          }
        },
        loc: {
          start: {
            line: 58,
            column: 40
          },
          end: {
            line: 63,
            column: 3
          }
        },
        line: 58
      },
      '5': {
        name: '(anonymous_5)',
        decl: {
          start: {
            line: 105,
            column: 2
          },
          end: {
            line: 105,
            column: 3
          }
        },
        loc: {
          start: {
            line: 119,
            column: 9
          },
          end: {
            line: 133,
            column: 3
          }
        },
        line: 119
      },
      '6': {
        name: '(anonymous_6)',
        decl: {
          start: {
            line: 123,
            column: 45
          },
          end: {
            line: 123,
            column: 46
          }
        },
        loc: {
          start: {
            line: 123,
            column: 82
          },
          end: {
            line: 123,
            column: 87
          }
        },
        line: 123
      }
    },
    branchMap: {
      '0': {
        loc: {
          start: {
            line: 26,
            column: 21
          },
          end: {
            line: 26,
            column: 66
          }
        },
        type: 'default-arg',
        locations: [
          {
            start: {
              line: 26,
              column: 64
            },
            end: {
              line: 26,
              column: 66
            }
          }
        ],
        line: 26
      },
      '1': {
        loc: {
          start: {
            line: 29,
            column: 15
          },
          end: {
            line: 29,
            column: 34
          }
        },
        type: 'default-arg',
        locations: [
          {
            start: {
              line: 29,
              column: 32
            },
            end: {
              line: 29,
              column: 34
            }
          }
        ],
        line: 29
      },
      '2': {
        loc: {
          start: {
            line: 30,
            column: 6
          },
          end: {
            line: 40,
            column: 7
          }
        },
        type: 'if',
        locations: [
          {
            start: {
              line: 30,
              column: 6
            },
            end: {
              line: 40,
              column: 7
            }
          },
          {
            start: {
              line: 30,
              column: 6
            },
            end: {
              line: 40,
              column: 7
            }
          }
        ],
        line: 30
      },
      '3': {
        loc: {
          start: {
            line: 30,
            column: 10
          },
          end: {
            line: 30,
            column: 65
          }
        },
        type: 'binary-expr',
        locations: [
          {
            start: {
              line: 30,
              column: 10
            },
            end: {
              line: 30,
              column: 36
            }
          },
          {
            start: {
              line: 30,
              column: 40
            },
            end: {
              line: 30,
              column: 65
            }
          }
        ],
        line: 30
      },
      '4': {
        loc: {
          start: {
            line: 35,
            column: 8
          },
          end: {
            line: 39,
            column: 9
          }
        },
        type: 'if',
        locations: [
          {
            start: {
              line: 35,
              column: 8
            },
            end: {
              line: 39,
              column: 9
            }
          },
          {
            start: {
              line: 35,
              column: 8
            },
            end: {
              line: 39,
              column: 9
            }
          }
        ],
        line: 35
      },
      '5': {
        loc: {
          start: {
            line: 46,
            column: 7
          },
          end: {
            line: 46,
            column: 19
          }
        },
        type: 'default-arg',
        locations: [
          {
            start: {
              line: 46,
              column: 17
            },
            end: {
              line: 46,
              column: 19
            }
          }
        ],
        line: 46
      },
      '6': {
        loc: {
          start: {
            line: 47,
            column: 6
          },
          end: {
            line: 53,
            column: 7
          }
        },
        type: 'if',
        locations: [
          {
            start: {
              line: 47,
              column: 6
            },
            end: {
              line: 53,
              column: 7
            }
          },
          {
            start: {
              line: 47,
              column: 6
            },
            end: {
              line: 53,
              column: 7
            }
          }
        ],
        line: 47
      },
      '7': {
        loc: {
          start: {
            line: 47,
            column: 10
          },
          end: {
            line: 47,
            column: 65
          }
        },
        type: 'binary-expr',
        locations: [
          {
            start: {
              line: 47,
              column: 10
            },
            end: {
              line: 47,
              column: 36
            }
          },
          {
            start: {
              line: 47,
              column: 40
            },
            end: {
              line: 47,
              column: 65
            }
          }
        ],
        line: 47
      },
      '8': {
        loc: {
          start: {
            line: 52,
            column: 8
          },
          end: {
            line: 52,
            column: 63
          }
        },
        type: 'binary-expr',
        locations: [
          {
            start: {
              line: 52,
              column: 8
            },
            end: {
              line: 52,
              column: 27
            }
          },
          {
            start: {
              line: 52,
              column: 31
            },
            end: {
              line: 52,
              column: 63
            }
          }
        ],
        line: 52
      },
      '9': {
        loc: {
          start: {
            line: 59,
            column: 4
          },
          end: {
            line: 59,
            column: 50
          }
        },
        type: 'binary-expr',
        locations: [
          {
            start: {
              line: 59,
              column: 4
            },
            end: {
              line: 59,
              column: 25
            }
          },
          {
            start: {
              line: 59,
              column: 29
            },
            end: {
              line: 59,
              column: 50
            }
          }
        ],
        line: 59
      },
      '10': {
        loc: {
          start: {
            line: 60,
            column: 4
          },
          end: {
            line: 60,
            column: 78
          }
        },
        type: 'binary-expr',
        locations: [
          {
            start: {
              line: 60,
              column: 5
            },
            end: {
              line: 60,
              column: 31
            }
          },
          {
            start: {
              line: 60,
              column: 35
            },
            end: {
              line: 60,
              column: 60
            }
          },
          {
            start: {
              line: 60,
              column: 65
            },
            end: {
              line: 60,
              column: 78
            }
          }
        ],
        line: 60
      },
      '11': {
        loc: {
          start: {
            line: 62,
            column: 4
          },
          end: {
            line: 62,
            column: 29
          }
        },
        type: 'binary-expr',
        locations: [
          {
            start: {
              line: 62,
              column: 4
            },
            end: {
              line: 62,
              column: 11
            }
          },
          {
            start: {
              line: 62,
              column: 15
            },
            end: {
              line: 62,
              column: 29
            }
          }
        ],
        line: 62
      },
      '12': {
        loc: {
          start: {
            line: 73,
            column: 15
          },
          end: {
            line: 73,
            column: 111
          }
        },
        type: 'binary-expr',
        locations: [
          {
            start: {
              line: 73,
              column: 15
            },
            end: {
              line: 73,
              column: 24
            }
          },
          {
            start: {
              line: 73,
              column: 29
            },
            end: {
              line: 73,
              column: 54
            }
          },
          {
            start: {
              line: 73,
              column: 58
            },
            end: {
              line: 73,
              column: 84
            }
          },
          {
            start: {
              line: 73,
              column: 89
            },
            end: {
              line: 73,
              column: 111
            }
          }
        ],
        line: 73
      },
      '13': {
        loc: {
          start: {
            line: 123,
            column: 61
          },
          end: {
            line: 123,
            column: 75
          }
        },
        type: 'default-arg',
        locations: [
          {
            start: {
              line: 123,
              column: 73
            },
            end: {
              line: 123,
              column: 75
            }
          }
        ],
        line: 123
      }
    },
    s: {
      '0': 0,
      '1': 0,
      '2': 0,
      '3': 0,
      '4': 0,
      '5': 0,
      '6': 0,
      '7': 0,
      '8': 0,
      '9': 0,
      '10': 0,
      '11': 0,
      '12': 0,
      '13': 0,
      '14': 0,
      '15': 0,
      '16': 0,
      '17': 0,
      '18': 0,
      '19': 0,
      '20': 0,
      '21': 0,
      '22': 0,
      '23': 0,
      '24': 0,
      '25': 0,
      '26': 0
    },
    f: {
      '0': 0,
      '1': 0,
      '2': 0,
      '3': 0,
      '4': 0,
      '5': 0,
      '6': 0
    },
    b: {
      '0': [0],
      '1': [0],
      '2': [0, 0],
      '3': [0, 0],
      '4': [0, 0],
      '5': [0],
      '6': [0, 0],
      '7': [0, 0],
      '8': [0, 0],
      '9': [0, 0],
      '10': [0, 0, 0],
      '11': [0, 0],
      '12': [0, 0, 0, 0],
      '13': [0]
    },
    _coverageSchema: '43e27e138ebf9cfc5966b082cf9a028302ed4184',
    hash: '06617573935514d9665b5f58229ab873b87f8c50'
  };
  var coverage = global[gcv] || (global[gcv] = {});

  if (coverage[path] && coverage[path].hash === hash) {
    return coverage[path];
  }

  return (coverage[path] = coverageData);
})();

Object.defineProperty(exports, '__esModule', {
  value: true
});
exports.default = void 0;

var _reactDictateButton = require('react-dictate-button');

var _botframeworkWebchatCore = require('botframework-webchat-core');

var _propTypes = _interopRequireDefault(require('prop-types'));

var _react = _interopRequireWildcard(require('react'));

var _connectToWebChat = _interopRequireDefault(require('./connectToWebChat'));

function _interopRequireWildcard(obj) {
  if (obj && obj.__esModule) {
    return obj;
  } else {
    var newObj = {};
    if (obj != null) {
      for (var key in obj) {
        if (Object.prototype.hasOwnProperty.call(obj, key)) {
          var desc =
            Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {};
          if (desc.get || desc.set) {
            Object.defineProperty(newObj, key, desc);
          } else {
            newObj[key] = obj[key];
          }
        }
      }
    }
    newObj.default = obj;
    return newObj;
  }
}

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { default: obj };
}

var _ref = (cov_1xlkr1cnd7.s[0]++, _botframeworkWebchatCore.Constants),
  _ref$DictateState = _ref.DictateState,
  DICTATING = _ref$DictateState.DICTATING,
  IDLE = _ref$DictateState.IDLE,
  STARTING = _ref$DictateState.STARTING;

cov_1xlkr1cnd7.s[1]++;

var Dictation = function Dictation(_ref2) {
  var dictateState = _ref2.dictateState,
    disabled = _ref2.disabled,
    language = _ref2.language,
    numSpeakingActivities = _ref2.numSpeakingActivities,
    onError = _ref2.onError,
    postActivity = _ref2.postActivity,
    sendTypingIndicator = _ref2.sendTypingIndicator,
    setDictateInterims = _ref2.setDictateInterims,
    setDictateState = _ref2.setDictateState,
    setSendBox = _ref2.setSendBox,
    startSpeakingActivity = _ref2.startSpeakingActivity,
    stopDictate = _ref2.stopDictate,
    submitSendBox = _ref2.submitSendBox,
    _ref2$webSpeechPonyfi = _ref2.webSpeechPonyfill;
  _ref2$webSpeechPonyfi = _ref2$webSpeechPonyfi === void 0 ? (cov_1xlkr1cnd7.b[0][0]++, {}) : _ref2$webSpeechPonyfi;
  var SpeechGrammarList = _ref2$webSpeechPonyfi.SpeechGrammarList,
    SpeechRecognition = _ref2$webSpeechPonyfi.SpeechRecognition;
  cov_1xlkr1cnd7.f[0]++;
  var handleDictate =
    (cov_1xlkr1cnd7.s[2]++,
    (0, _react.useCallback)(
      function(_ref3) {
        var _ref3$result = _ref3.result;
        _ref3$result = _ref3$result === void 0 ? (cov_1xlkr1cnd7.b[1][0]++, {}) : _ref3$result;
        var transcript = _ref3$result.transcript;
        cov_1xlkr1cnd7.f[1]++;
        cov_1xlkr1cnd7.s[3]++;

        if (
          (cov_1xlkr1cnd7.b[3][0]++, dictateState === DICTATING) ||
          (cov_1xlkr1cnd7.b[3][1]++, dictateState === STARTING)
        ) {
          cov_1xlkr1cnd7.b[2][0]++;
          cov_1xlkr1cnd7.s[4]++;
          setDictateInterims([]);
          cov_1xlkr1cnd7.s[5]++;
          setDictateState(IDLE);
          cov_1xlkr1cnd7.s[6]++;
          stopDictate();
          cov_1xlkr1cnd7.s[7]++;

          if (transcript) {
            cov_1xlkr1cnd7.b[4][0]++;
            cov_1xlkr1cnd7.s[8]++;
            setSendBox(transcript);
            cov_1xlkr1cnd7.s[9]++;
            submitSendBox('speech');
            cov_1xlkr1cnd7.s[10]++;
            startSpeakingActivity();
          } else {
            cov_1xlkr1cnd7.b[4][1]++;
          }
        } else {
          cov_1xlkr1cnd7.b[2][1]++;
        }
      },
      [dictateState, setDictateInterims, setDictateState, stopDictate, setSendBox, submitSendBox, startSpeakingActivity]
    ));
  var handleDictating =
    (cov_1xlkr1cnd7.s[11]++,
    (0, _react.useCallback)(
      function(_ref4) {
        var _ref4$results = _ref4.results,
          results = _ref4$results === void 0 ? (cov_1xlkr1cnd7.b[5][0]++, []) : _ref4$results;
        cov_1xlkr1cnd7.f[2]++;
        cov_1xlkr1cnd7.s[12]++;

        if (
          (cov_1xlkr1cnd7.b[7][0]++, dictateState === DICTATING) ||
          (cov_1xlkr1cnd7.b[7][1]++, dictateState === STARTING)
        ) {
          cov_1xlkr1cnd7.b[6][0]++;
          var interims =
            (cov_1xlkr1cnd7.s[13]++,
            results.map(function(_ref5) {
              var transcript = _ref5.transcript;
              cov_1xlkr1cnd7.f[3]++;
              cov_1xlkr1cnd7.s[14]++;
              return transcript;
            }));
          cov_1xlkr1cnd7.s[15]++;
          setDictateInterims(interims);
          cov_1xlkr1cnd7.s[16]++;
          setDictateState(DICTATING);
          cov_1xlkr1cnd7.s[17]++;
          (cov_1xlkr1cnd7.b[8][0]++, sendTypingIndicator) &&
            (cov_1xlkr1cnd7.b[8][1]++,
            postActivity({
              type: 'typing'
            }));
        } else {
          cov_1xlkr1cnd7.b[6][1]++;
        }
      },
      [dictateState, postActivity, sendTypingIndicator, setDictateInterims, setDictateState]
    ));
  var handleError =
    (cov_1xlkr1cnd7.s[18]++,
    (0, _react.useCallback)(
      function() {
        cov_1xlkr1cnd7.f[4]++;
        cov_1xlkr1cnd7.s[19]++;
        (cov_1xlkr1cnd7.b[9][0]++, dictateState !== IDLE) && (cov_1xlkr1cnd7.b[9][1]++, setDictateState(IDLE));
        cov_1xlkr1cnd7.s[20]++;
        ((cov_1xlkr1cnd7.b[10][0]++, dictateState === DICTATING) ||
          (cov_1xlkr1cnd7.b[10][1]++, dictateState === STARTING)) &&
          (cov_1xlkr1cnd7.b[10][2]++, stopDictate());
        cov_1xlkr1cnd7.s[21]++;
        (cov_1xlkr1cnd7.b[11][0]++, onError) && (cov_1xlkr1cnd7.b[11][1]++, onError(event));
      },
      [dictateState, onError, setDictateState, stopDictate]
    ));
  cov_1xlkr1cnd7.s[22]++;
  return _react.default.createElement(_reactDictateButton.Composer, {
    lang: language,
    onDictate: handleDictate,
    onError: handleError,
    onProgress: handleDictating,
    speechGrammarList: SpeechGrammarList,
    speechRecognition: SpeechRecognition,
    started:
      (cov_1xlkr1cnd7.b[12][0]++, !disabled) &&
      ((cov_1xlkr1cnd7.b[12][1]++, dictateState === STARTING) ||
        (cov_1xlkr1cnd7.b[12][2]++, dictateState === DICTATING)) &&
      (cov_1xlkr1cnd7.b[12][3]++, !numSpeakingActivities)
  });
};

cov_1xlkr1cnd7.s[23]++;
Dictation.defaultProps = {
  disabled: false,
  onError: undefined,
  webSpeechPonyfill: undefined
};
cov_1xlkr1cnd7.s[24]++;
Dictation.propTypes = {
  dictateState: _propTypes.default.number.isRequired,
  disabled: _propTypes.default.bool,
  language: _propTypes.default.string.isRequired,
  numSpeakingActivities: _propTypes.default.number.isRequired,
  onError: _propTypes.default.func,
  postActivity: _propTypes.default.func.isRequired,
  sendTypingIndicator: _propTypes.default.bool.isRequired,
  setDictateInterims: _propTypes.default.func.isRequired,
  setDictateState: _propTypes.default.func.isRequired,
  setSendBox: _propTypes.default.func.isRequired,
  startSpeakingActivity: _propTypes.default.func.isRequired,
  stopDictate: _propTypes.default.func.isRequired,
  submitSendBox: _propTypes.default.func.isRequired,
  webSpeechPonyfill: _propTypes.default.shape({
    SpeechGrammarList: _propTypes.default.any.isRequired,
    SpeechRecognition: _propTypes.default.any.isRequired
  })
};

var _default = (0, _connectToWebChat.default)(function(_ref6) {
  var activities = _ref6.activities,
    dictateState = _ref6.dictateState,
    disabled = _ref6.disabled,
    language = _ref6.language,
    postActivity = _ref6.postActivity,
    sendTypingIndicator = _ref6.sendTypingIndicator,
    setDictateInterims = _ref6.setDictateInterims,
    setDictateState = _ref6.setDictateState,
    setSendBox = _ref6.setSendBox,
    startSpeakingActivity = _ref6.startSpeakingActivity,
    stopDictate = _ref6.stopDictate,
    submitSendBox = _ref6.submitSendBox,
    webSpeechPonyfill = _ref6.webSpeechPonyfill;
  cov_1xlkr1cnd7.f[5]++;
  cov_1xlkr1cnd7.s[25]++;
  return {
    dictateState: dictateState,
    disabled: disabled,
    language: language,
    numSpeakingActivities: activities.filter(function(_ref7) {
      var _ref7$channelData = _ref7.channelData;
      _ref7$channelData = _ref7$channelData === void 0 ? (cov_1xlkr1cnd7.b[13][0]++, {}) : _ref7$channelData;
      var speak = _ref7$channelData.speak;
      cov_1xlkr1cnd7.f[6]++;
      cov_1xlkr1cnd7.s[26]++;
      return speak;
    }).length,
    postActivity: postActivity,
    sendTypingIndicator: sendTypingIndicator,
    setDictateInterims: setDictateInterims,
    setDictateState: setDictateState,
    setSendBox: setSendBox,
    startSpeakingActivity: startSpeakingActivity,
    stopDictate: stopDictate,
    submitSendBox: submitSendBox,
    webSpeechPonyfill: webSpeechPonyfill
  };
})(Dictation);

exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9EaWN0YXRpb24uanMiXSwibmFtZXMiOlsiQ29uc3RhbnRzIiwiRGljdGF0ZVN0YXRlIiwiRElDVEFUSU5HIiwiSURMRSIsIlNUQVJUSU5HIiwiRGljdGF0aW9uIiwiZGljdGF0ZVN0YXRlIiwiZGlzYWJsZWQiLCJsYW5ndWFnZSIsIm51bVNwZWFraW5nQWN0aXZpdGllcyIsIm9uRXJyb3IiLCJwb3N0QWN0aXZpdHkiLCJzZW5kVHlwaW5nSW5kaWNhdG9yIiwic2V0RGljdGF0ZUludGVyaW1zIiwic2V0RGljdGF0ZVN0YXRlIiwic2V0U2VuZEJveCIsInN0YXJ0U3BlYWtpbmdBY3Rpdml0eSIsInN0b3BEaWN0YXRlIiwic3VibWl0U2VuZEJveCIsIndlYlNwZWVjaFBvbnlmaWxsIiwiU3BlZWNoR3JhbW1hckxpc3QiLCJTcGVlY2hSZWNvZ25pdGlvbiIsImhhbmRsZURpY3RhdGUiLCJyZXN1bHQiLCJ0cmFuc2NyaXB0IiwiaGFuZGxlRGljdGF0aW5nIiwicmVzdWx0cyIsImludGVyaW1zIiwibWFwIiwidHlwZSIsImhhbmRsZUVycm9yIiwiZXZlbnQiLCJkZWZhdWx0UHJvcHMiLCJ1bmRlZmluZWQiLCJwcm9wVHlwZXMiLCJQcm9wVHlwZXMiLCJudW1iZXIiLCJpc1JlcXVpcmVkIiwiYm9vbCIsInN0cmluZyIsImZ1bmMiLCJzaGFwZSIsImFueSIsImFjdGl2aXRpZXMiLCJmaWx0ZXIiLCJzcGVhayIsImNoYW5uZWxEYXRhIiwibGVuZ3RoIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUVBOzs7Ozs7bUNBSUlBLGtDOzZCQURGQyxZO0lBQWdCQyxTLHFCQUFBQSxTO0lBQVdDLEkscUJBQUFBLEk7SUFBTUMsUSxxQkFBQUEsUTs7OztBQUduQyxJQUFNQyxTQUFTLEdBQUcsU0FBWkEs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QSxXQUdLO0FBQUEsTUFGTEMsYUFFSyxTQUZMQSxhQUVLO0FBQUEsTUFETEMsaUJBQ0ssU0FETEEsaUJBQ0s7QUFBQTtBQUFBO0FBQUE7QUFDTGIsSUFBQUEsWUFBWSxFQUFaQSxZQURLO0FBRUxDLElBQUFBLFFBQVEsRUFBUkEsUUFGSztBQUdMQyxJQUFBQSxRQUFRLEVBQVJBLFFBSEs7QUFJTEMsSUFBQUEscUJBQXFCLEVBQUVrQyxVQUFVLENBQUNDLE1BQVgsQ0FBa0IsaUJBQXFDQztBQUFBQSxvQ0FBbENDLFdBQWtDRDtBQUFBQSxxRkFBVCxFQUFTQTtBQUFBQSxVQUFuQkEsS0FBbUJBLHFCQUFuQkEsS0FBbUJBO0FBQUFBO0FBQUFBO0FBQUFBLGFBQUFBLEtBQUs7QUFBQSxLQUE1RCxFQUE4REUsTUFKaEY7QUFLTHBDLElBQUFBLFlBQVksRUFBWkEsWUFMSztBQU1MQyxJQUFBQSxtQkFBbUIsRUFBbkJBLG1CQU5LO0FBT0xDLElBQUFBLGtCQUFrQixFQUFsQkEsa0JBUEs7QUFRTEMsSUFBQUEsZUFBZSxFQUFmQSxlQVJLO0FBU0xDLElBQUFBLFVBQVUsRUFBVkEsVUFUSztBQVVMQyxJQUFBQSxxQkFBcUIsRUFBckJBLHFCQVZLO0FBV0xDLElBQUFBLFdBQVcsRUFBWEEsV0FYSztBQVlMQyxJQUFBQSxhQUFhLEVBQWJBLGFBWks7QUFhTEMsSUFBQUEsaUJBQWlCLEVBQWpCQTtBQWJLO0FBY04sQ0E3QlksRUE4QmJkLFNBOUJhLEMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb3NlciBhcyBEaWN0YXRlQ29tcG9zZXIgfSBmcm9tICdyZWFjdC1kaWN0YXRlLWJ1dHRvbic7XG5pbXBvcnQgeyBDb25zdGFudHMgfSBmcm9tICdib3RmcmFtZXdvcmstd2ViY2hhdC1jb3JlJztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgUmVhY3QsIHsgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCBjb25uZWN0VG9XZWJDaGF0IGZyb20gJy4vY29ubmVjdFRvV2ViQ2hhdCc7XG5cbmNvbnN0IHtcbiAgRGljdGF0ZVN0YXRlOiB7IERJQ1RBVElORywgSURMRSwgU1RBUlRJTkcgfVxufSA9IENvbnN0YW50cztcblxuY29uc3QgRGljdGF0aW9uID0gKHtcbiAgZGljdGF0ZVN0YXRlLFxuICBkaXNhYmxlZCxcbiAgbGFuZ3VhZ2UsXG4gIG51bVNwZWFraW5nQWN0aXZpdGllcyxcbiAgb25FcnJvcixcbiAgcG9zdEFjdGl2aXR5LFxuICBzZW5kVHlwaW5nSW5kaWNhdG9yLFxuICBzZXREaWN0YXRlSW50ZXJpbXMsXG4gIHNldERpY3RhdGVTdGF0ZSxcbiAgc2V0U2VuZEJveCxcbiAgc3RhcnRTcGVha2luZ0FjdGl2aXR5LFxuICBzdG9wRGljdGF0ZSxcbiAgc3VibWl0U2VuZEJveCxcbiAgd2ViU3BlZWNoUG9ueWZpbGw6IHsgU3BlZWNoR3JhbW1hckxpc3QsIFNwZWVjaFJlY29nbml0aW9uIH0gPSB7fVxufSkgPT4ge1xuICBjb25zdCBoYW5kbGVEaWN0YXRlID0gdXNlQ2FsbGJhY2soXG4gICAgKHsgcmVzdWx0OiB7IHRyYW5zY3JpcHQgfSA9IHt9IH0pID0+IHtcbiAgICAgIGlmIChkaWN0YXRlU3RhdGUgPT09IERJQ1RBVElORyB8fCBkaWN0YXRlU3RhdGUgPT09IFNUQVJUSU5HKSB7XG4gICAgICAgIHNldERpY3RhdGVJbnRlcmltcyhbXSk7XG4gICAgICAgIHNldERpY3RhdGVTdGF0ZShJRExFKTtcbiAgICAgICAgc3RvcERpY3RhdGUoKTtcblxuICAgICAgICBpZiAodHJhbnNjcmlwdCkge1xuICAgICAgICAgIHNldFNlbmRCb3godHJhbnNjcmlwdCk7XG4gICAgICAgICAgc3VibWl0U2VuZEJveCgnc3BlZWNoJyk7XG4gICAgICAgICAgc3RhcnRTcGVha2luZ0FjdGl2aXR5KCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIFtkaWN0YXRlU3RhdGUsIHNldERpY3RhdGVJbnRlcmltcywgc2V0RGljdGF0ZVN0YXRlLCBzdG9wRGljdGF0ZSwgc2V0U2VuZEJveCwgc3VibWl0U2VuZEJveCwgc3RhcnRTcGVha2luZ0FjdGl2aXR5XVxuICApO1xuXG4gIGNvbnN0IGhhbmRsZURpY3RhdGluZyA9IHVzZUNhbGxiYWNrKFxuICAgICh7IHJlc3VsdHMgPSBbXSB9KSA9PiB7XG4gICAgICBpZiAoZGljdGF0ZVN0YXRlID09PSBESUNUQVRJTkcgfHwgZGljdGF0ZVN0YXRlID09PSBTVEFSVElORykge1xuICAgICAgICBjb25zdCBpbnRlcmltcyA9IHJlc3VsdHMubWFwKCh7IHRyYW5zY3JpcHQgfSkgPT4gdHJhbnNjcmlwdCk7XG5cbiAgICAgICAgc2V0RGljdGF0ZUludGVyaW1zKGludGVyaW1zKTtcbiAgICAgICAgc2V0RGljdGF0ZVN0YXRlKERJQ1RBVElORyk7XG4gICAgICAgIHNlbmRUeXBpbmdJbmRpY2F0b3IgJiYgcG9zdEFjdGl2aXR5KHsgdHlwZTogJ3R5cGluZycgfSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBbZGljdGF0ZVN0YXRlLCBwb3N0QWN0aXZpdHksIHNlbmRUeXBpbmdJbmRpY2F0b3IsIHNldERpY3RhdGVJbnRlcmltcywgc2V0RGljdGF0ZVN0YXRlXVxuICApO1xuXG4gIGNvbnN0IGhhbmRsZUVycm9yID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGRpY3RhdGVTdGF0ZSAhPT0gSURMRSAmJiBzZXREaWN0YXRlU3RhdGUoSURMRSk7XG4gICAgKGRpY3RhdGVTdGF0ZSA9PT0gRElDVEFUSU5HIHx8IGRpY3RhdGVTdGF0ZSA9PT0gU1RBUlRJTkcpICYmIHN0b3BEaWN0YXRlKCk7XG5cbiAgICBvbkVycm9yICYmIG9uRXJyb3IoZXZlbnQpO1xuICB9LCBbZGljdGF0ZVN0YXRlLCBvbkVycm9yLCBzZXREaWN0YXRlU3RhdGUsIHN0b3BEaWN0YXRlXSk7XG5cbiAgcmV0dXJuIChcbiAgICA8RGljdGF0ZUNvbXBvc2VyXG4gICAgICBsYW5nPXtsYW5ndWFnZX1cbiAgICAgIG9uRGljdGF0ZT17aGFuZGxlRGljdGF0ZX1cbiAgICAgIG9uRXJyb3I9e2hhbmRsZUVycm9yfVxuICAgICAgb25Qcm9ncmVzcz17aGFuZGxlRGljdGF0aW5nfVxuICAgICAgc3BlZWNoR3JhbW1hckxpc3Q9e1NwZWVjaEdyYW1tYXJMaXN0fVxuICAgICAgc3BlZWNoUmVjb2duaXRpb249e1NwZWVjaFJlY29nbml0aW9ufVxuICAgICAgc3RhcnRlZD17IWRpc2FibGVkICYmIChkaWN0YXRlU3RhdGUgPT09IFNUQVJUSU5HIHx8IGRpY3RhdGVTdGF0ZSA9PT0gRElDVEFUSU5HKSAmJiAhbnVtU3BlYWtpbmdBY3Rpdml0aWVzfVxuICAgIC8+XG4gICk7XG59O1xuXG5EaWN0YXRpb24uZGVmYXVsdFByb3BzID0ge1xuICBkaXNhYmxlZDogZmFsc2UsXG4gIG9uRXJyb3I6IHVuZGVmaW5lZCxcbiAgd2ViU3BlZWNoUG9ueWZpbGw6IHVuZGVmaW5lZFxufTtcblxuRGljdGF0aW9uLnByb3BUeXBlcyA9IHtcbiAgZGljdGF0ZVN0YXRlOiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsXG4gIGRpc2FibGVkOiBQcm9wVHlwZXMuYm9vbCxcbiAgbGFuZ3VhZ2U6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgbnVtU3BlYWtpbmdBY3Rpdml0aWVzOiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsXG4gIG9uRXJyb3I6IFByb3BUeXBlcy5mdW5jLFxuICBwb3N0QWN0aXZpdHk6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gIHNlbmRUeXBpbmdJbmRpY2F0b3I6IFByb3BUeXBlcy5ib29sLmlzUmVxdWlyZWQsXG4gIHNldERpY3RhdGVJbnRlcmltczogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgc2V0RGljdGF0ZVN0YXRlOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICBzZXRTZW5kQm94OiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICBzdGFydFNwZWFraW5nQWN0aXZpdHk6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gIHN0b3BEaWN0YXRlOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICBzdWJtaXRTZW5kQm94OiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICB3ZWJTcGVlY2hQb255ZmlsbDogUHJvcFR5cGVzLnNoYXBlKHtcbiAgICBTcGVlY2hHcmFtbWFyTGlzdDogUHJvcFR5cGVzLmFueS5pc1JlcXVpcmVkLFxuICAgIFNwZWVjaFJlY29nbml0aW9uOiBQcm9wVHlwZXMuYW55LmlzUmVxdWlyZWRcbiAgfSlcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3RUb1dlYkNoYXQoXG4gICh7XG4gICAgYWN0aXZpdGllcyxcbiAgICBkaWN0YXRlU3RhdGUsXG4gICAgZGlzYWJsZWQsXG4gICAgbGFuZ3VhZ2UsXG4gICAgcG9zdEFjdGl2aXR5LFxuICAgIHNlbmRUeXBpbmdJbmRpY2F0b3IsXG4gICAgc2V0RGljdGF0ZUludGVyaW1zLFxuICAgIHNldERpY3RhdGVTdGF0ZSxcbiAgICBzZXRTZW5kQm94LFxuICAgIHN0YXJ0U3BlYWtpbmdBY3Rpdml0eSxcbiAgICBzdG9wRGljdGF0ZSxcbiAgICBzdWJtaXRTZW5kQm94LFxuICAgIHdlYlNwZWVjaFBvbnlmaWxsXG4gIH0pID0+ICh7XG4gICAgZGljdGF0ZVN0YXRlLFxuICAgIGRpc2FibGVkLFxuICAgIGxhbmd1YWdlLFxuICAgIG51bVNwZWFraW5nQWN0aXZpdGllczogYWN0aXZpdGllcy5maWx0ZXIoKHsgY2hhbm5lbERhdGE6IHsgc3BlYWsgfSA9IHt9IH0pID0+IHNwZWFrKS5sZW5ndGgsXG4gICAgcG9zdEFjdGl2aXR5LFxuICAgIHNlbmRUeXBpbmdJbmRpY2F0b3IsXG4gICAgc2V0RGljdGF0ZUludGVyaW1zLFxuICAgIHNldERpY3RhdGVTdGF0ZSxcbiAgICBzZXRTZW5kQm94LFxuICAgIHN0YXJ0U3BlYWtpbmdBY3Rpdml0eSxcbiAgICBzdG9wRGljdGF0ZSxcbiAgICBzdWJtaXRTZW5kQm94LFxuICAgIHdlYlNwZWVjaFBvbnlmaWxsXG4gIH0pXG4pKERpY3RhdGlvbik7XG4iXX0=
