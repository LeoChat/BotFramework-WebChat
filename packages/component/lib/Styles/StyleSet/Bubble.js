'use strict';

var cov_148i9smyyh = (function() {
  var path = '/Users/guy/Work/Leo/leo/BotFramework-WebChat/packages/component/src/Styles/StyleSet/Bubble.js';
  var hash = '36b834c8914c8740817184ac14d6a8498e3050ee';
  var global = new Function('return this')();
  var gcv = '__coverage__';
  var coverageData = {
    path: '/Users/guy/Work/Leo/leo/BotFramework-WebChat/packages/component/src/Styles/StyleSet/Bubble.js',
    statementMap: {
      '0': {
        start: {
          line: 6,
          column: 22
        },
        end: {
          line: 6,
          column: 33
        }
      },
      '1': {
        start: {
          line: 7,
          column: 26
        },
        end: {
          line: 7,
          column: 41
        }
      },
      '2': {
        start: {
          line: 9,
          column: 4
        },
        end: {
          line: 9,
          column: 96
        }
      },
      '3': {
        start: {
          line: 10,
          column: 28
        },
        end: {
          line: 10,
          column: 116
        }
      },
      '4': {
        start: {
          line: 12,
          column: 13
        },
        end: {
          line: 12,
          column: 49
        }
      },
      '5': {
        start: {
          line: 13,
          column: 13
        },
        end: {
          line: 13,
          column: 53
        }
      },
      '6': {
        start: {
          line: 14,
          column: 13
        },
        end: {
          line: 14,
          column: 73
        }
      },
      '7': {
        start: {
          line: 16,
          column: 2
        },
        end: {
          line: 22,
          column: 62
        }
      },
      '8': {
        start: {
          line: 26,
          column: 2
        },
        end: {
          line: 26,
          column: 24
        }
      },
      '9': {
        start: {
          line: 30,
          column: 2
        },
        end: {
          line: 30,
          column: 62
        }
      },
      '10': {
        start: {
          line: 54,
          column: 2
        },
        end: {
          line: 58,
          column: 3
        }
      },
      '11': {
        start: {
          line: 55,
          column: 4
        },
        end: {
          line: 55,
          column: 32
        }
      },
      '12': {
        start: {
          line: 56,
          column: 9
        },
        end: {
          line: 58,
          column: 3
        }
      },
      '13': {
        start: {
          line: 57,
          column: 4
        },
        end: {
          line: 57,
          column: 33
        }
      },
      '14': {
        start: {
          line: 60,
          column: 2
        },
        end: {
          line: 64,
          column: 3
        }
      },
      '15': {
        start: {
          line: 61,
          column: 4
        },
        end: {
          line: 61,
          column: 24
        }
      },
      '16': {
        start: {
          line: 62,
          column: 9
        },
        end: {
          line: 64,
          column: 3
        }
      },
      '17': {
        start: {
          line: 63,
          column: 4
        },
        end: {
          line: 63,
          column: 25
        }
      },
      '18': {
        start: {
          line: 66,
          column: 27
        },
        end: {
          line: 66,
          column: 55
        }
      },
      '19': {
        start: {
          line: 67,
          column: 28
        },
        end: {
          line: 67,
          column: 64
        }
      },
      '20': {
        start: {
          line: 69,
          column: 20
        },
        end: {
          line: 76,
          column: 3
        }
      },
      '21': {
        start: {
          line: 77,
          column: 21
        },
        end: {
          line: 84,
          column: 3
        }
      },
      '22': {
        start: {
          line: 86,
          column: 29
        },
        end: {
          line: 86,
          column: 84
        }
      },
      '23': {
        start: {
          line: 87,
          column: 30
        },
        end: {
          line: 87,
          column: 101
        }
      },
      '24': {
        start: {
          line: 89,
          column: 2
        },
        end: {
          line: 155,
          column: 4
        }
      }
    },
    fnMap: {
      '0': {
        name: 'acuteNubSVG',
        decl: {
          start: {
            line: 5,
            column: 9
          },
          end: {
            line: 5,
            column: 20
          }
        },
        loc: {
          start: {
            line: 5,
            column: 110
          },
          end: {
            line: 23,
            column: 1
          }
        },
        line: 5
      },
      '1': {
        name: 'isPositive',
        decl: {
          start: {
            line: 25,
            column: 9
          },
          end: {
            line: 25,
            column: 19
          }
        },
        loc: {
          start: {
            line: 25,
            column: 27
          },
          end: {
            line: 27,
            column: 1
          }
        },
        line: 25
      },
      '2': {
        name: 'svgToDataURI',
        decl: {
          start: {
            line: 29,
            column: 9
          },
          end: {
            line: 29,
            column: 21
          }
        },
        loc: {
          start: {
            line: 29,
            column: 27
          },
          end: {
            line: 31,
            column: 1
          }
        },
        line: 29
      },
      '3': {
        name: 'createBubbleStyle',
        decl: {
          start: {
            line: 33,
            column: 24
          },
          end: {
            line: 33,
            column: 41
          }
        },
        loc: {
          start: {
            line: 53,
            column: 3
          },
          end: {
            line: 156,
            column: 1
          }
        },
        line: 53
      }
    },
    branchMap: {
      '0': {
        loc: {
          start: {
            line: 5,
            column: 21
          },
          end: {
            line: 5,
            column: 33
          }
        },
        type: 'default-arg',
        locations: [
          {
            start: {
              line: 5,
              column: 31
            },
            end: {
              line: 5,
              column: 33
            }
          }
        ],
        line: 5
      },
      '1': {
        loc: {
          start: {
            line: 5,
            column: 59
          },
          end: {
            line: 5,
            column: 74
          }
        },
        type: 'default-arg',
        locations: [
          {
            start: {
              line: 5,
              column: 73
            },
            end: {
              line: 5,
              column: 74
            }
          }
        ],
        line: 5
      },
      '2': {
        loc: {
          start: {
            line: 5,
            column: 76
          },
          end: {
            line: 5,
            column: 88
          }
        },
        type: 'default-arg',
        locations: [
          {
            start: {
              line: 5,
              column: 83
            },
            end: {
              line: 5,
              column: 88
            }
          }
        ],
        line: 5
      },
      '3': {
        loc: {
          start: {
            line: 5,
            column: 90
          },
          end: {
            line: 5,
            column: 108
          }
        },
        type: 'default-arg',
        locations: [
          {
            start: {
              line: 5,
              column: 103
            },
            end: {
              line: 5,
              column: 108
            }
          }
        ],
        line: 5
      },
      '4': {
        loc: {
          start: {
            line: 9,
            column: 4
          },
          end: {
            line: 9,
            column: 96
          }
        },
        type: 'cond-expr',
        locations: [
          {
            start: {
              line: 9,
              column: 21
            },
            end: {
              line: 9,
              column: 23
            }
          },
          {
            start: {
              line: 9,
              column: 26
            },
            end: {
              line: 9,
              column: 96
            }
          }
        ],
        line: 9
      },
      '5': {
        loc: {
          start: {
            line: 10,
            column: 28
          },
          end: {
            line: 10,
            column: 116
          }
        },
        type: 'cond-expr',
        locations: [
          {
            start: {
              line: 10,
              column: 41
            },
            end: {
              line: 10,
              column: 111
            }
          },
          {
            start: {
              line: 10,
              column: 114
            },
            end: {
              line: 10,
              column: 116
            }
          }
        ],
        line: 10
      },
      '6': {
        loc: {
          start: {
            line: 17,
            column: 5
          },
          end: {
            line: 17,
            column: 26
          }
        },
        type: 'binary-expr',
        locations: [
          {
            start: {
              line: 17,
              column: 5
            },
            end: {
              line: 17,
              column: 20
            }
          },
          {
            start: {
              line: 17,
              column: 24
            },
            end: {
              line: 17,
              column: 26
            }
          }
        ],
        line: 17
      },
      '7': {
        loc: {
          start: {
            line: 20,
            column: 33
          },
          end: {
            line: 20,
            column: 44
          }
        },
        type: 'binary-expr',
        locations: [
          {
            start: {
              line: 20,
              column: 33
            },
            end: {
              line: 20,
              column: 38
            }
          },
          {
            start: {
              line: 20,
              column: 42
            },
            end: {
              line: 20,
              column: 44
            }
          }
        ],
        line: 20
      },
      '8': {
        loc: {
          start: {
            line: 54,
            column: 2
          },
          end: {
            line: 58,
            column: 3
          }
        },
        type: 'if',
        locations: [
          {
            start: {
              line: 54,
              column: 2
            },
            end: {
              line: 58,
              column: 3
            }
          },
          {
            start: {
              line: 54,
              column: 2
            },
            end: {
              line: 58,
              column: 3
            }
          }
        ],
        line: 54
      },
      '9': {
        loc: {
          start: {
            line: 56,
            column: 9
          },
          end: {
            line: 58,
            column: 3
          }
        },
        type: 'if',
        locations: [
          {
            start: {
              line: 56,
              column: 9
            },
            end: {
              line: 58,
              column: 3
            }
          },
          {
            start: {
              line: 56,
              column: 9
            },
            end: {
              line: 58,
              column: 3
            }
          }
        ],
        line: 56
      },
      '10': {
        loc: {
          start: {
            line: 60,
            column: 2
          },
          end: {
            line: 64,
            column: 3
          }
        },
        type: 'if',
        locations: [
          {
            start: {
              line: 60,
              column: 2
            },
            end: {
              line: 64,
              column: 3
            }
          },
          {
            start: {
              line: 60,
              column: 2
            },
            end: {
              line: 64,
              column: 3
            }
          }
        ],
        line: 60
      },
      '11': {
        loc: {
          start: {
            line: 62,
            column: 9
          },
          end: {
            line: 64,
            column: 3
          }
        },
        type: 'if',
        locations: [
          {
            start: {
              line: 62,
              column: 9
            },
            end: {
              line: 64,
              column: 3
            }
          },
          {
            start: {
              line: 62,
              column: 9
            },
            end: {
              line: 64,
              column: 3
            }
          }
        ],
        line: 62
      },
      '12': {
        loc: {
          start: {
            line: 96,
            column: 41
          },
          end: {
            line: 96,
            column: 92
          }
        },
        type: 'cond-expr',
        locations: [
          {
            start: {
              line: 96,
              column: 57
            },
            end: {
              line: 96,
              column: 87
            }
          },
          {
            start: {
              line: 96,
              column: 90
            },
            end: {
              line: 96,
              column: 92
            }
          }
        ],
        line: 96
      },
      '13': {
        loc: {
          start: {
            line: 111,
            column: 12
          },
          end: {
            line: 111,
            column: 99
          }
        },
        type: 'cond-expr',
        locations: [
          {
            start: {
              line: 111,
              column: 48
            },
            end: {
              line: 111,
              column: 94
            }
          },
          {
            start: {
              line: 111,
              column: 97
            },
            end: {
              line: 111,
              column: 99
            }
          }
        ],
        line: 111
      },
      '14': {
        loc: {
          start: {
            line: 111,
            column: 12
          },
          end: {
            line: 111,
            column: 45
          }
        },
        type: 'binary-expr',
        locations: [
          {
            start: {
              line: 111,
              column: 12
            },
            end: {
              line: 111,
              column: 25
            }
          },
          {
            start: {
              line: 111,
              column: 29
            },
            end: {
              line: 111,
              column: 45
            }
          }
        ],
        line: 111
      },
      '15': {
        loc: {
          start: {
            line: 112,
            column: 12
          },
          end: {
            line: 112,
            column: 97
          }
        },
        type: 'cond-expr',
        locations: [
          {
            start: {
              line: 112,
              column: 49
            },
            end: {
              line: 112,
              column: 92
            }
          },
          {
            start: {
              line: 112,
              column: 95
            },
            end: {
              line: 112,
              column: 97
            }
          }
        ],
        line: 112
      },
      '16': {
        loc: {
          start: {
            line: 112,
            column: 12
          },
          end: {
            line: 112,
            column: 46
          }
        },
        type: 'binary-expr',
        locations: [
          {
            start: {
              line: 112,
              column: 12
            },
            end: {
              line: 112,
              column: 25
            }
          },
          {
            start: {
              line: 112,
              column: 29
            },
            end: {
              line: 112,
              column: 46
            }
          }
        ],
        line: 112
      },
      '17': {
        loc: {
          start: {
            line: 117,
            column: 16
          },
          end: {
            line: 117,
            column: 74
          }
        },
        type: 'cond-expr',
        locations: [
          {
            start: {
              line: 117,
              column: 46
            },
            end: {
              line: 117,
              column: 55
            }
          },
          {
            start: {
              line: 117,
              column: 58
            },
            end: {
              line: 117,
              column: 74
            }
          }
        ],
        line: 117
      },
      '18': {
        loc: {
          start: {
            line: 120,
            column: 13
          },
          end: {
            line: 120,
            column: 70
          }
        },
        type: 'cond-expr',
        locations: [
          {
            start: {
              line: 120,
              column: 43
            },
            end: {
              line: 120,
              column: 58
            }
          },
          {
            start: {
              line: 120,
              column: 61
            },
            end: {
              line: 120,
              column: 70
            }
          }
        ],
        line: 120
      },
      '19': {
        loc: {
          start: {
            line: 127,
            column: 41
          },
          end: {
            line: 127,
            column: 93
          }
        },
        type: 'cond-expr',
        locations: [
          {
            start: {
              line: 127,
              column: 57
            },
            end: {
              line: 127,
              column: 88
            }
          },
          {
            start: {
              line: 127,
              column: 91
            },
            end: {
              line: 127,
              column: 93
            }
          }
        ],
        line: 127
      },
      '20': {
        loc: {
          start: {
            line: 142,
            column: 12
          },
          end: {
            line: 142,
            column: 110
          }
        },
        type: 'cond-expr',
        locations: [
          {
            start: {
              line: 142,
              column: 57
            },
            end: {
              line: 142,
              column: 105
            }
          },
          {
            start: {
              line: 142,
              column: 108
            },
            end: {
              line: 142,
              column: 110
            }
          }
        ],
        line: 142
      },
      '21': {
        loc: {
          start: {
            line: 142,
            column: 12
          },
          end: {
            line: 142,
            column: 54
          }
        },
        type: 'binary-expr',
        locations: [
          {
            start: {
              line: 142,
              column: 12
            },
            end: {
              line: 142,
              column: 33
            }
          },
          {
            start: {
              line: 142,
              column: 37
            },
            end: {
              line: 142,
              column: 54
            }
          }
        ],
        line: 142
      },
      '22': {
        loc: {
          start: {
            line: 143,
            column: 12
          },
          end: {
            line: 143,
            column: 108
          }
        },
        type: 'cond-expr',
        locations: [
          {
            start: {
              line: 143,
              column: 58
            },
            end: {
              line: 143,
              column: 103
            }
          },
          {
            start: {
              line: 143,
              column: 106
            },
            end: {
              line: 143,
              column: 108
            }
          }
        ],
        line: 143
      },
      '23': {
        loc: {
          start: {
            line: 143,
            column: 12
          },
          end: {
            line: 143,
            column: 55
          }
        },
        type: 'binary-expr',
        locations: [
          {
            start: {
              line: 143,
              column: 12
            },
            end: {
              line: 143,
              column: 33
            }
          },
          {
            start: {
              line: 143,
              column: 37
            },
            end: {
              line: 143,
              column: 55
            }
          }
        ],
        line: 143
      },
      '24': {
        loc: {
          start: {
            line: 150,
            column: 16
          },
          end: {
            line: 150,
            column: 90
          }
        },
        type: 'cond-expr',
        locations: [
          {
            start: {
              line: 150,
              column: 54
            },
            end: {
              line: 150,
              column: 63
            }
          },
          {
            start: {
              line: 150,
              column: 66
            },
            end: {
              line: 150,
              column: 90
            }
          }
        ],
        line: 150
      },
      '25': {
        loc: {
          start: {
            line: 151,
            column: 13
          },
          end: {
            line: 151,
            column: 86
          }
        },
        type: 'cond-expr',
        locations: [
          {
            start: {
              line: 151,
              column: 51
            },
            end: {
              line: 151,
              column: 74
            }
          },
          {
            start: {
              line: 151,
              column: 77
            },
            end: {
              line: 151,
              column: 86
            }
          }
        ],
        line: 151
      }
    },
    s: {
      '0': 0,
      '1': 0,
      '2': 0,
      '3': 0,
      '4': 0,
      '5': 0,
      '6': 0,
      '7': 0,
      '8': 0,
      '9': 0,
      '10': 0,
      '11': 0,
      '12': 0,
      '13': 0,
      '14': 0,
      '15': 0,
      '16': 0,
      '17': 0,
      '18': 0,
      '19': 0,
      '20': 0,
      '21': 0,
      '22': 0,
      '23': 0,
      '24': 0
    },
    f: {
      '0': 0,
      '1': 0,
      '2': 0,
      '3': 0
    },
    b: {
      '0': [0],
      '1': [0],
      '2': [0],
      '3': [0],
      '4': [0, 0],
      '5': [0, 0],
      '6': [0, 0],
      '7': [0, 0],
      '8': [0, 0],
      '9': [0, 0],
      '10': [0, 0],
      '11': [0, 0],
      '12': [0, 0],
      '13': [0, 0],
      '14': [0, 0],
      '15': [0, 0],
      '16': [0, 0],
      '17': [0, 0],
      '18': [0, 0],
      '19': [0, 0],
      '20': [0, 0],
      '21': [0, 0],
      '22': [0, 0],
      '23': [0, 0],
      '24': [0, 0],
      '25': [0, 0]
    },
    _coverageSchema: '43e27e138ebf9cfc5966b082cf9a028302ed4184',
    hash: '36b834c8914c8740817184ac14d6a8498e3050ee'
  };
  var coverage = global[gcv] || (global[gcv] = {});

  if (coverage[path] && coverage[path].hash === hash) {
    return coverage[path];
  }

  return (coverage[path] = coverageData);
})();

Object.defineProperty(exports, '__esModule', {
  value: true
});
exports.default = createBubbleStyle;

var _color = _interopRequireDefault(require('color'));

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { default: obj };
}

function ownKeys(object, enumerableOnly) {
  var keys = Object.keys(object);
  if (Object.getOwnPropertySymbols) {
    keys.push.apply(keys, Object.getOwnPropertySymbols(object));
  }
  if (enumerableOnly)
    keys = keys.filter(function(sym) {
      return Object.getOwnPropertyDescriptor(object, sym).enumerable;
    });
  return keys;
}

function _objectSpread(target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i] != null ? arguments[i] : {};
    if (i % 2) {
      ownKeys(source, true).forEach(function(key) {
        _defineProperty(target, key, source[key]);
      });
    } else if (Object.getOwnPropertyDescriptors) {
      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));
    } else {
      ownKeys(source).forEach(function(key) {
        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));
      });
    }
  }
  return target;
}

function _defineProperty(obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true });
  } else {
    obj[key] = value;
  }
  return obj;
}

function acuteNubSVG() {
  var nubSize = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : (cov_148i9smyyh.b[0][0]++, 10);
  var backgroundColor = arguments.length > 1 ? arguments[1] : undefined;
  var color = arguments.length > 2 ? arguments[2] : undefined;
  var strokeWidth = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : (cov_148i9smyyh.b[1][0]++, 1);
  var side = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : (cov_148i9smyyh.b[2][0]++, 'bot');
  var upSideDown =
    arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : (cov_148i9smyyh.b[3][0]++, false);
  cov_148i9smyyh.f[0]++;
  var halfNubSize = (cov_148i9smyyh.s[0]++, nubSize / 2);
  var halfStrokeWidth = (cov_148i9smyyh.s[1]++, strokeWidth / 2);
  var horizontalTransform =
    (cov_148i9smyyh.s[2]++,
    side === 'bot'
      ? (cov_148i9smyyh.b[4][0]++, '')
      : (cov_148i9smyyh.b[4][1]++,
        'translate('.concat(halfNubSize, ' 0) scale(-1 1) translate(').concat(-halfNubSize, ' 0)')));
  var verticalTransform =
    (cov_148i9smyyh.s[3]++,
    upSideDown
      ? (cov_148i9smyyh.b[5][0]++,
        'translate(0 '.concat(halfNubSize, ') scale(1 -1) translate(0 ').concat(-halfNubSize, ')'))
      : (cov_148i9smyyh.b[5][1]++, ''));
  var p1 = (cov_148i9smyyh.s[4]++, [nubSize, halfStrokeWidth].join(' '));
  var p2 = (cov_148i9smyyh.s[5]++, [strokeWidth, halfStrokeWidth].join(' '));
  var p3 = (cov_148i9smyyh.s[6]++, [nubSize + strokeWidth, nubSize + halfStrokeWidth].join(' '));
  cov_148i9smyyh.s[7]++;
  return '<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '
    .concat(nubSize, ' ')
    .concat(nubSize, '"><g transform="')
    .concat(horizontalTransform, ' ')
    .concat(verticalTransform, '"><path d="M')
    .concat(p1, ' L')
    .concat(p2, ' L')
    .concat(p3, '" fill="')
    .concat(
      (0, _color.default)(((cov_148i9smyyh.b[6][0]++, backgroundColor) || (cov_148i9smyyh.b[6][1]++, '')).toLowerCase())
        .rgb()
        .string(),
      '" stroke="'
    )
    .concat(
      (0, _color.default)(((cov_148i9smyyh.b[7][0]++, color) || (cov_148i9smyyh.b[7][1]++, '')).toLowerCase())
        .rgb()
        .string(),
      '" stroke-width="'
    )
    .concat(strokeWidth, 'px" /></g></svg>');
}

function isPositive(value) {
  cov_148i9smyyh.f[1]++;
  cov_148i9smyyh.s[8]++;
  return 1 / value >= 0;
}

function svgToDataURI(svg) {
  cov_148i9smyyh.f[2]++;
  cov_148i9smyyh.s[9]++;
  return 'data:image/svg+xml;utf8,'.concat(svg.replace(/"/g, "'"));
}

function createBubbleStyle(_ref) {
  var bubbleBackground = _ref.bubbleBackground,
    bubbleBorderColor = _ref.bubbleBorderColor,
    bubbleBorderRadius = _ref.bubbleBorderRadius,
    bubbleBorderStyle = _ref.bubbleBorderStyle,
    bubbleBorderWidth = _ref.bubbleBorderWidth,
    bubbleFromUserBackground = _ref.bubbleFromUserBackground,
    bubbleFromUserBorderColor = _ref.bubbleFromUserBorderColor,
    bubbleFromUserBorderRadius = _ref.bubbleFromUserBorderRadius,
    bubbleFromUserBorderStyle = _ref.bubbleFromUserBorderStyle,
    bubbleFromUserBorderWidth = _ref.bubbleFromUserBorderWidth,
    bubbleFromUserNubOffset = _ref.bubbleFromUserNubOffset,
    bubbleFromUserNubSize = _ref.bubbleFromUserNubSize,
    bubbleFromUserTextColor = _ref.bubbleFromUserTextColor,
    bubbleMinHeight = _ref.bubbleMinHeight,
    bubbleNubOffset = _ref.bubbleNubOffset,
    bubbleNubSize = _ref.bubbleNubSize,
    bubbleTextColor = _ref.bubbleTextColor,
    messageActivityWordBreak = _ref.messageActivityWordBreak,
    paddingRegular = _ref.paddingRegular;
  cov_148i9smyyh.f[3]++;
  cov_148i9smyyh.s[10]++;

  if (bubbleFromUserNubOffset === 'top') {
    cov_148i9smyyh.b[8][0]++;
    cov_148i9smyyh.s[11]++;
    bubbleFromUserNubOffset = 0;
  } else {
    cov_148i9smyyh.b[8][1]++;
    cov_148i9smyyh.s[12]++;

    if (typeof bubbleFromUserNubOffset !== 'number') {
      cov_148i9smyyh.b[9][0]++;
      cov_148i9smyyh.s[13]++;
      bubbleFromUserNubOffset = -0;
    } else {
      cov_148i9smyyh.b[9][1]++;
    }
  }

  cov_148i9smyyh.s[14]++;

  if (bubbleNubOffset === 'top') {
    cov_148i9smyyh.b[10][0]++;
    cov_148i9smyyh.s[15]++;
    bubbleNubOffset = 0;
  } else {
    cov_148i9smyyh.b[10][1]++;
    cov_148i9smyyh.s[16]++;

    if (typeof bubbleNubOffset !== 'number') {
      cov_148i9smyyh.b[11][0]++;
      cov_148i9smyyh.s[17]++;
      bubbleNubOffset = -0;
    } else {
      cov_148i9smyyh.b[11][1]++;
    }
  }

  var botNubUpSideDown = (cov_148i9smyyh.s[18]++, !isPositive(bubbleNubOffset));
  var userNubUpSideDown = (cov_148i9smyyh.s[19]++, !isPositive(bubbleFromUserNubOffset));
  var botNubSVG =
    (cov_148i9smyyh.s[20]++,
    acuteNubSVG(bubbleNubSize, bubbleBackground, bubbleBorderColor, bubbleBorderWidth, 'bot', botNubUpSideDown));
  var userNubSVG =
    (cov_148i9smyyh.s[21]++,
    acuteNubSVG(
      bubbleFromUserNubSize,
      bubbleFromUserBackground,
      bubbleFromUserBorderColor,
      bubbleFromUserBorderWidth,
      'user',
      userNubUpSideDown
    ));
  var botNubCornerRadius = (cov_148i9smyyh.s[22]++, Math.min(bubbleBorderRadius, Math.abs(bubbleNubOffset)));
  var userNubCornerRadius =
    (cov_148i9smyyh.s[23]++, Math.min(bubbleFromUserBorderRadius, Math.abs(bubbleFromUserNubOffset)));
  cov_148i9smyyh.s[24]++;
  return {
    '& > .webchat__bubble__content': {
      wordBreak: messageActivityWordBreak
    },
    '&:not(.from-user)': {
      '&.webchat__bubble_has_nub': {
        '& > .webchat__bubble__content': bubbleNubSize
          ? (cov_148i9smyyh.b[12][0]++,
            {
              marginLeft: paddingRegular
            })
          : (cov_148i9smyyh.b[12][1]++, {})
      },
      '& > .webchat__bubble__content': {
        background: bubbleBackground,
        borderColor: bubbleBorderColor,
        borderRadius: bubbleBorderRadius,
        borderStyle: bubbleBorderStyle,
        borderWidth: bubbleBorderWidth,
        color: bubbleTextColor,
        minHeight: bubbleMinHeight - bubbleBorderWidth * 2
      },
      '&.webchat__bubble_has_nub > .webchat__bubble__content': _objectSpread(
        {},
        (cov_148i9smyyh.b[14][0]++, bubbleNubSize) && (cov_148i9smyyh.b[14][1]++, botNubUpSideDown)
          ? (cov_148i9smyyh.b[13][0]++,
            {
              borderBottomLeftRadius: botNubCornerRadius
            })
          : (cov_148i9smyyh.b[13][1]++, {}),
        {},
        (cov_148i9smyyh.b[16][0]++, bubbleNubSize) && (cov_148i9smyyh.b[16][1]++, !botNubUpSideDown)
          ? (cov_148i9smyyh.b[15][0]++,
            {
              borderTopLeftRadius: botNubCornerRadius
            })
          : (cov_148i9smyyh.b[15][1]++, {})
      ),
      '& > .webchat__bubble__nub': {
        backgroundImage: 'url("'.concat(svgToDataURI(botNubSVG).replace(/"/g, "'"), '")'),
        bottom: isPositive(bubbleNubOffset)
          ? (cov_148i9smyyh.b[17][0]++, undefined)
          : (cov_148i9smyyh.b[17][1]++, -bubbleNubOffset),
        height: bubbleNubSize,
        left: bubbleBorderWidth - bubbleNubSize + paddingRegular,
        top: isPositive(bubbleNubOffset)
          ? (cov_148i9smyyh.b[18][0]++, bubbleNubOffset)
          : (cov_148i9smyyh.b[18][1]++, undefined),
        width: bubbleNubSize
      }
    },
    '&.from-user': {
      '&.webchat__bubble_has_nub': {
        '& > .webchat__bubble__content': bubbleNubSize
          ? (cov_148i9smyyh.b[19][0]++,
            {
              marginRight: paddingRegular
            })
          : (cov_148i9smyyh.b[19][1]++, {})
      },
      '& > .webchat__bubble__content': {
        background: bubbleFromUserBackground,
        borderColor: bubbleFromUserBorderColor,
        borderRadius: bubbleFromUserBorderRadius,
        borderStyle: bubbleFromUserBorderStyle,
        borderWidth: bubbleFromUserBorderWidth,
        color: bubbleFromUserTextColor,
        minHeight: bubbleMinHeight - bubbleFromUserBorderWidth * 2
      },
      '&.webchat__bubble_has_nub > .webchat__bubble__content': _objectSpread(
        {},
        (cov_148i9smyyh.b[21][0]++, bubbleFromUserNubSize) && (cov_148i9smyyh.b[21][1]++, userNubUpSideDown)
          ? (cov_148i9smyyh.b[20][0]++,
            {
              borderBottomRightRadius: userNubCornerRadius
            })
          : (cov_148i9smyyh.b[20][1]++, {}),
        {},
        (cov_148i9smyyh.b[23][0]++, bubbleFromUserNubSize) && (cov_148i9smyyh.b[23][1]++, !userNubUpSideDown)
          ? (cov_148i9smyyh.b[22][0]++,
            {
              borderTopRightRadius: userNubCornerRadius
            })
          : (cov_148i9smyyh.b[22][1]++, {})
      ),
      '& > .webchat__bubble__nub': {
        backgroundImage: 'url("'.concat(svgToDataURI(userNubSVG).replace(/"/g, "'"), '")'),
        height: bubbleFromUserNubSize,
        right: bubbleFromUserBorderWidth - bubbleFromUserNubSize + paddingRegular,
        bottom: isPositive(bubbleFromUserNubOffset)
          ? (cov_148i9smyyh.b[24][0]++, undefined)
          : (cov_148i9smyyh.b[24][1]++, -bubbleFromUserNubOffset),
        top: isPositive(bubbleFromUserNubOffset)
          ? (cov_148i9smyyh.b[25][0]++, bubbleFromUserNubOffset)
          : (cov_148i9smyyh.b[25][1]++, undefined),
        width: bubbleFromUserNubSize
      }
    }
  };
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9TdHlsZXMvU3R5bGVTZXQvQnViYmxlLmpzIl0sIm5hbWVzIjpbImFjdXRlTnViU1ZHIiwibnViU2l6ZSIsImJhY2tncm91bmRDb2xvciIsImNvbG9yIiwic3Ryb2tlV2lkdGgiLCJzaWRlIiwidXBTaWRlRG93biIsImhhbGZOdWJTaXplIiwiaGFsZlN0cm9rZVdpZHRoIiwiaG9yaXpvbnRhbFRyYW5zZm9ybSIsInZlcnRpY2FsVHJhbnNmb3JtIiwicDEiLCJqb2luIiwicDIiLCJwMyIsInRvTG93ZXJDYXNlIiwicmdiIiwic3RyaW5nIiwiaXNQb3NpdGl2ZSIsInZhbHVlIiwic3ZnVG9EYXRhVVJJIiwic3ZnIiwicmVwbGFjZSIsImNyZWF0ZUJ1YmJsZVN0eWxlIiwiYnViYmxlQmFja2dyb3VuZCIsImJ1YmJsZUJvcmRlckNvbG9yIiwiYnViYmxlQm9yZGVyUmFkaXVzIiwiYnViYmxlQm9yZGVyU3R5bGUiLCJidWJibGVCb3JkZXJXaWR0aCIsImJ1YmJsZUZyb21Vc2VyQmFja2dyb3VuZCIsImJ1YmJsZUZyb21Vc2VyQm9yZGVyQ29sb3IiLCJidWJibGVGcm9tVXNlckJvcmRlclJhZGl1cyIsImJ1YmJsZUZyb21Vc2VyQm9yZGVyU3R5bGUiLCJidWJibGVGcm9tVXNlckJvcmRlcldpZHRoIiwiYnViYmxlRnJvbVVzZXJOdWJPZmZzZXQiLCJidWJibGVGcm9tVXNlck51YlNpemUiLCJidWJibGVGcm9tVXNlclRleHRDb2xvciIsImJ1YmJsZU1pbkhlaWdodCIsImJ1YmJsZU51Yk9mZnNldCIsImJ1YmJsZU51YlNpemUiLCJidWJibGVUZXh0Q29sb3IiLCJtZXNzYWdlQWN0aXZpdHlXb3JkQnJlYWsiLCJwYWRkaW5nUmVndWxhciIsImJvdE51YlVwU2lkZURvd24iLCJ1c2VyTnViVXBTaWRlRG93biIsImJvdE51YlNWRyIsInVzZXJOdWJTVkciLCJib3ROdWJDb3JuZXJSYWRpdXMiLCJNYXRoIiwibWluIiwiYWJzIiwidXNlck51YkNvcm5lclJhZGl1cyIsIndvcmRCcmVhayIsIm1hcmdpbkxlZnQiLCJiYWNrZ3JvdW5kIiwiYm9yZGVyQ29sb3IiLCJib3JkZXJSYWRpdXMiLCJib3JkZXJTdHlsZSIsImJvcmRlcldpZHRoIiwibWluSGVpZ2h0IiwiYm9yZGVyQm90dG9tTGVmdFJhZGl1cyIsImJvcmRlclRvcExlZnRSYWRpdXMiLCJiYWNrZ3JvdW5kSW1hZ2UiLCJib3R0b20iLCJ1bmRlZmluZWQiLCJoZWlnaHQiLCJsZWZ0IiwidG9wIiwid2lkdGgiLCJtYXJnaW5SaWdodCIsImJvcmRlckJvdHRvbVJpZ2h0UmFkaXVzIiwiYm9yZGVyVG9wUmlnaHRSYWRpdXMiLCJyaWdodCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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QnFCLFFBQUFBLE1BQU0sRUFBRTdDLFVBQVUsQ0FBQ2dCLHVCQUFELENBQVYsK0JBQXNDOEIsU0FBdEMsZ0NBQWtELENBQUM5Qix1QkFBbkQsQ0FKbUI7QUFLM0JpQyxRQUFBQSxHQUFHLEVBQUVqRCxVQUFVLENBQUNnQix1QkFBRCxDQUFWLCtCQUFzQ0EsdUJBQXRDLGdDQUFnRThCLFNBQWhFLENBTHNCO0FBTTNCSSxRQUFBQSxLQUFLLEVBQUVqQztBQU5vQjtBQXJCaEI7QUFwQ1YsR0FBUDtBQW1FRCIsInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludCBuby1tYWdpYy1udW1iZXJzOiBbXCJlcnJvclwiLCB7IFwiaWdub3JlXCI6IFstMSwgMCwgMSwgMiwgMTBdIH1dICovXG5cbmltcG9ydCBDb2xvciBmcm9tICdjb2xvcic7XG5cbmZ1bmN0aW9uIGFjdXRlTnViU1ZHKG51YlNpemUgPSAxMCwgYmFja2dyb3VuZENvbG9yLCBjb2xvciwgc3Ryb2tlV2lkdGggPSAxLCBzaWRlID0gJ2JvdCcsIHVwU2lkZURvd24gPSBmYWxzZSkge1xuICBjb25zdCBoYWxmTnViU2l6ZSA9IG51YlNpemUgLyAyO1xuICBjb25zdCBoYWxmU3Ryb2tlV2lkdGggPSBzdHJva2VXaWR0aCAvIDI7XG4gIGNvbnN0IGhvcml6b250YWxUcmFuc2Zvcm0gPVxuICAgIHNpZGUgPT09ICdib3QnID8gJycgOiBgdHJhbnNsYXRlKCR7aGFsZk51YlNpemV9IDApIHNjYWxlKC0xIDEpIHRyYW5zbGF0ZSgkey1oYWxmTnViU2l6ZX0gMClgO1xuICBjb25zdCB2ZXJ0aWNhbFRyYW5zZm9ybSA9IHVwU2lkZURvd24gPyBgdHJhbnNsYXRlKDAgJHtoYWxmTnViU2l6ZX0pIHNjYWxlKDEgLTEpIHRyYW5zbGF0ZSgwICR7LWhhbGZOdWJTaXplfSlgIDogJyc7XG5cbiAgY29uc3QgcDEgPSBbbnViU2l6ZSwgaGFsZlN0cm9rZVdpZHRoXS5qb2luKCcgJyk7XG4gIGNvbnN0IHAyID0gW3N0cm9rZVdpZHRoLCBoYWxmU3Ryb2tlV2lkdGhdLmpvaW4oJyAnKTtcbiAgY29uc3QgcDMgPSBbbnViU2l6ZSArIHN0cm9rZVdpZHRoLCBudWJTaXplICsgaGFsZlN0cm9rZVdpZHRoXS5qb2luKCcgJyk7XG5cbiAgcmV0dXJuIGA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB2ZXJzaW9uPVwiMS4xXCIgdmlld0JveD1cIjAgMCAke251YlNpemV9ICR7bnViU2l6ZX1cIj48ZyB0cmFuc2Zvcm09XCIke2hvcml6b250YWxUcmFuc2Zvcm19ICR7dmVydGljYWxUcmFuc2Zvcm19XCI+PHBhdGggZD1cIk0ke3AxfSBMJHtwMn0gTCR7cDN9XCIgZmlsbD1cIiR7Q29sb3IoXG4gICAgKGJhY2tncm91bmRDb2xvciB8fCAnJykudG9Mb3dlckNhc2UoKVxuICApXG4gICAgLnJnYigpXG4gICAgLnN0cmluZygpfVwiIHN0cm9rZT1cIiR7Q29sb3IoKGNvbG9yIHx8ICcnKS50b0xvd2VyQ2FzZSgpKVxuICAgIC5yZ2IoKVxuICAgIC5zdHJpbmcoKX1cIiBzdHJva2Utd2lkdGg9XCIke3N0cm9rZVdpZHRofXB4XCIgLz48L2c+PC9zdmc+YDtcbn1cblxuZnVuY3Rpb24gaXNQb3NpdGl2ZSh2YWx1ZSkge1xuICByZXR1cm4gMSAvIHZhbHVlID49IDA7XG59XG5cbmZ1bmN0aW9uIHN2Z1RvRGF0YVVSSShzdmcpIHtcbiAgcmV0dXJuIGBkYXRhOmltYWdlL3N2Zyt4bWw7dXRmOCwke3N2Zy5yZXBsYWNlKC9cIi9ndSwgXCInXCIpfWA7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZUJ1YmJsZVN0eWxlKHtcbiAgYnViYmxlQmFja2dyb3VuZCxcbiAgYnViYmxlQm9yZGVyQ29sb3IsXG4gIGJ1YmJsZUJvcmRlclJhZGl1cyxcbiAgYnViYmxlQm9yZGVyU3R5bGUsXG4gIGJ1YmJsZUJvcmRlcldpZHRoLFxuICBidWJibGVGcm9tVXNlckJhY2tncm91bmQsXG4gIGJ1YmJsZUZyb21Vc2VyQm9yZGVyQ29sb3IsXG4gIGJ1YmJsZUZyb21Vc2VyQm9yZGVyUmFkaXVzLFxuICBidWJibGVGcm9tVXNlckJvcmRlclN0eWxlLFxuICBidWJibGVGcm9tVXNlckJvcmRlcldpZHRoLFxuICBidWJibGVGcm9tVXNlck51Yk9mZnNldCxcbiAgYnViYmxlRnJvbVVzZXJOdWJTaXplLFxuICBidWJibGVGcm9tVXNlclRleHRDb2xvcixcbiAgYnViYmxlTWluSGVpZ2h0LFxuICBidWJibGVOdWJPZmZzZXQsXG4gIGJ1YmJsZU51YlNpemUsXG4gIGJ1YmJsZVRleHRDb2xvcixcbiAgbWVzc2FnZUFjdGl2aXR5V29yZEJyZWFrLFxuICBwYWRkaW5nUmVndWxhclxufSkge1xuICBpZiAoYnViYmxlRnJvbVVzZXJOdWJPZmZzZXQgPT09ICd0b3AnKSB7XG4gICAgYnViYmxlRnJvbVVzZXJOdWJPZmZzZXQgPSAwO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBidWJibGVGcm9tVXNlck51Yk9mZnNldCAhPT0gJ251bWJlcicpIHtcbiAgICBidWJibGVGcm9tVXNlck51Yk9mZnNldCA9IC0wO1xuICB9XG5cbiAgaWYgKGJ1YmJsZU51Yk9mZnNldCA9PT0gJ3RvcCcpIHtcbiAgICBidWJibGVOdWJPZmZzZXQgPSAwO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBidWJibGVOdWJPZmZzZXQgIT09ICdudW1iZXInKSB7XG4gICAgYnViYmxlTnViT2Zmc2V0ID0gLTA7XG4gIH1cblxuICBjb25zdCBib3ROdWJVcFNpZGVEb3duID0gIWlzUG9zaXRpdmUoYnViYmxlTnViT2Zmc2V0KTtcbiAgY29uc3QgdXNlck51YlVwU2lkZURvd24gPSAhaXNQb3NpdGl2ZShidWJibGVGcm9tVXNlck51Yk9mZnNldCk7XG5cbiAgY29uc3QgYm90TnViU1ZHID0gYWN1dGVOdWJTVkcoXG4gICAgYnViYmxlTnViU2l6ZSxcbiAgICBidWJibGVCYWNrZ3JvdW5kLFxuICAgIGJ1YmJsZUJvcmRlckNvbG9yLFxuICAgIGJ1YmJsZUJvcmRlcldpZHRoLFxuICAgICdib3QnLFxuICAgIGJvdE51YlVwU2lkZURvd25cbiAgKTtcbiAgY29uc3QgdXNlck51YlNWRyA9IGFjdXRlTnViU1ZHKFxuICAgIGJ1YmJsZUZyb21Vc2VyTnViU2l6ZSxcbiAgICBidWJibGVGcm9tVXNlckJhY2tncm91bmQsXG4gICAgYnViYmxlRnJvbVVzZXJCb3JkZXJDb2xvcixcbiAgICBidWJibGVGcm9tVXNlckJvcmRlcldpZHRoLFxuICAgICd1c2VyJyxcbiAgICB1c2VyTnViVXBTaWRlRG93blxuICApO1xuXG4gIGNvbnN0IGJvdE51YkNvcm5lclJhZGl1cyA9IE1hdGgubWluKGJ1YmJsZUJvcmRlclJhZGl1cywgTWF0aC5hYnMoYnViYmxlTnViT2Zmc2V0KSk7XG4gIGNvbnN0IHVzZXJOdWJDb3JuZXJSYWRpdXMgPSBNYXRoLm1pbihidWJibGVGcm9tVXNlckJvcmRlclJhZGl1cywgTWF0aC5hYnMoYnViYmxlRnJvbVVzZXJOdWJPZmZzZXQpKTtcblxuICByZXR1cm4ge1xuICAgICcmID4gLndlYmNoYXRfX2J1YmJsZV9fY29udGVudCc6IHtcbiAgICAgIHdvcmRCcmVhazogbWVzc2FnZUFjdGl2aXR5V29yZEJyZWFrXG4gICAgfSxcblxuICAgICcmOm5vdCguZnJvbS11c2VyKSc6IHtcbiAgICAgICcmLndlYmNoYXRfX2J1YmJsZV9oYXNfbnViJzoge1xuICAgICAgICAnJiA+IC53ZWJjaGF0X19idWJibGVfX2NvbnRlbnQnOiBidWJibGVOdWJTaXplID8geyBtYXJnaW5MZWZ0OiBwYWRkaW5nUmVndWxhciB9IDoge31cbiAgICAgIH0sXG5cbiAgICAgICcmID4gLndlYmNoYXRfX2J1YmJsZV9fY29udGVudCc6IHtcbiAgICAgICAgYmFja2dyb3VuZDogYnViYmxlQmFja2dyb3VuZCxcbiAgICAgICAgYm9yZGVyQ29sb3I6IGJ1YmJsZUJvcmRlckNvbG9yLFxuICAgICAgICBib3JkZXJSYWRpdXM6IGJ1YmJsZUJvcmRlclJhZGl1cyxcbiAgICAgICAgYm9yZGVyU3R5bGU6IGJ1YmJsZUJvcmRlclN0eWxlLFxuICAgICAgICBib3JkZXJXaWR0aDogYnViYmxlQm9yZGVyV2lkdGgsXG4gICAgICAgIGNvbG9yOiBidWJibGVUZXh0Q29sb3IsXG4gICAgICAgIG1pbkhlaWdodDogYnViYmxlTWluSGVpZ2h0IC0gYnViYmxlQm9yZGVyV2lkdGggKiAyXG4gICAgICB9LFxuXG4gICAgICAnJi53ZWJjaGF0X19idWJibGVfaGFzX251YiA+IC53ZWJjaGF0X19idWJibGVfX2NvbnRlbnQnOiB7XG4gICAgICAgIC8vIEhpZGUgYm9yZGVyIHJhZGl1cyBpZiB0aGVyZSBpcyBhIG51YiBvbiB0aGUgdG9wL2JvdHRvbSBsZWZ0IGNvcm5lclxuICAgICAgICAuLi4oYnViYmxlTnViU2l6ZSAmJiBib3ROdWJVcFNpZGVEb3duID8geyBib3JkZXJCb3R0b21MZWZ0UmFkaXVzOiBib3ROdWJDb3JuZXJSYWRpdXMgfSA6IHt9KSxcbiAgICAgICAgLi4uKGJ1YmJsZU51YlNpemUgJiYgIWJvdE51YlVwU2lkZURvd24gPyB7IGJvcmRlclRvcExlZnRSYWRpdXM6IGJvdE51YkNvcm5lclJhZGl1cyB9IDoge30pXG4gICAgICB9LFxuXG4gICAgICAnJiA+IC53ZWJjaGF0X19idWJibGVfX251Yic6IHtcbiAgICAgICAgYmFja2dyb3VuZEltYWdlOiBgdXJsKFwiJHtzdmdUb0RhdGFVUkkoYm90TnViU1ZHKS5yZXBsYWNlKC9cIi9ndSwgXCInXCIpfVwiKWAsXG4gICAgICAgIGJvdHRvbTogaXNQb3NpdGl2ZShidWJibGVOdWJPZmZzZXQpID8gdW5kZWZpbmVkIDogLWJ1YmJsZU51Yk9mZnNldCxcbiAgICAgICAgaGVpZ2h0OiBidWJibGVOdWJTaXplLFxuICAgICAgICBsZWZ0OiBidWJibGVCb3JkZXJXaWR0aCAtIGJ1YmJsZU51YlNpemUgKyBwYWRkaW5nUmVndWxhcixcbiAgICAgICAgdG9wOiBpc1Bvc2l0aXZlKGJ1YmJsZU51Yk9mZnNldCkgPyBidWJibGVOdWJPZmZzZXQgOiB1bmRlZmluZWQsXG4gICAgICAgIHdpZHRoOiBidWJibGVOdWJTaXplXG4gICAgICB9XG4gICAgfSxcblxuICAgICcmLmZyb20tdXNlcic6IHtcbiAgICAgICcmLndlYmNoYXRfX2J1YmJsZV9oYXNfbnViJzoge1xuICAgICAgICAnJiA+IC53ZWJjaGF0X19idWJibGVfX2NvbnRlbnQnOiBidWJibGVOdWJTaXplID8geyBtYXJnaW5SaWdodDogcGFkZGluZ1JlZ3VsYXIgfSA6IHt9XG4gICAgICB9LFxuXG4gICAgICAnJiA+IC53ZWJjaGF0X19idWJibGVfX2NvbnRlbnQnOiB7XG4gICAgICAgIGJhY2tncm91bmQ6IGJ1YmJsZUZyb21Vc2VyQmFja2dyb3VuZCxcbiAgICAgICAgYm9yZGVyQ29sb3I6IGJ1YmJsZUZyb21Vc2VyQm9yZGVyQ29sb3IsXG4gICAgICAgIGJvcmRlclJhZGl1czogYnViYmxlRnJvbVVzZXJCb3JkZXJSYWRpdXMsXG4gICAgICAgIGJvcmRlclN0eWxlOiBidWJibGVGcm9tVXNlckJvcmRlclN0eWxlLFxuICAgICAgICBib3JkZXJXaWR0aDogYnViYmxlRnJvbVVzZXJCb3JkZXJXaWR0aCxcbiAgICAgICAgY29sb3I6IGJ1YmJsZUZyb21Vc2VyVGV4dENvbG9yLFxuICAgICAgICBtaW5IZWlnaHQ6IGJ1YmJsZU1pbkhlaWdodCAtIGJ1YmJsZUZyb21Vc2VyQm9yZGVyV2lkdGggKiAyXG4gICAgICB9LFxuXG4gICAgICAnJi53ZWJjaGF0X19idWJibGVfaGFzX251YiA+IC53ZWJjaGF0X19idWJibGVfX2NvbnRlbnQnOiB7XG4gICAgICAgIC8vIEhpZGUgYm9yZGVyIHJhZGl1cyBpZiB0aGVyZSBpcyBhIG51YiBvbiB0aGUgdG9wL2JvdHRvbSByaWdodCBjb3JuZXJcbiAgICAgICAgLi4uKGJ1YmJsZUZyb21Vc2VyTnViU2l6ZSAmJiB1c2VyTnViVXBTaWRlRG93biA/IHsgYm9yZGVyQm90dG9tUmlnaHRSYWRpdXM6IHVzZXJOdWJDb3JuZXJSYWRpdXMgfSA6IHt9KSxcbiAgICAgICAgLi4uKGJ1YmJsZUZyb21Vc2VyTnViU2l6ZSAmJiAhdXNlck51YlVwU2lkZURvd24gPyB7IGJvcmRlclRvcFJpZ2h0UmFkaXVzOiB1c2VyTnViQ29ybmVyUmFkaXVzIH0gOiB7fSlcbiAgICAgIH0sXG5cbiAgICAgICcmID4gLndlYmNoYXRfX2J1YmJsZV9fbnViJzoge1xuICAgICAgICBiYWNrZ3JvdW5kSW1hZ2U6IGB1cmwoXCIke3N2Z1RvRGF0YVVSSSh1c2VyTnViU1ZHKS5yZXBsYWNlKC9cIi9ndSwgXCInXCIpfVwiKWAsXG4gICAgICAgIGhlaWdodDogYnViYmxlRnJvbVVzZXJOdWJTaXplLFxuICAgICAgICByaWdodDogYnViYmxlRnJvbVVzZXJCb3JkZXJXaWR0aCAtIGJ1YmJsZUZyb21Vc2VyTnViU2l6ZSArIHBhZGRpbmdSZWd1bGFyLFxuICAgICAgICBib3R0b206IGlzUG9zaXRpdmUoYnViYmxlRnJvbVVzZXJOdWJPZmZzZXQpID8gdW5kZWZpbmVkIDogLWJ1YmJsZUZyb21Vc2VyTnViT2Zmc2V0LFxuICAgICAgICB0b3A6IGlzUG9zaXRpdmUoYnViYmxlRnJvbVVzZXJOdWJPZmZzZXQpID8gYnViYmxlRnJvbVVzZXJOdWJPZmZzZXQgOiB1bmRlZmluZWQsXG4gICAgICAgIHdpZHRoOiBidWJibGVGcm9tVXNlck51YlNpemVcbiAgICAgIH1cbiAgICB9XG4gIH07XG59XG4iXX0=
