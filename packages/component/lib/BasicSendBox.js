'use strict';

var cov_15jzs94fnm = (function() {
  var path = '/Users/guy/Work/Leo/leo/BotFramework-WebChat/packages/component/src/BasicSendBox.js';
  var hash = '495fa10c9746f7a74f5396e4fa66b0ddbc56b8bd';
  var global = new Function('return this')();
  var gcv = '__coverage__';
  var coverageData = {
    path: '/Users/guy/Work/Leo/leo/BotFramework-WebChat/packages/component/src/BasicSendBox.js',
    statementMap: {
      '0': {
        start: {
          line: 19,
          column: 4
        },
        end: {
          line: 19,
          column: 13
        }
      },
      '1': {
        start: {
          line: 21,
          column: 17
        },
        end: {
          line: 25,
          column: 2
        }
      },
      '2': {
        start: {
          line: 27,
          column: 31
        },
        end: {
          line: 27,
          column: 51
        }
      },
      '3': {
        start: {
          line: 28,
          column: 30
        },
        end: {
          line: 28,
          column: 46
        }
      },
      '4': {
        start: {
          line: 29,
          column: 21
        },
        end: {
          line: 29,
          column: 41
        }
      },
      '5': {
        start: {
          line: 31,
          column: 21
        },
        end: {
          line: 52,
          column: 1
        }
      },
      '6': {
        start: {
          line: 32,
          column: 2
        },
        end: {
          line: 51,
          column: 8
        }
      },
      '7': {
        start: {
          line: 54,
          column: 0
        },
        end: {
          line: 57,
          column: 2
        }
      },
      '8': {
        start: {
          line: 59,
          column: 0
        },
        end: {
          line: 71,
          column: 2
        }
      },
      '9': {
        start: {
          line: 75,
          column: 2
        },
        end: {
          line: 75,
          column: 17
        }
      },
      '10': {
        start: {
          line: 78,
          column: 96
        },
        end: {
          line: 84,
          column: 1
        }
      }
    },
    fnMap: {
      '0': {
        name: '(anonymous_0)',
        decl: {
          start: {
            line: 31,
            column: 21
          },
          end: {
            line: 31,
            column: 22
          }
        },
        loc: {
          start: {
            line: 32,
            column: 2
          },
          end: {
            line: 51,
            column: 8
          }
        },
        line: 32
      },
      '1': {
        name: 'activityIsSpeakingOrQueuedToSpeak',
        decl: {
          start: {
            line: 74,
            column: 9
          },
          end: {
            line: 74,
            column: 42
          }
        },
        loc: {
          start: {
            line: 74,
            column: 76
          },
          end: {
            line: 76,
            column: 1
          }
        },
        line: 74
      },
      '2': {
        name: '(anonymous_2)',
        decl: {
          start: {
            line: 78,
            column: 32
          },
          end: {
            line: 78,
            column: 33
          }
        },
        loc: {
          start: {
            line: 78,
            column: 96
          },
          end: {
            line: 84,
            column: 1
          }
        },
        line: 78
      }
    },
    branchMap: {
      '0': {
        loc: {
          start: {
            line: 37,
            column: 7
          },
          end: {
            line: 37,
            column: 61
          }
        },
        type: 'binary-expr',
        locations: [
          {
            start: {
              line: 37,
              column: 7
            },
            end: {
              line: 37,
              column: 41
            }
          },
          {
            start: {
              line: 37,
              column: 45
            },
            end: {
              line: 37,
              column: 61
            }
          }
        ],
        line: 37
      },
      '1': {
        loc: {
          start: {
            line: 38,
            column: 7
          },
          end: {
            line: 42,
            column: 7
          }
        },
        type: 'cond-expr',
        locations: [
          {
            start: {
              line: 39,
              column: 8
            },
            end: {
              line: 39,
              column: 69
            }
          },
          {
            start: {
              line: 41,
              column: 8
            },
            end: {
              line: 41,
              column: 49
            }
          }
        ],
        line: 38
      },
      '2': {
        loc: {
          start: {
            line: 44,
            column: 9
          },
          end: {
            line: 48,
            column: 9
          }
        },
        type: 'cond-expr',
        locations: [
          {
            start: {
              line: 45,
              column: 10
            },
            end: {
              line: 45,
              column: 69
            }
          },
          {
            start: {
              line: 47,
              column: 10
            },
            end: {
              line: 47,
              column: 24
            }
          }
        ],
        line: 44
      },
      '3': {
        loc: {
          start: {
            line: 44,
            column: 10
          },
          end: {
            line: 44,
            column: 33
          }
        },
        type: 'binary-expr',
        locations: [
          {
            start: {
              line: 44,
              column: 10
            },
            end: {
              line: 44,
              column: 27
            }
          },
          {
            start: {
              line: 44,
              column: 31
            },
            end: {
              line: 44,
              column: 33
            }
          }
        ],
        line: 44
      },
      '4': {
        loc: {
          start: {
            line: 74,
            column: 58
          },
          end: {
            line: 74,
            column: 72
          }
        },
        type: 'default-arg',
        locations: [
          {
            start: {
              line: 74,
              column: 70
            },
            end: {
              line: 74,
              column: 72
            }
          }
        ],
        line: 74
      },
      '5': {
        loc: {
          start: {
            line: 80,
            column: 4
          },
          end: {
            line: 81,
            column: 64
          }
        },
        type: 'binary-expr',
        locations: [
          {
            start: {
              line: 80,
              column: 5
            },
            end: {
              line: 80,
              column: 30
            }
          },
          {
            start: {
              line: 80,
              column: 34
            },
            end: {
              line: 80,
              column: 60
            }
          },
          {
            start: {
              line: 81,
              column: 4
            },
            end: {
              line: 81,
              column: 64
            }
          }
        ],
        line: 80
      }
    },
    s: {
      '0': 0,
      '1': 0,
      '2': 0,
      '3': 0,
      '4': 0,
      '5': 0,
      '6': 0,
      '7': 0,
      '8': 0,
      '9': 0,
      '10': 0
    },
    f: {
      '0': 0,
      '1': 0,
      '2': 0
    },
    b: {
      '0': [0, 0],
      '1': [0, 0],
      '2': [0, 0],
      '3': [0, 0],
      '4': [0],
      '5': [0, 0, 0]
    },
    _coverageSchema: '43e27e138ebf9cfc5966b082cf9a028302ed4184',
    hash: '495fa10c9746f7a74f5396e4fa66b0ddbc56b8bd'
  };
  var coverage = global[gcv] || (global[gcv] = {});

  if (coverage[path] && coverage[path].hash === hash) {
    return coverage[path];
  }

  return (coverage[path] = coverageData);
})();

Object.defineProperty(exports, '__esModule', {
  value: true
});
exports.default = void 0;

var _botframeworkWebchatCore = require('botframework-webchat-core');

var _glamor = require('glamor');

var _classnames = _interopRequireDefault(require('classnames'));

var _propTypes = _interopRequireDefault(require('prop-types'));

var _react = _interopRequireDefault(require('react'));

var _ConnectivityStatus = _interopRequireDefault(require('./SendBox/ConnectivityStatus'));

var _connectToWebChat = _interopRequireDefault(require('./connectToWebChat'));

var _DictationInterims = _interopRequireDefault(require('./SendBox/DictationInterims'));

var _MicrophoneButton = _interopRequireDefault(require('./SendBox/MicrophoneButton'));

var _SendButton = _interopRequireDefault(require('./SendBox/SendButton'));

var _SuggestedActions = _interopRequireDefault(require('./SendBox/SuggestedActions'));

var _TextBox = _interopRequireDefault(require('./SendBox/TextBox'));

var _TypingIndicator = _interopRequireDefault(require('./SendBox/TypingIndicator'));

var _UploadButton = _interopRequireDefault(require('./SendBox/UploadButton'));

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { default: obj };
}

var _ref = (cov_15jzs94fnm.s[0]++, _botframeworkWebchatCore.Constants),
  _ref$DictateState = _ref.DictateState,
  DICTATING = _ref$DictateState.DICTATING,
  STARTING = _ref$DictateState.STARTING;

var ROOT_CSS =
  (cov_15jzs94fnm.s[1]++,
  (0, _glamor.css)({
    '& > .main': {
      display: 'flex'
    }
  }));
var DICTATION_INTERIMS_CSS =
  (cov_15jzs94fnm.s[2]++,
  (0, _glamor.css)({
    flex: 10000
  }));
var MICROPHONE_BUTTON_CSS =
  (cov_15jzs94fnm.s[3]++,
  (0, _glamor.css)({
    flex: 1
  }));
var TEXT_BOX_CSS =
  (cov_15jzs94fnm.s[4]++,
  (0, _glamor.css)({
    flex: 10000
  }));
cov_15jzs94fnm.s[5]++;

var BasicSendBox = function BasicSendBox(_ref2) {
  var className = _ref2.className,
    dictationStarted = _ref2.dictationStarted,
    styleSet = _ref2.styleSet,
    webSpeechPonyfill = _ref2.webSpeechPonyfill;
  cov_15jzs94fnm.f[0]++;
  cov_15jzs94fnm.s[6]++;
  return _react.default.createElement(
    'div',
    {
      className: (0, _classnames.default)(styleSet.sendBox + '', ROOT_CSS + '', className + ''),
      role: 'form'
    },
    _react.default.createElement(_TypingIndicator.default, null),
    _react.default.createElement(_ConnectivityStatus.default, null),
    _react.default.createElement(_SuggestedActions.default, null),
    _react.default.createElement(
      'div',
      {
        className: 'main'
      },
      (cov_15jzs94fnm.b[0][0]++, !styleSet.options.hideUploadButton) &&
        (cov_15jzs94fnm.b[0][1]++, _react.default.createElement(_UploadButton.default, null)),
      dictationStarted
        ? (cov_15jzs94fnm.b[1][0]++,
          _react.default.createElement(_DictationInterims.default, {
            className: DICTATION_INTERIMS_CSS + ''
          }))
        : (cov_15jzs94fnm.b[1][1]++,
          _react.default.createElement(_TextBox.default, {
            className: TEXT_BOX_CSS + ''
          })),
      _react.default.createElement(
        'div',
        null,
        ((cov_15jzs94fnm.b[3][0]++, webSpeechPonyfill) || (cov_15jzs94fnm.b[3][1]++, {})).SpeechRecognition
          ? (cov_15jzs94fnm.b[2][0]++,
            _react.default.createElement(_MicrophoneButton.default, {
              className: MICROPHONE_BUTTON_CSS + ''
            }))
          : (cov_15jzs94fnm.b[2][1]++, _react.default.createElement(_SendButton.default, null))
      )
    )
  );
};

cov_15jzs94fnm.s[7]++;
BasicSendBox.defaultProps = {
  className: '',
  webSpeechPonyfill: undefined
};
cov_15jzs94fnm.s[8]++;
BasicSendBox.propTypes = {
  className: _propTypes.default.string,
  dictationStarted: _propTypes.default.bool.isRequired,
  styleSet: _propTypes.default.shape({
    options: _propTypes.default.shape({
      hideUploadButton: _propTypes.default.bool.isRequired
    }).isRequired,
    sendBox: _propTypes.default.any.isRequired
  }).isRequired,
  webSpeechPonyfill: _propTypes.default.shape({
    SpeechRecognition: _propTypes.default.any
  })
}; // TODO: [P3] We should consider exposing core/src/definitions and use it instead

function activityIsSpeakingOrQueuedToSpeak(_ref3) {
  var _ref3$channelData = _ref3.channelData;
  _ref3$channelData = _ref3$channelData === void 0 ? (cov_15jzs94fnm.b[4][0]++, {}) : _ref3$channelData;
  var speak = _ref3$channelData.speak;
  cov_15jzs94fnm.f[1]++;
  cov_15jzs94fnm.s[9]++;
  return !!speak;
}

var _default = (0, _connectToWebChat.default)(function(_ref4) {
  var activities = _ref4.activities,
    dictateState = _ref4.dictateState,
    styleSet = _ref4.styleSet,
    webSpeechPonyfill = _ref4.webSpeechPonyfill;
  cov_15jzs94fnm.f[2]++;
  cov_15jzs94fnm.s[10]++;
  return {
    dictationStarted:
      ((cov_15jzs94fnm.b[5][0]++, dictateState === STARTING) ||
        (cov_15jzs94fnm.b[5][1]++, dictateState === DICTATING)) &&
      (cov_15jzs94fnm.b[5][2]++, !activities.filter(activityIsSpeakingOrQueuedToSpeak).length),
    styleSet: styleSet,
    webSpeechPonyfill: webSpeechPonyfill
  };
})(BasicSendBox);

exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9CYXNpY1NlbmRCb3guanMiXSwibmFtZXMiOlsiQ29uc3RhbnRzIiwiRGljdGF0ZVN0YXRlIiwiRElDVEFUSU5HIiwiU1RBUlRJTkciLCJST09UX0NTUyIsImRpc3BsYXkiLCJESUNUQVRJT05fSU5URVJJTVNfQ1NTIiwiZmxleCIsIk1JQ1JPUEhPTkVfQlVUVE9OX0NTUyIsIlRFWFRfQk9YX0NTUyIsIkJhc2ljU2VuZEJveCIsImNsYXNzTmFtZSIsImRpY3RhdGlvblN0YXJ0ZWQiLCJzdHlsZVNldCIsIndlYlNwZWVjaFBvbnlmaWxsIiwic2VuZEJveCIsIm9wdGlvbnMiLCJoaWRlVXBsb2FkQnV0dG9uIiwiU3BlZWNoUmVjb2duaXRpb24iLCJkZWZhdWx0UHJvcHMiLCJ1bmRlZmluZWQiLCJwcm9wVHlwZXMiLCJQcm9wVHlwZXMiLCJzdHJpbmciLCJib29sIiwiaXNSZXF1aXJlZCIsInNoYXBlIiwiYW55IiwiYWN0aXZpdHlJc1NwZWFraW5nT3JRdWV1ZWRUb1NwZWFrIiwiY2hhbm5lbERhdGEiLCJzcGVhayIsImFjdGl2aXRpZXMiLCJkaWN0YXRlU3RhdGUiLCJmaWx0ZXIiLCJsZW5ndGgiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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QjtBQUNqQ1IsSUFBQUEsaUJBQWlCLEVBQUVJLG1CQUFVSztBQURJLEdBQWhCO0FBVEksQ0FBekIsQyxDQWNBOztBQUNBLFNBQVNDLGlDQUFULFFBQTRFO0FBQUEsZ0NBQS9CQyxXQUErQjtBQUFBLGdGQUFOLEVBQU07QUFBQSxNQUFoQkMsS0FBZ0IscUJBQWhCQSxLQUFnQjtBQUFBO0FBQUE7QUFDMUUsU0FBTyxDQUFDLENBQUNBLEtBQVQ7QUFDRDs7ZUFFYywrQkFBaUIsaUJBQWdFO0FBQUEsTUFBN0RDLFVBQTZELFNBQTdEQSxVQUE2RDtBQUFBLE1BQWpEQyxZQUFpRCxTQUFqREEsWUFBaUQ7QUFBQSxNQUFuQ25CLFFBQW1DLFNBQW5DQSxRQUFtQztBQUFBLE1BQXpCQyxpQkFBeUIsU0FBekJBLGlCQUF5QjtBQUFBO0FBQUE7QUFBQTtBQUM5RkYsSUFBQUEsZ0JBQWdCLEVBQ2QsQ0FBQywyQkFBQW9CLFlBQVksS0FBSzdCLFFBQWpCLGdDQUE2QjZCLFlBQVksS0FBSzlCLFNBQTlDLENBQUQsZ0NBQ0EsQ0FBQzZCLFVBQVUsQ0FBQ0UsTUFBWCxDQUFrQkwsaUNBQWxCLEVBQXFETSxNQUR0RCxDQUY0RjtBQUk5RnJCLElBQUFBLFFBQVEsRUFBUkEsUUFKOEY7QUFLOUZDLElBQUFBLGlCQUFpQixFQUFqQkE7QUFMOEY7QUFNL0YsQ0FOYyxFQU1YSixZQU5XLEMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb25zdGFudHMgfSBmcm9tICdib3RmcmFtZXdvcmstd2ViY2hhdC1jb3JlJztcbmltcG9ydCB7IGNzcyB9IGZyb20gJ2dsYW1vcic7XG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgQ29ubmVjdGl2aXR5U3RhdHVzIGZyb20gJy4vU2VuZEJveC9Db25uZWN0aXZpdHlTdGF0dXMnO1xuaW1wb3J0IGNvbm5lY3RUb1dlYkNoYXQgZnJvbSAnLi9jb25uZWN0VG9XZWJDaGF0JztcbmltcG9ydCBEaWN0YXRpb25JbnRlcmltcyBmcm9tICcuL1NlbmRCb3gvRGljdGF0aW9uSW50ZXJpbXMnO1xuaW1wb3J0IE1pY3JvcGhvbmVCdXR0b24gZnJvbSAnLi9TZW5kQm94L01pY3JvcGhvbmVCdXR0b24nO1xuaW1wb3J0IFNlbmRCdXR0b24gZnJvbSAnLi9TZW5kQm94L1NlbmRCdXR0b24nO1xuaW1wb3J0IFN1Z2dlc3RlZEFjdGlvbnMgZnJvbSAnLi9TZW5kQm94L1N1Z2dlc3RlZEFjdGlvbnMnO1xuaW1wb3J0IFRleHRCb3ggZnJvbSAnLi9TZW5kQm94L1RleHRCb3gnO1xuaW1wb3J0IFR5cGluZ0luZGljYXRvciBmcm9tICcuL1NlbmRCb3gvVHlwaW5nSW5kaWNhdG9yJztcbmltcG9ydCBVcGxvYWRCdXR0b24gZnJvbSAnLi9TZW5kQm94L1VwbG9hZEJ1dHRvbic7XG5cbmNvbnN0IHtcbiAgRGljdGF0ZVN0YXRlOiB7IERJQ1RBVElORywgU1RBUlRJTkcgfVxufSA9IENvbnN0YW50cztcblxuY29uc3QgUk9PVF9DU1MgPSBjc3Moe1xuICAnJiA+IC5tYWluJzoge1xuICAgIGRpc3BsYXk6ICdmbGV4J1xuICB9XG59KTtcblxuY29uc3QgRElDVEFUSU9OX0lOVEVSSU1TX0NTUyA9IGNzcyh7IGZsZXg6IDEwMDAwIH0pO1xuY29uc3QgTUlDUk9QSE9ORV9CVVRUT05fQ1NTID0gY3NzKHsgZmxleDogMSB9KTtcbmNvbnN0IFRFWFRfQk9YX0NTUyA9IGNzcyh7IGZsZXg6IDEwMDAwIH0pO1xuXG5jb25zdCBCYXNpY1NlbmRCb3ggPSAoeyBjbGFzc05hbWUsIGRpY3RhdGlvblN0YXJ0ZWQsIHN0eWxlU2V0LCB3ZWJTcGVlY2hQb255ZmlsbCB9KSA9PiAoXG4gIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWVzKHN0eWxlU2V0LnNlbmRCb3ggKyAnJywgUk9PVF9DU1MgKyAnJywgY2xhc3NOYW1lICsgJycpfSByb2xlPVwiZm9ybVwiPlxuICAgIDxUeXBpbmdJbmRpY2F0b3IgLz5cbiAgICA8Q29ubmVjdGl2aXR5U3RhdHVzIC8+XG4gICAgPFN1Z2dlc3RlZEFjdGlvbnMgLz5cbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1haW5cIj5cbiAgICAgIHshc3R5bGVTZXQub3B0aW9ucy5oaWRlVXBsb2FkQnV0dG9uICYmIDxVcGxvYWRCdXR0b24gLz59XG4gICAgICB7ZGljdGF0aW9uU3RhcnRlZCA/IChcbiAgICAgICAgPERpY3RhdGlvbkludGVyaW1zIGNsYXNzTmFtZT17RElDVEFUSU9OX0lOVEVSSU1TX0NTUyArICcnfSAvPlxuICAgICAgKSA6IChcbiAgICAgICAgPFRleHRCb3ggY2xhc3NOYW1lPXtURVhUX0JPWF9DU1MgKyAnJ30gLz5cbiAgICAgICl9XG4gICAgICA8ZGl2PlxuICAgICAgICB7KHdlYlNwZWVjaFBvbnlmaWxsIHx8IHt9KS5TcGVlY2hSZWNvZ25pdGlvbiA/IChcbiAgICAgICAgICA8TWljcm9waG9uZUJ1dHRvbiBjbGFzc05hbWU9e01JQ1JPUEhPTkVfQlVUVE9OX0NTUyArICcnfSAvPlxuICAgICAgICApIDogKFxuICAgICAgICAgIDxTZW5kQnV0dG9uIC8+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG4pO1xuXG5CYXNpY1NlbmRCb3guZGVmYXVsdFByb3BzID0ge1xuICBjbGFzc05hbWU6ICcnLFxuICB3ZWJTcGVlY2hQb255ZmlsbDogdW5kZWZpbmVkXG59O1xuXG5CYXNpY1NlbmRCb3gucHJvcFR5cGVzID0ge1xuICBjbGFzc05hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gIGRpY3RhdGlvblN0YXJ0ZWQ6IFByb3BUeXBlcy5ib29sLmlzUmVxdWlyZWQsXG4gIHN0eWxlU2V0OiBQcm9wVHlwZXMuc2hhcGUoe1xuICAgIG9wdGlvbnM6IFByb3BUeXBlcy5zaGFwZSh7XG4gICAgICBoaWRlVXBsb2FkQnV0dG9uOiBQcm9wVHlwZXMuYm9vbC5pc1JlcXVpcmVkXG4gICAgfSkuaXNSZXF1aXJlZCxcbiAgICBzZW5kQm94OiBQcm9wVHlwZXMuYW55LmlzUmVxdWlyZWRcbiAgfSkuaXNSZXF1aXJlZCxcbiAgd2ViU3BlZWNoUG9ueWZpbGw6IFByb3BUeXBlcy5zaGFwZSh7XG4gICAgU3BlZWNoUmVjb2duaXRpb246IFByb3BUeXBlcy5hbnlcbiAgfSlcbn07XG5cbi8vIFRPRE86IFtQM10gV2Ugc2hvdWxkIGNvbnNpZGVyIGV4cG9zaW5nIGNvcmUvc3JjL2RlZmluaXRpb25zIGFuZCB1c2UgaXQgaW5zdGVhZFxuZnVuY3Rpb24gYWN0aXZpdHlJc1NwZWFraW5nT3JRdWV1ZWRUb1NwZWFrKHsgY2hhbm5lbERhdGE6IHsgc3BlYWsgfSA9IHt9IH0pIHtcbiAgcmV0dXJuICEhc3BlYWs7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3RUb1dlYkNoYXQoKHsgYWN0aXZpdGllcywgZGljdGF0ZVN0YXRlLCBzdHlsZVNldCwgd2ViU3BlZWNoUG9ueWZpbGwgfSkgPT4gKHtcbiAgZGljdGF0aW9uU3RhcnRlZDpcbiAgICAoZGljdGF0ZVN0YXRlID09PSBTVEFSVElORyB8fCBkaWN0YXRlU3RhdGUgPT09IERJQ1RBVElORykgJiZcbiAgICAhYWN0aXZpdGllcy5maWx0ZXIoYWN0aXZpdHlJc1NwZWFraW5nT3JRdWV1ZWRUb1NwZWFrKS5sZW5ndGgsXG4gIHN0eWxlU2V0LFxuICB3ZWJTcGVlY2hQb255ZmlsbFxufSkpKEJhc2ljU2VuZEJveCk7XG4iXX0=
