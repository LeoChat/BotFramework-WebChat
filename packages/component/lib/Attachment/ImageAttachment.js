'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});
exports.default = void 0;

var _propTypes = _interopRequireDefault(require('prop-types'));

var _react = _interopRequireDefault(require('react'));

var _ImageContent = _interopRequireDefault(require('./ImageContent'));

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { default: obj };
}

var ImageAttachment = function ImageAttachment(_ref) {
  var activity = _ref.activity,
    attachment = _ref.attachment;

  var _ref2 = activity.channelData || {},
    attachmentThumbnails = _ref2.attachmentThumbnails;

  if (attachmentThumbnails) {
    var attachmentThumbnail = attachmentThumbnails[activity.attachments.indexOf(attachment)];

    if (attachmentThumbnail) {
      return _react.default.createElement(_ImageContent.default, {
        alt: attachment.name,
        src: attachmentThumbnail
      });
    }
  }

  return _react.default.createElement(_ImageContent.default, {
    alt: attachment.name,
    src: attachment.contentUrl
  });
};

ImageAttachment.propTypes = {
  activity: _propTypes.default.shape({
    attachments: _propTypes.default.array.isRequired
  }).isRequired,
  attachment: _propTypes.default.shape({
    contentUrl: _propTypes.default.string.isRequired,
    name: _propTypes.default.string
  }).isRequired
};
var _default = ImageAttachment;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9BdHRhY2htZW50L0ltYWdlQXR0YWNobWVudC5qcyJdLCJuYW1lcyI6WyJJbWFnZUF0dGFjaG1lbnQiLCJhY3Rpdml0eSIsImF0dGFjaG1lbnQiLCJjaGFubmVsRGF0YSIsImF0dGFjaG1lbnRUaHVtYm5haWxzIiwiYXR0YWNobWVudFRodW1ibmFpbCIsImF0dGFjaG1lbnRzIiwiaW5kZXhPZiIsIm5hbWUiLCJjb250ZW50VXJsIiwicHJvcFR5cGVzIiwiUHJvcFR5cGVzIiwic2hhcGUiLCJhcnJheSIsImlzUmVxdWlyZWQiLCJzdHJpbmciXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFFQTs7OztBQUVBLElBQU1BLGVBQWUsR0FBRyxTQUFsQkEsZUFBa0IsT0FBOEI7QUFBQSxNQUEzQkMsUUFBMkIsUUFBM0JBLFFBQTJCO0FBQUEsTUFBakJDLFVBQWlCLFFBQWpCQSxVQUFpQjs7QUFBQSxjQUNuQkQsUUFBUSxDQUFDRSxXQUFULElBQXdCLEVBREw7QUFBQSxNQUM1Q0Msb0JBRDRDLFNBQzVDQSxvQkFENEM7O0FBR3BELE1BQUlBLG9CQUFKLEVBQTBCO0FBQ3hCLFFBQU1DLG1CQUFtQixHQUFHRCxvQkFBb0IsQ0FBQ0gsUUFBUSxDQUFDSyxXQUFULENBQXFCQyxPQUFyQixDQUE2QkwsVUFBN0IsQ0FBRCxDQUFoRDs7QUFFQSxRQUFJRyxtQkFBSixFQUF5QjtBQUN2QixhQUFPLDZCQUFDLHFCQUFEO0FBQWMsUUFBQSxHQUFHLEVBQUVILFVBQVUsQ0FBQ00sSUFBOUI7QUFBb0MsUUFBQSxHQUFHLEVBQUVIO0FBQXpDLFFBQVA7QUFDRDtBQUNGOztBQUVELFNBQU8sNkJBQUMscUJBQUQ7QUFBYyxJQUFBLEdBQUcsRUFBRUgsVUFBVSxDQUFDTSxJQUE5QjtBQUFvQyxJQUFBLEdBQUcsRUFBRU4sVUFBVSxDQUFDTztBQUFwRCxJQUFQO0FBQ0QsQ0FaRDs7QUFjQVQsZUFBZSxDQUFDVSxTQUFoQixHQUE0QjtBQUMxQlQsRUFBQUEsUUFBUSxFQUFFVSxtQkFBVUMsS0FBVixDQUFnQjtBQUN4Qk4sSUFBQUEsV0FBVyxFQUFFSyxtQkFBVUUsS0FBVixDQUFnQkM7QUFETCxHQUFoQixFQUVQQSxVQUh1QjtBQUkxQlosRUFBQUEsVUFBVSxFQUFFUyxtQkFBVUMsS0FBVixDQUFnQjtBQUMxQkgsSUFBQUEsVUFBVSxFQUFFRSxtQkFBVUksTUFBVixDQUFpQkQsVUFESDtBQUUxQk4sSUFBQUEsSUFBSSxFQUFFRyxtQkFBVUk7QUFGVSxHQUFoQixFQUdURDtBQVB1QixDQUE1QjtlQVVlZCxlIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCBJbWFnZUNvbnRlbnQgZnJvbSAnLi9JbWFnZUNvbnRlbnQnO1xuXG5jb25zdCBJbWFnZUF0dGFjaG1lbnQgPSAoeyBhY3Rpdml0eSwgYXR0YWNobWVudCB9KSA9PiB7XG4gIGNvbnN0IHsgYXR0YWNobWVudFRodW1ibmFpbHMgfSA9IGFjdGl2aXR5LmNoYW5uZWxEYXRhIHx8IHt9O1xuXG4gIGlmIChhdHRhY2htZW50VGh1bWJuYWlscykge1xuICAgIGNvbnN0IGF0dGFjaG1lbnRUaHVtYm5haWwgPSBhdHRhY2htZW50VGh1bWJuYWlsc1thY3Rpdml0eS5hdHRhY2htZW50cy5pbmRleE9mKGF0dGFjaG1lbnQpXTtcblxuICAgIGlmIChhdHRhY2htZW50VGh1bWJuYWlsKSB7XG4gICAgICByZXR1cm4gPEltYWdlQ29udGVudCBhbHQ9e2F0dGFjaG1lbnQubmFtZX0gc3JjPXthdHRhY2htZW50VGh1bWJuYWlsfSAvPjtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gPEltYWdlQ29udGVudCBhbHQ9e2F0dGFjaG1lbnQubmFtZX0gc3JjPXthdHRhY2htZW50LmNvbnRlbnRVcmx9IC8+O1xufTtcblxuSW1hZ2VBdHRhY2htZW50LnByb3BUeXBlcyA9IHtcbiAgYWN0aXZpdHk6IFByb3BUeXBlcy5zaGFwZSh7XG4gICAgYXR0YWNobWVudHM6IFByb3BUeXBlcy5hcnJheS5pc1JlcXVpcmVkXG4gIH0pLmlzUmVxdWlyZWQsXG4gIGF0dGFjaG1lbnQ6IFByb3BUeXBlcy5zaGFwZSh7XG4gICAgY29udGVudFVybDogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICAgIG5hbWU6IFByb3BUeXBlcy5zdHJpbmdcbiAgfSkuaXNSZXF1aXJlZFxufTtcblxuZXhwb3J0IGRlZmF1bHQgSW1hZ2VBdHRhY2htZW50O1xuIl19
